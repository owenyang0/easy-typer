(function(t){function e(e){for(var a,i,s=e[0],c=e[1],l=e[2],d=0,p=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&p.push(n[i][0]),n[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);h&&h(e);while(p.length)p.shift()();return r.push.apply(r,l||[]),o()}function o(){for(var t,e=0;e<r.length;e++){for(var o=r[e],a=!0,i=1;i<o.length;i++){var s=o[i];0!==n[s]&&(a=!1)}a&&(r.splice(e--,1),t=c(c.s=o[0]))}return t}var a={},i={app:0},n={app:0},r=[];function s(t){return c.p+"js/"+({"about~changelog~help":"about~changelog~help","about~summary":"about~summary",about:"about",changelog:"changelog",help:"help",summary:"summary",kata:"kata",practice:"practice",setting:"setting"}[t]||t)+"."+{"about~changelog~help":"42f13bb9","about~summary":"d5e7c452",about:"841ae585",changelog:"592f6a81",help:"c22eebb9",summary:"9a6057f3",kata:"61d69772",practice:"4e4e530b",setting:"3058f58c"}[t]+".js"}function c(e){if(a[e])return a[e].exports;var o=a[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,c),o.l=!0,o.exports}c.e=function(t){var e=[],o={about:1,kata:1,practice:1,setting:1};i[t]?e.push(i[t]):0!==i[t]&&o[t]&&e.push(i[t]=new Promise((function(e,o){for(var a="css/"+({"about~changelog~help":"about~changelog~help","about~summary":"about~summary",about:"about",changelog:"changelog",help:"help",summary:"summary",kata:"kata",practice:"practice",setting:"setting"}[t]||t)+"."+{"about~changelog~help":"31d6cfe0","about~summary":"31d6cfe0",about:"a0a0cb00",changelog:"31d6cfe0",help:"31d6cfe0",summary:"31d6cfe0",kata:"6a75c237",practice:"691b3b29",setting:"ff2f260c"}[t]+".css",n=c.p+a,r=document.getElementsByTagName("link"),s=0;s<r.length;s++){var l=r[s],d=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(d===a||d===n))return e()}var p=document.getElementsByTagName("style");for(s=0;s<p.length;s++){l=p[s],d=l.getAttribute("data-href");if(d===a||d===n)return e()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=e,h.onerror=function(e){var a=e&&e.target&&e.target.src||n,r=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=a,delete i[t],h.parentNode.removeChild(h),o(r)},h.href=n;var u=document.getElementsByTagName("head")[0];u.appendChild(h)})).then((function(){i[t]=0})));var a=n[t];if(0!==a)if(a)e.push(a[2]);else{var r=new Promise((function(e,o){a=n[t]=[e,o]}));e.push(a[2]=r);var l,d=document.createElement("script");d.charset="utf-8",d.timeout=120,c.nc&&d.setAttribute("nonce",c.nc),d.src=s(t);var p=new Error;l=function(e){d.onerror=d.onload=null,clearTimeout(h);var o=n[t];if(0!==o){if(o){var a=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;p.message="Loading chunk "+t+" failed.\n("+a+": "+i+")",p.name="ChunkLoadError",p.type=a,p.request=i,o[1](p)}n[t]=void 0}};var h=setTimeout((function(){l({type:"timeout",target:d})}),12e4);d.onerror=d.onload=l,document.head.appendChild(d)}return Promise.all(e)},c.m=t,c.c=a,c.d=function(t,e,o){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(c.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)c.d(o,a,function(e){return t[e]}.bind(null,a));return o},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/",c.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],d=l.push.bind(l);l.push=e,l=l.slice();for(var p=0;p<l.length;p++)e(l[p]);var h=d;r.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("cd49")},1:function(t,e){},10:function(t,e){},"1f11":function(t,e,o){},2:function(t,e){},"2a3d":function(t,e,o){},"2fb4":function(t,e,o){},3:function(t,e){},"3eff":function(t,e,o){},4:function(t,e){},4900:function(t,e,o){"use strict";o("8dbf")},"4c64":function(t,e,o){"use strict";var a=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[e("el-table",{staticClass:"achievements-table",staticStyle:{width:"100%"},attrs:{border:"",data:t.achievements.slice(0,10),stripe:"stripe","cell-class-name":t.tableCellClassName}},[e("el-table-column",{attrs:{prop:"title",type:"expand",label:""},scopedSlots:t._u([{key:"default",fn:function(o){return[e("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(e){return t.handleCopy(o.row)}}},[t._v("复制")]),t._v(" "+t._s(t.generateRecord(o.row))+" ")]}}])}),e("el-table-column",{attrs:{prop:"identity",label:"段号","min-width":"80"}}),e("el-table-column",{attrs:{prop:"typeSpeed",label:"速度","min-width":"70"}}),e("el-table-column",{attrs:{prop:"hitSpeed",label:"击键","min-width":"60"}}),e("el-table-column",{attrs:{prop:"codeLength",label:"码长","min-width":"60"}}),e("el-table-column",{attrs:{prop:"contentLength",label:"字数","min-width":"60"}}),e("el-table-column",{attrs:{prop:"replace",label:"回改","min-width":"60"}}),e("el-table-column",{attrs:{prop:"error",label:"错字","min-width":"60"}}),e("el-table-column",{attrs:{prop:"error",label:"用时(s)","min-width":"70"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.formatTime(e.row.usedTime))+" ")]}}])}),e("el-table-column",{attrs:{prop:"keys",label:"键数","min-width":"60"}}),e("el-table-column",{attrs:{prop:"accuracy",label:"键准(%)","min-width":"80"}}),e("el-table-column",{attrs:{prop:"phraseRate",label:"打词(%)","min-width":"80"}}),e("el-table-column",{attrs:{prop:"title",label:"标题","min-width":"120","show-overflow-tooltip":""}}),e("el-table-column",{attrs:{prop:"finishedTime",label:"结束时间",formatter:t.timeFormatter,width:"166"}})],1),e("div",{staticClass:"pagination-wrapper"},[e("el-pagination",{attrs:{background:"","pager-count":5,layout:"total, prev, pager, next",total:t.totalAchievement},on:{"current-change":t.handleCurrentChange}})],1)],1)},i=[],n=o("9ab4"),r=o("1b40"),s=o("4bb5"),c=o("b510"),l=o("cfc9"),d=o("5a0c"),p=o.n(d);const h=10,u=30;let g=class extends r["c"]{titleFormatter(t,e,o){return(o||"未知").slice(0,16)}tableCellClassName({row:t,column:e}){if("typeSpeed"===e.property){const e=Math.floor(t.typeSpeed/u),o=e>6?6:e;return"speed-lv-"+o}if("accuracy"===e.property){if(100===t.accuracy)return"accuracy-lv-perfect";if(t.accuracy<90)return"accuracy-lv-warn"}return"error"===e.property&&t.error>0?"achievement-error":""}timeFormatter(t,e,o){return p()(o).format("YYYY/MM/DD HH:mm:ss")}formatTime(t,e=3){if(t/=1e3,t<60)return""+t.toFixed(e);const o=t%60,a=(t-o)/60;return`${a.toFixed(0)}:${o.toFixed(e)}`}handleCurrentChange(t){const e=(t-1)*h;l["a"].achievement.reverse().offset(e).limit(10).toArray().then(t=>{this.updateAchievements(t)},t=>{console.log(t)})}generateRecord(t){return`第${t.identity}段 速度${t.typeSpeed} 击键${t.hitSpeed} 码长${t.codeLength} 字数${t.contentLength} 错字${t.error} 用时${this.formatTime(t.usedTime)}秒 暂停${t.pauseCount}次${this.formatTime(t.pauseTime)}秒 键准${t.accuracy}% 键法${t.balance}% 左${t.leftHand} 右${t.rightHand} 理论码长${t.idealCodeLength} 打词${t.phrase} 打词率${t.phraseRate}% 选重${t.selective} 回改${t.replace} 键数${t.keys} 退格${t.backspace} 回车${t.enter} 第${t.retry}次跟打`}handleCopy(t){c["a"].copy(this.generateRecord(t),()=>{this.$message.success(`已复制第${t.identity}段`)},()=>{this.$message.warning("你的浏览器暂不支持自动复制")})}};Object(n["a"])([Object(s["d"])("achievements")],g.prototype,"achievements",void 0),Object(n["a"])([Object(s["d"])("totalAchievements")],g.prototype,"totalAchievement",void 0),Object(n["a"])([Object(s["c"])("updateAchievements")],g.prototype,"updateAchievements",void 0),g=Object(n["a"])([r["a"]],g);var m=g,y=m,f=o("2877"),b=Object(f["a"])(y,a,i,!1,null,null,null);e["a"]=b.exports},5:function(t,e){},"57a3":function(t,e,o){},6:function(t,e){},6011:function(t,e,o){"use strict";o.d(e,"b",(function(){return r})),o.d(e,"e",(function(){return s})),o.d(e,"l",(function(){return c})),o.d(e,"g",(function(){return l})),o.d(e,"k",(function(){return d})),o.d(e,"c",(function(){return p})),o.d(e,"h",(function(){return h})),o.d(e,"i",(function(){return u})),o.d(e,"f",(function(){return g})),o.d(e,"j",(function(){return m})),o.d(e,"d",(function(){return y})),o.d(e,"a",(function(){return f}));var a=o("b9fd"),i=o("e7b9"),n=o("7300");class r{constructor(t,e,o){this.index=0,this.fourthSingle=!1,this.code=e,this.weight=t,void 0!==o&&(this.index=o)}}class s{constructor(t,e,o,a){this.text=e,this.codings=[new r(t,o,a)]}}class c{constructor(t,e,o="",a=!1,i="",n=[]){this.id=t,this.text=e,this.select=i,this.type=o,this.autoSelect=a,this.codings=n}}class l{constructor(){this.status="wait",this.input="",this.time=0,this.start=0,this.keys=[],this.idealKeys="",this.error=0,this.replace=0,this.cleared=0,this.selective=0,this.phrase=0,this.retry=1,this.timer=0,this.pauseCount=0,this.pauseTime=0,this.keyCount=Object(n["a"])()}}class d{constructor(){this.date=0,this.saved="",this.todayWords=0,this.totalWords=0,this.todayErrorWords=0,this.totalErrorWords=0,this.consecutiveDays=0,this.totalDays=0,this.loaded=!1}}class p{constructor(){this.articleTitle="",this.articleText="",this.currentParagraphNo=1,this.indentity=1,this.currentContent="",this.paragraphSize=10,this.mode=0,this.isReading=!1,this.hasTipWarning=!1,this.criteriaOpen=!1,this.criteriaHitSpeed=4,this.criteriaSpeed=40,this.criteriaAchieved=1,this.achievedCount=0,this.criteriaAccuracy=100,this.textType=1,this.criteriaAction="random"}}class h{constructor(){this.books=[],this.bookConf={}}}class u{constructor(){this.dates=[],this.speeds=[],this.hitSpeeds=[],this.codeLengthList=[],this.total=0,this.totalDuration=0,this.todayDuration=0}}class g{constructor(){this.codings=new a["a"],this.summary=new d,this.overallKeyCount=Object(n["a"])(),this.achievements=[],this.totalAchievements=0,this.appVersion=""}}class m{constructor(){this.loaded=!1,this.retryWhenEmpty=!0,this.finishStrategy="LAST_RIGHT",this.fontFamily='"霞鹜文楷 GB","霞鹜文楷 GB 屏幕阅读版","霞鹜文楷 GB 屏幕阅读版 常规","PingFang SC","思源黑体 CN","思源黑体", "Microsoft YaHei","Source Han Sans SC","Noto Sans CJK SC","WenQuanYi Micro Hei",sans-serif,SimSun,Simsum-ExtB,Simsun-ExtG,TH-Sung-TP2,TH-Sung-TP0',this.fontSize="3rem",this.fontWeight=400,this.articleRows=4,this.inputRows=1,this.pending="#606266",this.darkPending="#909399",this.typed="#606266",this.darkTyped="#909399",this.correct="#e5e5e5",this.darkCorrect="#3d444f",this.error="#F56C6C",this.hint=!1,this.pageSize=9,this.maxIndex=0,this.selective="␣23456789",this.nextPage="+",this.selectiveText=" 1234567890;+'＋；’",this.altSelectKey="234567890;'",this.fourthAutoSelect=!0,this.fifthAutoSelect=!0,this.hintOptions=["select","code"],this.disableSingleHint=!1,this.punctuationAutoSelectHint="顶",this.hintColor="#909399",this.code1="#F56C6C",this.code2="#148EBB",this.code3="#D98E15",this.code4="#909399",this.replaceSpace=!0,this.replaceSymbol=!0,this.resultOptions=["identity","typeSpeed","hitSpeed","codeLength","version","accuracy","phraseRate","selective","hash","firstTry","noCodings","accuracyTip","errPenaltyTip","contentLength","error","usedTime","balance"],this.inputMethod=!1,this.inputMethodName="",this.signature=!1,this.signatureText="",this.addToCodings=["numbers","letters","punctuations"],this.punctuations=i["b"],this.addPunctuationToCodings=!1,this.cloak=!0,this.darkMode=!1,this.offClipboard=!1,this.showSidebar=!0,this.lastUpdatedTime=170891422e4}}class y{constructor(){this.authenticated=!1,this.token="",this.user=null}}class f{constructor(){this.id=null,this.identity="",this.title="",this.typeSpeed=0,this.hitSpeed=0,this.codeLength=0,this.contentLength=0,this.accuracy=0,this.balance=0,this.leftHand=0,this.rightHand=0,this.idealCodeLength=0,this.keys=0,this.backspace=0,this.enter=0,this.usedTime=0,this.replace=0,this.selective=0,this.phrase=0,this.phraseRate=0,this.pauseCount=0,this.pauseTime=0,this.finishedTime=Date.now()}}},"6b18":function(t,e,o){},7:function(t,e){},7300:function(t,e,o){"use strict";o.d(e,"b",(function(){return a})),o.d(e,"a",(function(){return i}));const a=new Map([["Escape",{key:"⎋",fn:!0,finger:0,row:0}],["F1",{key:"",fn:!0,finger:0,row:0}],["F2",{key:"",fn:!0,finger:0,row:0}],["F3",{key:"",fn:!0,finger:0,row:0}],["F4",{key:"",fn:!0,finger:0,row:0}],["F5",{key:"",fn:!0,finger:0,row:0}],["F6",{key:"",fn:!0,finger:0,row:0}],["F7",{key:"",fn:!0,finger:0,row:0}],["F8",{key:"",fn:!0,finger:0,row:0}],["F9",{key:"",fn:!0,finger:0,row:0}],["F10",{key:"",fn:!0,finger:0,row:0}],["F11",{key:"",fn:!0,finger:0,row:0}],["F12",{key:"",fn:!0,finger:0,row:0}],["PrintScreen",{key:"",fn:!0,finger:9,row:0}],["ScrollLock",{key:"",fn:!0,finger:9,row:0}],["Pause",{key:"⏸",fn:!0,finger:9,row:0}],["Backquote",{key:"`",finger:0,row:1,coord:[35,120]}],["Digit1",{key:"1",finger:0,row:1,coord:[90,120]}],["Digit2",{key:"2",finger:1,row:1,coord:[144,120]}],["Digit3",{key:"3",finger:2,row:1,coord:[198,120]}],["Digit4",{key:"4",finger:3,row:1,coord:[253,120]}],["Digit5",{key:"5",finger:3,row:1,coord:[307,120]}],["Digit6",{key:"6",finger:5,row:1,coord:[361,120]}],["Digit7",{key:"7",finger:5,row:1,coord:[415,120]}],["Digit8",{key:"8",finger:6,row:1,coord:[469,120]}],["Digit9",{key:"9",finger:7,row:1,coord:[524,120]}],["Digit0",{key:"0",finger:8,row:1,coord:[579,120]}],["Minus",{key:"-",finger:8,row:1,coord:[630,120]}],["Equal",{key:"=",finger:8,row:1,coord:[685,120]}],["Backspace",{key:"⌫",fn:!0,finger:9,row:1,coord:[751,120]}],["Insert",{key:"",fn:!0,finger:9,row:1}],["Home",{key:"⇤",fn:!0,finger:9,row:1}],["PageUp",{key:"«",fn:!0,finger:9,row:1}],["Tab",{key:"⇆",fn:!0,finger:0,row:2,coord:[50,174]}],["KeyQ",{key:"q",finger:0,row:2,coord:[115,174]}],["KeyW",{key:"w",finger:1,row:2,coord:[169,174]}],["KeyE",{key:"e",finger:2,row:2,coord:[224,174]}],["KeyR",{key:"r",finger:3,row:2,coord:[278,174]}],["KeyT",{key:"t",finger:3,row:2,coord:[332,174]}],["KeyY",{key:"y",finger:5,row:2,coord:[386,174]}],["KeyU",{key:"u",finger:5,row:2,coord:[440,174]}],["KeyI",{key:"i",finger:6,row:2,coord:[494,174]}],["KeyO",{key:"o",finger:7,row:2,coord:[548,174]}],["KeyP",{key:"p",finger:8,row:2,coord:[602,174]}],["BracketLeft",{key:"[",finger:8,row:2,coord:[656,174]}],["BracketRight",{key:"]",finger:8,row:2,coord:[710,174]}],["Backslash",{key:"\\",finger:8,row:2,coord:[764,174]}],["Delete",{key:"⌦",fn:!0,finger:9,row:2}],["End",{key:"⇥",fn:!0,finger:9,row:2}],["PageDown",{key:"»",fn:!0,finger:9,row:2}],["CapsLock",{key:"⇪",fn:!0,finger:0,row:3,coord:[58,225]}],["KeyA",{key:"a",finger:0,row:3,coord:[130,225]}],["KeyS",{key:"s",finger:1,row:3,coord:[184,225]}],["KeyD",{key:"d",finger:2,row:3,coord:[238,225]}],["KeyF",{key:"f",finger:3,row:3,coord:[292,225]}],["KeyG",{key:"g",finger:3,row:3,coord:[346,225]}],["KeyH",{key:"h",finger:5,row:3,coord:[400,225]}],["KeyJ",{key:"j",finger:5,row:3,coord:[454,225]}],["KeyK",{key:"k",finger:6,row:3,coord:[508,225]}],["KeyL",{key:"l",finger:7,row:3,coord:[562,225]}],["Semicolon",{key:";",finger:8,row:3,coord:[616,225]}],["Quote",{key:"'",finger:8,row:3,coord:[670,225]}],["Enter",{key:"⏎",fn:!0,finger:8,row:3,coord:[745,225]}],["ShiftLeft",{key:"⇧",fn:!0,finger:0,row:4,coord:[69,275]}],["KeyZ",{key:"z",finger:0,row:4,coord:[158,275]}],["KeyX",{key:"x",finger:1,row:4,coord:[212,275]}],["KeyC",{key:"c",finger:2,row:4,coord:[266,275]}],["KeyV",{key:"v",finger:3,row:4,coord:[320,275]}],["KeyB",{key:"b",finger:3,row:4,coord:[374,275]}],["KeyN",{key:"n",finger:5,row:4,coord:[428,275]}],["KeyM",{key:"m",finger:5,row:4,coord:[482,275]}],["Comma",{key:",",finger:6,row:4,coord:[536,275]}],["Period",{key:".",finger:7,row:4,coord:[590,275]}],["Slash",{key:"/",finger:8,row:4,coord:[644,275]}],["ShiftRight",{key:"⇧",fn:!0,finger:8,row:4,coord:[730,275]}],["ArrowUp",{key:"↑",fn:!0,finger:9,row:4}],["ControlLeft",{key:"⌃",fn:!0,finger:0,row:5}],["AltLeft",{key:"⌥",fn:!0,finger:0,row:5}],["MetaLeft",{key:"⌘",fn:!0,finger:0,row:5}],["Space",{key:"␣",finger:4,row:5,coord:[380,329]}],["ControlRight",{key:"⌃",fn:!0,finger:8,row:5}],["MetaRight",{key:"⌘",fn:!0,finger:8,row:5}],["AltRight",{key:"⌥",fn:!0,finger:8,row:5}],["ArrowLeft",{key:"←",fn:!0,finger:9,row:5}],["ArrowDown",{key:"↓",fn:!0,finger:9,row:0}],["ArrowRight",{key:"→",fn:!0,finger:9,row:0}]]);function i(){const t={};for(const e of a.keys())t[e]=0;return t}},8:function(t,e){},"8ce9":function(t,e,o){"use strict";o("6b18")},"8dbf":function(t,e,o){},9:function(t,e){},b0a1:function(t,e,o){"use strict";o("3eff")},b510:function(t,e,o){"use strict";o.d(e,"a",(function(){return a}));class a{static createFake(t,e,o,a){const i=document.createElement("textarea");i.setAttribute("style","position: absoluteoverflow: hiddenwidth: 0height: 0top: 0left: 0"),i.innerText=t,document.body.appendChild(i),i.select();try{document.execCommand(e),i.remove()}catch(n){a(n)}o()}static copy(t,e,o){navigator.clipboard&&navigator.clipboard.writeText?navigator.clipboard.writeText(t).then(()=>(e&&e(),t),t=>{o&&o(t)}):this.createFake(t,"copy",()=>{e&&e()},t=>{o&&o(t)})}}},b9fd:function(t,e,o){"use strict";o.d(e,"a",(function(){return n})),o.d(e,"b",(function(){return l}));o("14d9");var a=o("6011");const i=(t,e)=>t.weight-e.weight;class n{static convert(t){const e=new n;if(e.value=t.value,t.children){e.children=new Map;for(const o of t.children.entries())e.children.set(o[0],this.convert(o[1]))}return e}get(t){if(!this.children)return null;const e=this.children.get(t);return e||null}set(t){this.children||(this.children=new Map);const e=new n;return this.children.set(t,e),e}}class r{constructor(){this.root=new n}put(t,e,o=-1){let i=this.root;for(const a of t){let t=i.get(a);t||(t=i.set(a)),i=t}const n=e.length,r=10*(-1===o||0===o&&4===n?n+.05:n+1)+Math.max(o,0);if(i.value){const{codings:t}=i.value;t.findIndex(t=>t.code===e)<0&&t.push(new a["b"](r,e,o))}else i.value=new a["e"](r,t,e,o)}get(t){let e=this.root;for(const o of t){const t=e.get(o);if(!t)return;e=t}return e.value}sort(t){if(t||(t=this.root),t.value&&t.value.codings.length>1&&t.value.codings.sort(i),t.children)for(const e of t.children.values())this.sort(e)}}const s=(t,e,o)=>{for(let a=e;a<=o;a++){const e=String.fromCharCode(a);t.put(e,e,-1)}};class c{constructor(t){this.count=1,this.text=t}increase(){this.count+=1}}function l(t){const e=new r,o=t.split(/[\r\n]/),a=new Map;let i=0,n="";o.map(t=>t.split("\t")).filter(t=>2===t.length).forEach(t=>{const o=t[0],r=t[1];if(4===r.length){const t=a.get(r);t?t.increase():a.set(r,new c(o))}r===n?++i:(i=0,n=r),e.put(o,r,i)});for(const[r,s]of a.entries()){if(s.count>1)continue;const t=e.get(s.text);t&&t.codings.filter(t=>t.code===r).every(t=>{t.fourthSingle=!0,t.weight-=.2})}return s(e,48,57),s(e,65,90),s(e,97,122),e}},beda:function(t,e,o){"use strict";(function(t){o.d(e,"b",(function(){return T}));o("d9e2");var a=o("1c46"),i=o("bc3a"),n=o.n(i);const r="3198f2e6892d5bdd0630505e20acfc849a12e03c5a1da4c5c41a180c44c67eeb85ef0bc6992d9b0c3926da22ebaa55346bcd76d8556321e044530eff3d868e2636514072",s=n.a.create({baseURL:"/",responseType:"json"});s.interceptors.request.use(t=>{const e=window.etg&&window.etg.e(t);return t.headers["X-Etsig"]=e,{...t,headers:t.headers}}),s.interceptors.response.use(t=>{const{data:e}=t;return 0===e.code?e.data:Promise.reject(new Error(e.msg))},t=>Promise.reject(t)),n.a.defaults.baseURL="/",n.a.defaults.responseType="json",n.a.interceptors.response.use(t=>{const{data:e}=t;return e.success&&0===e.code?t.data.data:Promise.reject(new Error(e.msg))},t=>Promise.reject(t));const c=t=>{t&&(n.a.defaults.headers.common.Authorization="Bearer "+t)},l=t=>n.a.post("/login",t),d=()=>n.a.post("/logout"),p=()=>n.a.get("/groups").then(t=>t.data.filter(t=>"unjoined"!==t.role)),h=t=>n.a.get("/matches",{params:{guid:t,status:1}}).then(t=>t&&t.data&&0!==t.data.length?t.data[0]:Promise.reject(new Error("没有赛文"))),u="sha1",g="hex",m=(()=>{const e=[],o=[],i=[],n=r.substr(-8).split("").map(t=>parseInt(t));for(let t=0;t<n.length;t++){const a=n[t],s=r.substr(16*t,16);a<4?e[a]=s:a>5?i[a-6]=s:o[a-4]=s}const s=a["createDecipheriv"]("aes-256-cbc",t.from(e.join(""),g),t.from(o.join(""),g));s.update(i.join(""),g);const c=s.final();return c.readInt32BE(0)})(),y=t=>{const e=a["createHmac"](u,m.toFixed(0)),o=e.update(t).digest(g);return o.substr(-8)},f=(t,e)=>{const o=/^-----第(\d+)段-(\d+)Z-(.+)V--xc.sw.*$/.exec(e);if(!o)return!0;const a=o[1],i=o[2];return t.length===parseInt(i)&&y(`${t}-${a}`)===o[3]},b=()=>s.get("/api/r/articles/random"),v=()=>s.get("/api/r/articles/today"),w=()=>s.get("/api/r/news/today"),k=()=>s.get("/api/r/histories/today"),S=()=>s.get("/api/r/kata/list"),C=t=>s.get("/api/r/kata/option/"+t),O=()=>C(44),j=()=>C(45),x=()=>C(46),T={updateToken:c,login:l,logout:d,sha1Hmac:y,verify:f,groups:p,matches:h,getRandomArticle:b,getTodayArticle:v,getTodayNews:w,getKataList:S,getTodayHistories:k,getKataOptionById:C,getSingleFront500:O,getSingleMiddle500:j,getSingleEnd500:x};e["a"]=T}).call(this,o("b639").Buffer)},cd49:function(t,e,o){"use strict";o.r(e);var a=o("2b0e"),i=o("5c96"),n=o.n(i),r=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{attrs:{id:"app"}},[e("el-progress",{attrs:{type:"line",percentage:t.percentage,width:100,color:t.customColors,"stroke-width":4,"show-text":!1,"define-back-color":"transparent"}}),e("el-row",{staticClass:"menu-row"},[e("el-col",{staticClass:"menu-col",attrs:{span:24}},[e("el-menu",{attrs:{router:!1,"default-active":t.pathname,"active-text-color":"#eb9010",mode:"horizontal"},on:{select:t.handleSelect}},[e("el-menu-item",{attrs:{index:"/portal"}},[e("i",{staticClass:"el-icon-s-promotion"}),e("span",{attrs:{slot:"title"},slot:"title"},[t._v("门户")])]),e("el-menu-item",{attrs:{index:"/app"}},[e("i",{staticClass:"el-icon-odometer"}),e("span",{attrs:{slot:"title"},slot:"title"},[t._v("跟打")])]),e("el-submenu",{attrs:{index:"/func"}},[e("template",{slot:"title"},[e("i",{staticClass:"el-icon-mouse"}),t._v("功能")]),e("el-menu-item",{attrs:{index:"/kata"}},[e("i",{staticClass:"el-icon-printer"}),e("span",{attrs:{slot:"title"},slot:"title"},[t._v("发文 - 选择练习文本(F2)")])]),e("el-menu-item",{attrs:{index:"/reading"}},[e("i",{staticClass:"el-icon-reading"}),e("span",{attrs:{slot:"title"},slot:"title"},[t._v("阅读 - 上传书籍&跟打阅读")])]),e("el-menu-item",{attrs:{index:"/practice"}},[e("i",{staticClass:"el-icon-aim"}),e("span",{attrs:{slot:"title"},slot:"title"},[t._v("词库练习")])]),e("el-menu-item",{attrs:{index:"/setting"}},[e("i",{staticClass:"el-icon-setting"}),e("span",{attrs:{slot:"title"},slot:"title"},[t._v("设置")])])],2),e("el-submenu",{attrs:{index:"/stat"}},[e("template",{slot:"title"},[e("i",{staticClass:"el-icon-data-analysis"}),t._v("统计")]),e("el-menu-item",{attrs:{index:"/history"}},[e("i",{staticClass:"el-icon-data-line"}),e("span",{attrs:{slot:"title"},slot:"title"},[t._v("跟打历史")])]),e("el-menu-item",{attrs:{index:"/summary"}},[e("i",{staticClass:"el-icon-s-data"}),e("span",{attrs:{slot:"title"},slot:"title"},[t._v("键盘统计")])])],2),e("el-submenu",{attrs:{index:"/help"}},[e("template",{slot:"title"},[e("i",{staticClass:"el-icon-help"}),t._v("帮助")]),e("el-menu-item",{attrs:{index:"/help"}},[e("i",{staticClass:"el-icon-question"}),e("span",{attrs:{slot:"title"},slot:"title"},[t._v("使用帮助")])]),e("el-menu-item",{attrs:{index:"/changelog"}},[e("i",{staticClass:"el-icon-time"}),e("span",{attrs:{slot:"title"},slot:"title"},[t._v("版本记录")])]),e("el-menu-item",{attrs:{index:"/download"}},[e("i",{staticClass:"el-icon-download"}),e("span",{attrs:{slot:"title"},slot:"title"},[t._v("程序下载")])]),e("el-menu-item",{attrs:{index:"/easy-typer-faq"}},[e("i",{staticClass:"el-icon-s-opportunity"}),e("span",{attrs:{slot:"title"},slot:"title"},[t._v("常见问题FAQ与反馈")])]),e("el-menu-item",{attrs:{index:"/about"}},[e("i",{staticClass:"el-icon-warning"}),e("span",{attrs:{slot:"title"},slot:"title"},[t._v("关于")])])],2),e("el-menu-item",{attrs:{index:"/buy-me-a-coffee"}},[e("i",{staticClass:"el-icon-wallet"}),e("span",{attrs:{slot:"title"},slot:"title"},[t._v("支持赞助")])]),e("el-menu-item",{attrs:{index:"/tiger"}},[e("i",{staticClass:"el-icon-link"}),e("span",{attrs:{slot:"title"},slot:"title"},[t._v("虎码官网")])])],1)],1)],1),e("div",{staticClass:"content-row"},[e("router-view")],1),e("div",{staticStyle:{height:"1px"}})],1)},s=[],c=(o("14d9"),o("9ab4")),l=o("1b40"),d=o("b9fd"),p=o("cfc9"),h=o("4bb5"),u=o("beda");const g=Object(h["e"])("setting"),m=Object(h["e"])("login"),y=Object(h["e"])("summary"),f=Object(h["e"])("racing"),b=Object(h["e"])("kata"),v=Object(h["e"])("article");let w=class extends l["c"]{constructor(){super(...arguments),this.pathname=location.pathname,this.loginFormVisible=!1,this.auth={username:"",password:""},this.customColors=[{color:"#f56c6c",percentage:20},{color:"#ff804b",percentage:40},{color:"#5cb87a",percentage:60},{color:"#1989fa",percentage:80},{color:"#015a4f",percentage:100}]}get percentage(){const t=100*Math.min(this.progress||0,1);return parseFloat(t.toFixed(2))}handleSelect(t,e){if("/kata"!==t&&"/reading"!==t)"/tiger"!==t?"/easy-typer-faq"!==t?"/buy-me-a-coffee"!==t?"/random"!==t?"/next"!==t?"/portal"!==t?this.$router.push(t).catch(t=>t):location.href="/portal":this.next():this.random():location.href="https://blog.owenyang.top/buy-me-a-coffee":location.href="https://blog.owenyang.top/easy-typer-faq":window.open("https://tiger-code.com/","_blank");else{if(this.hasTipWarning)return;1===this.mode?(this.updateTipWarning(!0),this.$confirm("正在发文，是否结束发文？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.updateTipWarning(!1),this.$router.push(t).catch(t=>t)}).catch(()=>{this.updateTipWarning(!1)})):this.$router.push(t).catch(t=>t)}}doLogin(){u["a"].login(this.auth).then(t=>{const{token:e,user:o}=t;localStorage.token=e,localStorage.user=JSON.stringify(o),this.login(t),this.loginFormVisible=!1},t=>{this.$message.error(t.message)})}doLogout(){u["a"].logout().then(()=>{this.logout(),this.$message.success("注销成功")},t=>{this.$message.error(t.message)})}created(){this.$router.beforeEach((t,e,o)=>{this.pathname=t.fullPath,o()});const t=location.hash.replace("#","");if(t&&(this.pathname=t,this.$router.push(t)),window.electronAPI&&window.electronAPI.getAppVersion&&window.electronAPI&&window.electronAPI.getAppVersion((t,e)=>{this.setAppVersion(e)}),localStorage.user&&localStorage.token){const{token:t,user:e}=localStorage;this.login({token:t,user:JSON.parse(e)})}p["a"].configs.get("setting").then(t=>{t&&(this.loadSetting(t),console.log("Settings loaded"))}),p["a"].configs.get("codings").then(t=>{if(t){const e=d["a"].convert(t);this.updateCodings(e),console.log("Trie tree loaded")}}),p["a"].summary.get("keyCount").then(t=>{t&&(delete t.id,this.summaryKeyCount(t),console.log("Key count summary loaded"))}),p["a"].summary.get("wordCount").then(t=>{t?(console.log("Word count loaded"),this.wordCountLoaded(t)):(console.log("Word count init"),this.wordCountInit())}),p["a"].achievement.count().then(t=>{this.updateTotalAchievements(t)}),p["a"].achievement.reverse().limit(10).toArray().then(t=>{this.updateAchievements(t)},t=>{console.log(t)})}};Object(c["a"])([Object(h["a"])("updateCodings")],w.prototype,"updateCodings",void 0),Object(c["a"])([Object(h["a"])("setAppVersion")],w.prototype,"setAppVersion",void 0),Object(c["a"])([Object(h["a"])("summaryKeyCount")],w.prototype,"summaryKeyCount",void 0),Object(c["a"])([g.Action("load")],w.prototype,"loadSetting",void 0),Object(c["a"])([m.State("user")],w.prototype,"loginUser",void 0),Object(c["a"])([m.State("authenticated")],w.prototype,"authenticated",void 0),Object(c["a"])([m.Action("login")],w.prototype,"login",void 0),Object(c["a"])([m.Action("logout")],w.prototype,"logout",void 0),Object(c["a"])([y.Action("loaded")],w.prototype,"wordCountLoaded",void 0),Object(c["a"])([y.Action("init")],w.prototype,"wordCountInit",void 0),Object(c["a"])([Object(h["c"])("updateAchievements")],w.prototype,"updateAchievements",void 0),Object(c["a"])([Object(h["c"])("updateTotalAchievements")],w.prototype,"updateTotalAchievements",void 0),Object(c["a"])([f.Getter("progress")],w.prototype,"progress",void 0),Object(c["a"])([b.State("mode")],w.prototype,"mode",void 0),Object(c["a"])([b.State("hasTipWarning")],w.prototype,"hasTipWarning",void 0),Object(c["a"])([b.Action("updateTipWarning")],w.prototype,"updateTipWarning",void 0),Object(c["a"])([v.Action("random")],w.prototype,"random",void 0),Object(c["a"])([v.Action("init")],w.prototype,"init",void 0),Object(c["a"])([b.Action("next")],w.prototype,"next",void 0),w=Object(c["a"])([l["a"]],w);var k=w,S=k,C=(o("4900"),o("2877")),O=Object(C["a"])(S,r,s,!1,null,"2c6cb4ba",null),j=O.exports,x=o("9483");Object(x["a"])("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(t){console.log("Service worker has been registered."),setInterval(()=>{t.update(),console.log("Service worker has updated.")},36e5)},cached(){console.log("Content has been cached for offline use.")},updatefound(){i["Notification"].info("发现新版本，正在下载...")},updated(){i["Notification"].info("新版本下载完成，若想马上使用，可关闭所有标签后『重开』浏览器即可使用最新版本")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(t){console.error("Error during service worker registration:",t)}});var T=o("8c4f"),_=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"page-content page-home no-bg",attrs:{id:"home"}},[e("el-container",[e("Indicator"),e("el-main",{style:t.styles,attrs:{id:"home-main"}},[e("div",{staticClass:"toolbar-wrapper"},[e("el-row",{staticClass:"toolbar"},[e("el-col",{attrs:{span:24}},[e("el-button-group",[e("el-tooltip",{attrs:{content:t.indicatorTooltipText,placement:"top"}},[e("el-button",{staticClass:"indicator-real",staticStyle:{width:"220px"},attrs:{size:"mini",icon:"el-icon-caret-right"},on:{click:t.toggleSidebar}},[t._v("速度"),e("span",{staticClass:"val"},[t._v(t._s(t.typeSpeed))]),t._v(" | 击键"),e("span",{staticClass:"val"},[t._v(t._s(t.hitSpeed))]),t._v(" | 码长"),e("span",{staticClass:"val"},[t._v(t._s(t.codeLength))])])],1),e("el-button",{attrs:{size:"mini",icon:"el-icon-refresh"},on:{click:t.retry}},[t._v("重打(F3)")]),e("el-button",{directives:[{name:"popover",rawName:"v-popover:popoverStyle",arg:"popoverStyle"}],attrs:{size:"mini",icon:"el-icon-setting"}},[t._v("样式")]),e("el-tooltip",{attrs:{content:"继续发文 - 恢复历史跟打进度",placement:"top"}},[e("el-button",{attrs:{size:"mini",icon:"el-icon-timer"},on:{click:t.continueKataDialog}},[t._v("继续发文")])],1),e("el-dropdown",{staticClass:"dropdown-operation",attrs:{size:"mini",icon:t.triggerIcon,type:t.triggerType,"split-button":"",trigger:t.triggerMethod,"hide-on-click":"","show-timeout":0},on:{click:t.trigger,command:t.handleCommand}},[e("i",{class:t.triggerIcon}),e("span",[t._v(t._s(t.triggerText))]),e("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e("el-dropdown-item",{attrs:{icon:"el-icon-document-copy",command:"loadClipboard"}},[t._v("粘贴 - 剪贴板载文")]),e("el-dropdown-item",{attrs:{icon:"el-icon-document",command:"loadText"}},[t._v("手动载文")]),e("el-dropdown-item",{attrs:{icon:"el-icon-refresh",command:"retry",divided:""}},[t._v("重打(F3)")]),e("el-dropdown-item",{attrs:{icon:"el-icon-edit-outline",command:"random"}},[t._v("乱序(Ctrl+L)")]),e("el-dropdown-item",{attrs:{icon:"el-icon-back",command:"prev"}},[t._v("上一段(Ctrl+U)")]),e("el-dropdown-item",{attrs:{icon:"el-icon-right",command:"next"}},[t._v("下一段(Ctrl+P)")]),e("el-dropdown-item",{attrs:{icon:"el-icon-medal",command:"dailyArticle",divided:""}},[t._v("每日一文")]),e("el-dropdown-item",{attrs:{icon:"el-icon-tickets",command:"randomArticle"}},[t._v("随机文章")]),e("el-dropdown-item",{attrs:{icon:"el-icon-news",command:"dailyNews"}},[t._v("今日新闻")]),e("el-dropdown-item",{attrs:{icon:"el-icon-thumb",command:"todayHistories"}},[t._v("历史上的今天")]),e("el-dropdown-item",{attrs:{icon:"el-icon-warning-outline",command:"singleFront500",divided:"",disabled:""}},[t._v("与发文共享指标")]),e("el-dropdown-item",{attrs:{icon:"el-icon-trophy",command:"singleFront500"}},[t._v("前500 10字[乱]")]),e("el-dropdown-item",{attrs:{icon:"el-icon-trophy",command:"singleMiddle500"}},[t._v("中500 10字[乱]")]),e("el-dropdown-item",{attrs:{icon:"el-icon-trophy",command:"singleEnd500"}},[t._v("后500 10字[乱]")]),e("el-dropdown-item",{attrs:{icon:"el-icon-coffee",command:"letters"}},[t._v("字母 50字")]),e("el-dropdown-item",{attrs:{icon:"el-icon-ice-tea",command:"lettersMix"}},[t._v("字母大小写 50字")]),e("el-dropdown-item",{attrs:{icon:"el-icon-ice-drink",command:"numbers"}},[t._v("数字 50字")]),e("el-dropdown-item",{attrs:{icon:"el-icon-milk-tea",command:"lettersAndNumbers"}},[t._v("字母数字混 50字")]),e("el-dropdown-item",{attrs:{icon:"el-icon-reading",command:"yuedu",divided:""}},[t._v("每日一读，沉浸经典")])],1)],1)],1),e("el-popover",{ref:"popoverStyle",attrs:{placement:"bottom",width:"300","popper-class":"article-set-popover",trigger:"click"},on:{hide:t.handleSettingHide}},[e("div",{staticClass:"article-settings"},[e("el-row",[e("el-col",{attrs:{span:5,offset:1}},[e("div",{staticClass:"article-settings_item"},[e("span",{staticClass:"label"},[t._v("字号")]),e("el-slider",{attrs:{vertical:"",max:8,min:1,step:.1,"show-tooltip":!1,height:"100px"},on:{change:t.handleSliderChange},model:{value:t.tempFontSize,callback:function(e){t.tempFontSize=e},expression:"tempFontSize"}})],1)]),e("el-col",{attrs:{span:5,offset:1}},[e("div",{staticClass:"article-settings_item"},[e("span",{staticClass:"label"},[t._v("字重")]),e("el-slider",{attrs:{vertical:"",max:900,min:100,step:100,"show-tooltip":!1,height:"100px"},on:{change:t.handleSliderChange},model:{value:t.tempFontWeight,callback:function(e){t.tempFontWeight=e},expression:"tempFontWeight"}})],1)]),e("el-col",{attrs:{span:5,offset:1}},[e("div",{staticClass:"article-settings_item"},[e("span",{staticClass:"label"},[t._v("对照行高")]),e("el-slider",{attrs:{vertical:"",max:12,min:1,step:1,"show-tooltip":!1,height:"100px"},on:{change:t.handleSliderChange},model:{value:t.tempArticleRows,callback:function(e){t.tempArticleRows=e},expression:"tempArticleRows"}})],1)]),e("el-col",{attrs:{span:5,offset:1}},[e("div",{staticClass:"article-settings_item"},[e("span",{staticClass:"label"},[t._v("跟打行高")]),e("el-slider",{attrs:{vertical:"",max:4,min:1,step:1,"show-tooltip":!1,height:"100px"},on:{change:t.handleSliderChange},model:{value:t.tempInputRows,callback:function(e){t.tempInputRows=e},expression:"tempInputRows"}})],1)])],1)],1)])],1)],1),e("el-divider",{staticClass:"mini"})],1),e("div",[e("el-row",[e("el-col",{attrs:{span:24}},[e("Article",{ref:"article"})],1)],1),e("el-row",[e("el-col",{attrs:{span:24}},[e("Racing",{ref:"racing"})],1)],1),e("el-row",{staticStyle:{"margin-top":"20px"}},[e("el-col",{attrs:{span:24}},[e("Achievements")],1)],1)],1)])],1),e("el-dialog",{staticClass:"dialog-kata",attrs:{visible:t.showKataHistoryDialog,title:"继续发文 - 恢复历史跟打记录"},on:{"update:visible":function(e){t.showKataHistoryDialog=e}}},[0===t.historyList.length?e("el-empty",{attrs:{description:"暂无记录"}}):t._e(),e("el-timeline",t._l(t.historyList,(function(o){return e("el-timeline-item",{key:o.articleTitle,attrs:{icon:o.icon,type:o.type,color:o.color,size:o.size,placement:"top",timestamp:o.timestamp}},[e("el-card",{staticClass:"box-card"},[e("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e("span",[t._v(t._s(o.articleTitle))]),e("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:function(e){return t.handleContinue(o.articleTitle)}}},[t._v("继续发文")])],1),e("div",{staticClass:"kata-history-item oneline"},[e("el-tag",{attrs:{size:"mini",type:"primary"}},[t._v("当前摘要")]),t._v(" "+t._s(o.currentContent)+" ")],1),e("div",{staticClass:"kata-history-item"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:18}},[o.criteriaOpen?e("el-tag",{attrs:{size:"mini",type:"success"}},[t._v("指标开启")]):e("el-tag",{attrs:{size:"mini",type:"warning"}},[t._v("指标关闭")]),t._v(" 进度"+t._s(o.currentParagraphNo)+"/"+t._s(o.paragraphCount)+" | 击键≥"+t._s(o.criteriaHitSpeed)+" | 速度≥"+t._s(o.criteriaSpeed)+" | 键准≥"+t._s(o.criteriaAccuracy)+" | 达标次数≥"+t._s(o.criteriaAchieved)+" "),e("el-tag",{attrs:{size:"mini"}},[t._v("『否则』 "+t._s(t.getCriteriaActionText(o.criteriaAction)))])],1),e("el-col",{attrs:{span:6}},[e("el-progress",{attrs:{percentage:Math.floor(o.currentParagraphNo/o.paragraphCount*100)}})],1)],1)],1)])],1)})),1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{type:"primary"},on:{click:function(e){t.showKataHistoryDialog=!1}}},[t._v("关 闭")])],1)],1),e("el-dialog",{staticClass:"load-text",attrs:{visible:t.showLoadDialog,title:"手动载文"},on:{"update:visible":function(e){t.showLoadDialog=e}}},[e("el-input",{attrs:{type:"textarea",rows:8,placeholder:"请输入内容"},model:{value:t.articleText,callback:function(e){t.articleText=e},expression:"articleText"}}),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.showLoadDialog=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.manuallyLoadArticle}},[t._v("确 定")])],1)],1)],1)},A=[],M=(o("d9e2"),function(){var t=this,e=t._self._c;t._self._setupProxy;return e("el-aside",{directives:[{name:"show",rawName:"v-show",value:t.showSidebar,expression:"showSidebar"}],staticClass:"indicator-container",attrs:{width:"210px"}},[e("div",{staticClass:"indicator"},[e("el-card",{attrs:{shadow:"never"}},[e("el-row",[e("el-col",{staticClass:"speed",attrs:{span:24}},[t._v(" "+t._s(t.typeSpeed)+" ")])],1),e("el-row",[e("el-col",{attrs:{span:8}},[e("div",{staticClass:"hint-block"},[e("span",{staticClass:"number"},[t._v(t._s(t.hitSpeed))]),e("span",{staticClass:"desc"},[e("el-button",{attrs:{type:"text"}},[t._v("击键")])],1)])]),e("el-col",{attrs:{span:8}},[e("div",{staticClass:"hint-block"},[e("span",{staticClass:"number"},[t._v(t._s(t.codeLength))]),e("span",{staticClass:"desc"},[e("el-button",{attrs:{type:"text"},on:{click:t.showInputKeys}},[t._v("码长")])],1)])]),e("el-col",{attrs:{span:8}},[e("div",{staticClass:"hint-block"},[e("span",{staticClass:"number"},[t._v(t._s(t.idealCodeLength))]),e("span",{staticClass:"desc"},[e("el-button",{attrs:{type:"text"},on:{click:t.showIdealCodes}},[t._v("理想")])],1)])])],1)],1),"waiting"!==t.status&&"finished"!==t.status?e("el-card",{staticClass:"code-hint",attrs:{shadow:"never"}},t._l(t.wordsHint,(function(o){return e("div",{key:o.text},[e("span",{attrs:{type:"info"}},[t._v(t._s(o.text)+"：")]),t._l(o.codings,(function(o){return e("span",{key:o.code},[t._v(t._s(o.code+t.getSelectChar(o.index,o.length)))])}))],2)})),0):t._e(),e("el-card",{staticClass:"card-gradient",attrs:{shadow:"never"}},[e("div",{staticClass:"indicator-action"},[e("el-button",{attrs:{size:"mini",type:"success",plain:""},on:{click:t.handleRandomReading}},[t._v("随机文章")]),e("el-button",{attrs:{size:"mini",type:"success",plain:""},on:{click:t.handleTodayReading}},[t._v("每日一文")]),e("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:t.handleTodayNews}},[t._v("今日新闻")]),e("el-button",{attrs:{size:"mini",disabled:"",plain:""}},[t._v("更多期待")]),e("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(e){return t.handleTodayHistory("simple")}}},[t._v("历史上的今天")]),e("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(e){return t.handleTodayHistory("detail")}}},[t._v("详细")]),e("div",{staticStyle:{"margin-top":"12px"}},[e("el-button",{attrs:{size:"mini",type:"text"},on:{click:t.handleReadingClick}},[t._v("每日一读，沉浸经典")])],1)],1)]),e("el-card",{attrs:{shadow:"never"}},[e("div",{staticClass:"key-value"},[e("span",[t._v("今日错/对")]),e("span",[t._v(t._s(t._f("numberWithCommas")(t.todayErrorWords))+"/"+t._s(t._f("numberWithCommas")(t.todayWords-t.todayErrorWords)))])]),e("div",{staticClass:"key-value"},[e("span",[t._v("总字")]),e("span",[t._v(t._s(t._f("numberWithCommas")(t.totalWords)))])]),e("div",{staticClass:"key-value"},[e("span",[t._v("天数")]),e("span",[t._v(t._s(t.consecutiveDays)+"/"+t._s(t._f("numberWithCommas")(t.totalDays)))])]),e("div",{staticClass:"key-value"},[e("span",[t._v("退格")]),e("span",[t._v(t._s(t.backspace))])]),e("div",{staticClass:"key-value"},[e("span",[t._v("回车")]),e("span",[t._v(t._s(t.enter))])]),e("div",{staticClass:"key-value"},[e("span",[t._v("回改")]),e("span",[t._v(t._s(t.replace))])]),e("div",{staticClass:"key-value"},[e("span",[t._v("打词")]),e("span",[t._v(t._s(t.phrase))])]),e("div",{staticClass:"key-value"},[e("span",[t._v("选重")]),e("span",[t._v(t._s(t.selective))])]),e("div",{staticClass:"key-value"},[e("span",[t._v("均衡")]),e("span",[t._v(t._s(t.leftHand)+"/"+t._s(t.rightHand))])])]),e("el-card",{attrs:{shadow:"never"}},[e("div",{staticClass:"key-value indicator-cloak"},[e("span",[t._v("潜水")]),e("span",[e("el-switch",{on:{change:function(e){return t.toggleCloak(t.tempCloak)}},model:{value:t.tempCloak,callback:function(e){t.tempCloak=e},expression:"tempCloak"}})],1)]),e("div",{staticClass:"key-value"},[e("span",[t._v("编码提示 "),e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"对电脑/手机性能有一定的要求，千字以上的长文『不建议』开启",placement:"top"}},[e("i",{staticClass:"el-icon-info"})])],1),e("span",[e("el-switch",{on:{change:function(e){return t.toggleHint(t.tempHint)}},model:{value:t.tempHint,callback:function(e){t.tempHint=e},expression:"tempHint"}})],1)]),e("div",{staticClass:"key-value"},[e("span",[t._v("替换空格")]),e("span",[e("el-switch",{on:{change:function(e){return t.toggleReplaceSpace(t.tempReplaceSpace)}},model:{value:t.tempReplaceSpace,callback:function(e){t.tempReplaceSpace=e},expression:"tempReplaceSpace"}})],1)]),e("div",{staticClass:"key-value"},[e("span",[t._v("符号替换|英->中")]),e("span",[e("el-switch",{on:{change:function(e){return t.toggleReplaceSymbol(t.tempReplaceSymbol)}},model:{value:t.tempReplaceSymbol,callback:function(e){t.tempReplaceSymbol=e},expression:"tempReplaceSymbol"}})],1)]),e("div",{staticClass:"key-value"},[e("span",[t._v("关闭剪切板访问")]),e("span",[e("el-switch",{on:{change:function(e){return t.toggleClipboard(t.tempOffClipboard)}},model:{value:t.tempOffClipboard,callback:function(e){t.tempOffClipboard=e},expression:"tempOffClipboard"}})],1)]),e("div",{staticClass:"key-value"},[e("span",[t._v("暗黑模式")]),e("span",[e("el-switch",{on:{change:function(e){return t.toggleDarkMode(t.tempDarkMode)}},model:{value:t.tempDarkMode,callback:function(e){t.tempDarkMode=e},expression:"tempDarkMode"}})],1)])]),e("el-card",{staticClass:"contribute",attrs:{shadow:"never"}},[e("p",[e("a",{staticClass:"e-github-link",attrs:{href:"https://github.com/owenyang0/easy-typer",target:"_blank"}},[t._v("喜欢！点个赞")])]),e("p",[e("i",{staticClass:"el-icon-s-promotion"}),t._v(" "),e("span",{attrs:{id:"busuanzi_container_site_pv"}},[t._v("访问量 "),e("span",{attrs:{id:"busuanzi_value_site_pv"}},[t._v("1")]),t._v("次")])]),e("p",[e("i",{staticClass:"el-icon-info"}),t._v(" "),e("a",{attrs:{href:"/changelog"}},[t._v(t._s(t.versionText))])]),e("p",[e("i",{staticClass:"el-icon-user-solid"}),t._v(" "),e("a",{attrs:{href:"https://blog.owenyang.top",target:"_blank"}},[t._v("关于木易某某")])]),e("p",[e("i",{staticClass:"el-icon-location"}),t._v(" "),e("a",{staticClass:"slide",attrs:{href:"https://beian.miit.gov.cn",target:"_blank"}},[t._v("蜀ICP备2023002101号-1")])])]),e("el-drawer",{attrs:{title:t.drawer.title,visible:t.drawerVisiable,"with-header":!1,size:"100",direction:"ttb"},on:{"update:visible":function(e){t.drawerVisiable=e}}},[e("p",{staticClass:"codes"},[t._v(t._s(t.drawer.text))])])],1)])}),D=[],H=o("fed7"),P=o("7300");const R=Object(h["e"])("racing"),L=Object(h["e"])("setting"),F=Object(h["e"])("summary"),$=Object(h["e"])("article"),W=Object(h["e"])("kata");let E=class extends l["c"]{constructor(){super(...arguments),this.tempCloak=!1,this.tempHint=!1,this.tempReplaceSpace=!0,this.tempReplaceSymbol=!0,this.tempOffClipboard=!1,this.tempDarkMode=!1,this.drawerVisiable=!1,this.drawer={title:"",text:""}}get percentage(){const t=100*Math.min(this.progress||0,1);return parseFloat(t.toFixed(2))}get progressStatus(){return"finished"===this.status?"success":null}get versionText(){return this.appVersion?"版本 "+this.version:"木易跟打器 "+this.version}hintChange(t){this.tempHint!==t&&(this.tempHint=t)}cloakChange(t){this.tempCloak!==t&&(this.tempCloak=t)}replaceSpaceChange(t){this.tempReplaceSpace!==t&&(this.tempReplaceSpace=t)}replaceSymbolChange(t){this.tempReplaceSymbol!==t&&(this.tempReplaceSymbol=t)}offClipboardChange(t){this.tempOffClipboard!==t&&(this.tempOffClipboard=t)}toggleDarkMode(t){this.tempDarkMode=t;const e=t?"dark":"";Object(H["h"])(e),localStorage.setItem("colorMode",e)}showIdealCodes(){Object.assign(this.drawer,{title:"输入编码",text:this.idealKeys}),this.drawerVisiable=!0}showInputKeys(){Object.assign(this.drawer,{title:"输入编码",text:this.keys.map(t=>P["b"].get(t)).map(t=>t&&t.key||"❓").join("")}),this.drawerVisiable=!0}handleRandomReading(){this.loadRandomArticle()}handleTodayReading(){this.loadDailyArticle()}handleTodayNews(){this.loadDailyNews()}handleTodayHistory(t="simple"){this.loadTodayHistories(t)}handleReadingClick(){window.open("http://yuedu.owenyang.top/","_blank")}created(){this.cloakChange(this.cloak),this.hintChange(this.hint),this.replaceSpaceChange(this.replaceSpace),this.replaceSymbolChange(this.replaceSymbol),this.offClipboardChange(this.offClipboard),this.tempDarkMode="dark"===localStorage.getItem("colorMode")}};Object(c["a"])([Object(h["b"])("version")],E.prototype,"version",void 0),Object(c["a"])([Object(h["d"])("appVersion")],E.prototype,"appVersion",void 0),Object(c["a"])([R.State("status")],E.prototype,"status",void 0),Object(c["a"])([R.Getter("typeSpeed")],E.prototype,"typeSpeed",void 0),Object(c["a"])([R.Getter("hitSpeed")],E.prototype,"hitSpeed",void 0),Object(c["a"])([R.Getter("codeLength")],E.prototype,"codeLength",void 0),Object(c["a"])([R.Getter("idealCodeLength")],E.prototype,"idealCodeLength",void 0),Object(c["a"])([R.Getter("hint")],E.prototype,"wordsHint",void 0),Object(c["a"])([R.Getter("passTime")],E.prototype,"passTime",void 0),Object(c["a"])([R.State("phrase")],E.prototype,"phrase",void 0),Object(c["a"])([R.State("selective")],E.prototype,"selective",void 0),Object(c["a"])([R.Getter("enterCount")],E.prototype,"enter",void 0),Object(c["a"])([R.Getter("backspaceCount")],E.prototype,"backspace",void 0),Object(c["a"])([R.State("keyCount")],E.prototype,"keyCount",void 0),Object(c["a"])([R.State("replace")],E.prototype,"replace",void 0),Object(c["a"])([R.Getter("leftHand")],E.prototype,"leftHand",void 0),Object(c["a"])([R.Getter("rightHand")],E.prototype,"rightHand",void 0),Object(c["a"])([R.Getter("progress")],E.prototype,"progress",void 0),Object(c["a"])([R.State("keys")],E.prototype,"keys",void 0),Object(c["a"])([R.State("idealKeys")],E.prototype,"idealKeys",void 0),Object(c["a"])([L.State("showSidebar")],E.prototype,"showSidebar",void 0),Object(c["a"])([L.Getter("hint")],E.prototype,"hint",void 0),Object(c["a"])([L.Getter("cloak")],E.prototype,"cloak",void 0),Object(c["a"])([L.Getter("replaceSpace")],E.prototype,"replaceSpace",void 0),Object(c["a"])([L.Getter("replaceSymbol")],E.prototype,"replaceSymbol",void 0),Object(c["a"])([L.Getter("offClipboard")],E.prototype,"offClipboard",void 0),Object(c["a"])([L.Getter("getSelectChar")],E.prototype,"getSelectChar",void 0),Object(c["a"])([L.Mutation("toggleCloak")],E.prototype,"toggleCloak",void 0),Object(c["a"])([L.Mutation("toggleHint")],E.prototype,"toggleHint",void 0),Object(c["a"])([L.Mutation("toggleReplaceSpace")],E.prototype,"toggleReplaceSpace",void 0),Object(c["a"])([L.Mutation("toggleReplaceSymbol")],E.prototype,"toggleReplaceSymbol",void 0),Object(c["a"])([L.Mutation("toggleClipboard")],E.prototype,"toggleClipboard",void 0),Object(c["a"])([F.Getter("todayWords")],E.prototype,"todayWords",void 0),Object(c["a"])([F.Getter("todayErrorWords")],E.prototype,"todayErrorWords",void 0),Object(c["a"])([F.Getter("totalWords")],E.prototype,"totalWords",void 0),Object(c["a"])([F.Getter("totalErrorWords")],E.prototype,"totalErrorWords",void 0),Object(c["a"])([F.Getter("consecutiveDays")],E.prototype,"consecutiveDays",void 0),Object(c["a"])([F.Getter("totalDays")],E.prototype,"totalDays",void 0),Object(c["a"])([$.Action("loadMatch")],E.prototype,"loadMatch",void 0),Object(c["a"])([$.State("identity")],E.prototype,"identity",void 0),Object(c["a"])([W.Action("loadArticle")],E.prototype,"loadArticle",void 0),Object(c["a"])([$.Action("loadDailyArticle")],E.prototype,"loadDailyArticle",void 0),Object(c["a"])([$.Action("loadRandomArticle")],E.prototype,"loadRandomArticle",void 0),Object(c["a"])([$.Action("loadDailyNews")],E.prototype,"loadDailyNews",void 0),Object(c["a"])([$.Action("loadTodayHistories")],E.prototype,"loadTodayHistories",void 0),Object(c["a"])([W.Getter("nextParagraph")],E.prototype,"nextParagraph",void 0),Object(c["a"])([Object(l["d"])("hint")],E.prototype,"hintChange",null),Object(c["a"])([Object(l["d"])("cloak")],E.prototype,"cloakChange",null),Object(c["a"])([Object(l["d"])("replaceSpace")],E.prototype,"replaceSpaceChange",null),Object(c["a"])([Object(l["d"])("replaceSymbol")],E.prototype,"replaceSymbolChange",null),Object(c["a"])([Object(l["d"])("offClipboard")],E.prototype,"offClipboardChange",null),E=Object(c["a"])([l["a"]],E);var K=E,N=K,z=(o("fd4d"),Object(C["a"])(N,M,D,!1,null,null,null)),I=z.exports,B=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{attrs:{id:"article-main"}},[e("el-row",{ref:"board",class:t.articleStyle},t._l(t.words,(function(t){return e("Words",{key:t.id,attrs:{word:t}})})),1),e("el-divider",{staticClass:"article-info",attrs:{"content-position":"right"}},[e("span",[t._v("第"+t._s(t.identity)+"段")]),e("span",[t._v(t._s(t.title||"未知"))]),e("span",[t._v("共"+t._s(t.length)+"字")])])],1)},G=[],V=o("6011"),U=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{class:t.style},[e("span",[t._v(t._s(t.word.text))]),t.hasHint?e("label",[t._v(t._s(t.hintText))]):t._e()])},q=[];const Y=Object(h["e"])("setting");let Q=class extends l["c"]{get single(){const t=this.word,e=t.text.length;return!this.disableSingleHint||e>(t.autoSelect?2:1)}get hasColorHint(){return this.hintOptions.indexOf("color")>=0&&this.single||!this.word.type.startsWith("code")}get hasSelectHint(){return this.hintOptions.indexOf("select")>=0&&!!this.word.select&&this.single}get hasCodeHint(){const{codings:t}=this.word;return this.hintOptions.indexOf("code")>=0&&t&&t.length>0&&!!t[0].code&&this.single}get hasAutoSelectHint(){return this.hintOptions.indexOf("autoSelect")>=0&&this.word.autoSelect&&this.single}get style(){const t=["code"];return this.hasColorHint?t.push(this.word.type):t.push("pending"),t}get hasHint(){return this.hint&&(this.hasCodeHint||this.hasSelectHint||this.hasAutoSelectHint)}get hintText(){let t="";const{select:e,codings:o}=this.word;return this.hasCodeHint&&(t+=o[0].code),this.hasSelectHint&&(t+=e),this.hasAutoSelectHint&&(t+=this.punctuationAutoSelectHint),t}};Object(c["a"])([Object(l["b"])({type:V["l"],required:!0})],Q.prototype,"word",void 0),Object(c["a"])([Y.State("hint")],Q.prototype,"hint",void 0),Object(c["a"])([Y.State("punctuationAutoSelectHint")],Q.prototype,"punctuationAutoSelectHint",void 0),Object(c["a"])([Y.State("hintOptions")],Q.prototype,"hintOptions",void 0),Object(c["a"])([Y.State("disableSingleHint")],Q.prototype,"disableSingleHint",void 0),Q=Object(c["a"])([l["a"]],Q);var J=Q,Z=J,X=Object(C["a"])(Z,U,q,!1,null,null,null),tt=X.exports;const et=Object(h["e"])("article"),ot=Object(h["e"])("racing"),at=Object(h["e"])("setting");let it=class extends l["c"]{get articleStyle(){let t="inline";return this.hint&&this.shortest&&(this.codeHint||this.selectHint||this.autoSelectHint)&&(t="grid"),["article",t]}get selectHint(){return this.hintOptions.indexOf("select")>=0}get codeHint(){return this.hintOptions.indexOf("code")>=0}get autoSelectHint(){return this.hintOptions.indexOf("autoSelect")>=0}get words(){const t=this.content.length;if(0===t)return[];const e=this.input,o=[];if(this.hint&&this.shortest){const{path:a,vertices:i}=this.shortest;for(let n=0;n<t;){const t=i[a[n]],r=null===t||void 0===t?void 0:t.get(n);if(!r){n++;continue}const s=this.addPhrase(e,r,o);n=0===s?a[n]:s}}else{const t=e.length,a=this.content.substring(0,t);this.check(0,e,a,o);const i=this.content.substring(t);o.push(new V["l"](t,i,"pending"))}return o}autoScroll(t){const e=this.$refs.board.$el,{clientHeight:o,scrollHeight:a}=e,i=a-o;if(i<=0)return;if(0===t)return void(e.scrollTop=0);const n=this.hint?2:1,r=12*(parseFloat(this.fontSize)+n),s=this.hint?Math.max(0,r*(this.articleRows-1)-.5*r):r*(this.articleRows-1),c=document.querySelector(".code1,.code2,.code3,.code4,.pending");e.scrollTop=c?Math.max(0,c.offsetTop-s):Math.min(t*i,i)}check(t,e,o,a){const i=o.length,n=o.split(""),r=e.split("");let s=n[0]===r[0],c="";r.forEach((e,o)=>{if(o>=i)return;const r=n[o],l=e===r;l!==s&&(a.push(new V["l"](t+o-c.length,c,s?"correct":"error")),c="",s=l),c=c.concat(r)}),c.length>0&&a.push(new V["l"](t+e.length-c.length,c,s?"correct":"error"))}addPhrase(t,e,o){const{from:a,to:i,value:n}=e;if(t.length<=i)return o.push(n),0;{const e=t.length,r=t.substring(i,Math.min(a,e));return this.check(i,r,n.text,o),e>a?0:e}}};Object(c["a"])([et.State("content")],it.prototype,"content",void 0),Object(c["a"])([et.State("identity")],it.prototype,"identity",void 0),Object(c["a"])([et.State("title")],it.prototype,"title",void 0),Object(c["a"])([et.Getter("length")],it.prototype,"length",void 0),Object(c["a"])([ot.State("input")],it.prototype,"input",void 0),Object(c["a"])([et.State("shortest")],it.prototype,"shortest",void 0),Object(c["a"])([ot.Getter("progress")],it.prototype,"progress",void 0),Object(c["a"])([at.State("hint")],it.prototype,"hint",void 0),Object(c["a"])([at.State("fontSize")],it.prototype,"fontSize",void 0),Object(c["a"])([at.State("articleRows")],it.prototype,"articleRows",void 0),Object(c["a"])([at.State("hintOptions")],it.prototype,"hintOptions",void 0),Object(c["a"])([Object(l["d"])("progress")],it.prototype,"autoScroll",null),it=Object(c["a"])([Object(l["a"])({components:{Words:tt}})],it);var nt=it,rt=nt,st=(o("b0a1"),Object(C["a"])(rt,B,G,!1,null,null,null)),ct=st.exports,lt=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[e("el-input",{ref:"textarea",attrs:{id:"racing-textarea",type:"textarea",disabled:t.isDisabled,placeholder:t.placeholderText},on:{blur:t.pause,input:function(e){return t.accept(t.input)}},nativeOn:{keydown:function(e){return t.keydown.apply(null,arguments)},keyup:function(e){return t.keyup.apply(null,arguments)},compositionstart:function(e){return t.compositionStart.apply(null,arguments)},compositionupdate:function(e){return t.compositionUpdate.apply(null,arguments)},compositionend:function(e){return t.compositionEnd.apply(null,arguments)}},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}})],1)},dt=[],pt=o("b510"),ht=o("5a0c"),ut=o.n(ht);const gt=["Backspace","Enter","Control","Alt","Meta","Shift","CapsLock"],mt=Object(h["e"])("racing"),yt=Object(h["e"])("setting"),ft=Object(h["e"])("kata");let bt=class extends l["c"]{constructor(){super(...arguments),this.input="",this.compositions=0,this.last=""}get isDisabled(){return"typing"!==this.status&&"init"!==this.status}get placeholderText(){return this.isDisabled?"请先载入练习文本...":"在这里输入赛文..."}statusUpdate(t){switch(t){case"init":{this.input="";const t=document.getElementById("racing-textarea");t.value="",setTimeout(this.focus,50);break}case"typing":setTimeout(this.focus,50);break;case"finished":{const t=this.result;if(this.offClipboard)return;pt["a"].copy(t,()=>{this.cloak||window.electronAPI&&window.electronAPI.setGrade("typing finished!")},()=>{this.$message.warning("你的浏览器不支持自动复制，请手动操作！");const t=localStorage.getItem("clipboard_err_tip_ts");t&&ut()(+t).isSame(ut()(),"day")||(this.$nextTick(()=>{this.$notify({type:"info",title:"你的浏览器不支持自动复制！",message:"『推荐』使用谷歌(PC全平台)、Safari(iOS/Mac)、Edge(安卓)等现代浏览器；『不建议』直接在QQ、微信等程序中直接打开！",duration:3e3})}),localStorage.setItem("clipboard_err_tip_ts",""+Date.now()))});break}}}modeUpdate(t){2===t&&this.$notify.info("当前发文已结束~")}compositionStart(){this.compositions=0}compositionUpdate(){this.compositions+=1}compositionEnd({data:t}){this.last=t;const e=t.length,{compositions:o}=this;0===e&&o>1?this.cleared(o):e>1&&this.phrase(t)}keydown(t){gt.includes(t.key)&&"init"===this.status||(this.typing(t),this.last="",t.isComposing&&"Backspace"===t.code&&(this.compositions-=2))}keyup(t){t.isComposing||this.checkFinished(this.last)}mounted(){Object(H["c"])()}focus(){const t=this.$refs.textarea.textLength;t>0&&this.$refs.textarea.$refs.textarea.setSelectionRange(t,t),this.$refs.textarea.focus()}};Object(c["a"])([mt.State("status")],bt.prototype,"status",void 0),Object(c["a"])([mt.Getter("result")],bt.prototype,"result",void 0),Object(c["a"])([mt.Action("typing")],bt.prototype,"typing",void 0),Object(c["a"])([mt.Mutation("cleared")],bt.prototype,"cleared",void 0),Object(c["a"])([mt.Action("accept")],bt.prototype,"accept",void 0),Object(c["a"])([mt.Action("pause")],bt.prototype,"pause",void 0),Object(c["a"])([mt.Action("phrase")],bt.prototype,"phrase",void 0),Object(c["a"])([mt.Action("checkFinished")],bt.prototype,"checkFinished",void 0),Object(c["a"])([yt.Getter("cloak")],bt.prototype,"cloak",void 0),Object(c["a"])([yt.Getter("offClipboard")],bt.prototype,"offClipboard",void 0),Object(c["a"])([ft.State("mode")],bt.prototype,"mode",void 0),Object(c["a"])([Object(l["d"])("status")],bt.prototype,"statusUpdate",null),Object(c["a"])([Object(l["d"])("mode")],bt.prototype,"modeUpdate",null),bt=Object(c["a"])([l["a"]],bt);var vt=bt,wt=vt,kt=Object(C["a"])(wt,lt,dt,!1,null,null,null),St=kt.exports,Ct=o("4c64"),Ot=o("f471");o("13d5");const jt=new Map([["init","准备中"],["wait","准备中"],["finished","已结束"],["pause","继续(Enter)"],["typing","暂停(Esc)"]]),xt=new Map([["init","success"],["wait","success"],["finished","primary"],["pause","warning"],["typing","success"]]),Tt=new Map([["init","el-icon-time"],["wait","el-icon-time"],["finished","el-icon-success"],["pause","el-icon-video-play"],["typing","el-icon-loading"]]),_t={comma:[{reg:/,/g,replacement:"，"},{reg:/[^\d+]\./g,replacement:"。"}],questionmark:[{reg:/\?/g,replacement:"？"},{reg:/!/g,replacement:"！"}],colon:[{reg:/;/g,replacement:"；"},{reg:/:/g,replacement:"："}],bracket:[{reg:/\(/g,replacement:"（"},{reg:/\)/g,replacement:"）"}],squareBracket:[{reg:/\[/g,replacement:"【"},{reg:/\]/g,replacement:"】"}],quot:[{reg:/"(.*?)"/g,replacement:"“$1”"},{reg:/'(.*?)'/g,replacement:"‘$1’"}],connector:[{reg:/-/g,replacement:"—"},{reg:/⋯/g,replacement:"…"},{reg:/\.\.\./g,replacement:"…"}],book:[{reg:/</g,replacement:"《"},{reg:/>/g,replacement:"》"}],backslash:[{reg:/\\/g,replacement:"、"}]},At=Object.entries(_t).map(([,t])=>t).reduce((t,e)=>t.concat(e)),Mt="kataHistory";class Dt{async loadHistoryByTitle(t){return p["a"].configs.get(Mt).then(e=>{const o=e||[],a=o.find(e=>e.articleTitle===t);return a})}async loadHistoryList(){return p["a"].configs.get(Mt).then(t=>{const e=t||[];return e})}insertOrUpdateHistory(t){const e={...t,type:"primary",icon:"el-icon-odometer",timestamp:ut()().format("YYYY/MM/DD HH:mm:ss"),paragraphCount:2===t.textType?t.articleText.split("\n").length:Math.ceil(t.articleText.length/t.paragraphSize)};p["a"].configs.get(Mt).then(o=>{const a=o||[],i=[e].concat(a.filter(e=>e.articleTitle!==t.articleTitle)).slice(0,10);p["a"].configs.put(i,Mt)})}}const Ht=new Dt,Pt=Object(h["e"])("article"),Rt=Object(h["e"])("racing"),Lt=Object(h["e"])("login"),Ft=Object(h["e"])("setting"),$t=Object(h["e"])("kata");let Wt=class extends l["c"]{constructor(){super(...arguments),this.groups=[],this.group="",this.showLoadDialog=!1,this.showKataHistoryDialog=!1,this.historyList=[],this.articleText="",this.tempArticleRows=4,this.tempInputRows=1,this.tempFontSize=2.4,this.tempFontWeight=400,this.hasUpdated=!1}get triggerText(){return jt.get(this.status)||"暂停(Esc)"}get indicatorTooltipText(){return`点击${this.showSidebar?"隐藏":"展示"}侧边栏`}get triggerMethod(){return Object(H["j"])()?"click":"hover"}get triggerIcon(){return Tt.get(this.status)||"el-icon-success"}get triggerType(){return xt.get(this.status)||"primary"}authChange(t){t?u["a"].groups().then(t=>{t&&(this.groups=t.map(t=>({value:t.guid,label:t.name})))}):this.groups=[]}manuallyLoadArticle(){this.showLoadDialog=!1,this.articleText&&(this.loadText(this.articleText),this.articleText="")}rawArticleRowsChange(t){this.tempArticleRows=+t}articleRowsChange(t){this.updateSettings({articleRows:t})}rawInputRowsChange(t){this.tempInputRows=+t}inputRowsChange(t){this.updateSettings({inputRows:t})}rawFontWeightChange(t){this.tempFontWeight=+t}fontWeightChange(t){this.updateSettings({fontWeight:t})}rawFontSizeChange(t){this.tempFontSize=parseFloat(t)}fontSizeChange(t){this.updateSettings({fontSize:t+"rem"})}handleSliderChange(){this.hasUpdated=!0}handleSettingHide(){this.hasUpdated&&(this.saveToDB(),this.hasUpdated=!1)}async continueKataDialog(){this.showKataHistoryDialog=!0,this.historyList=await Ht.loadHistoryList()}async handleContinue(t){const e=await Ht.loadHistoryByTitle(t);this.showKataHistoryDialog=!1,e&&(this.loadKata(e),this.loadMatch(this.nextParagraph),Ht.insertOrUpdateHistory(e))}getCriteriaActionText(t){return H["b"][t]}handleCommand(t){switch(t){case"loadText":this.showLoadDialog=!0;break;case"loadClipboard":this.loadFromClipboard();break;case"retry":this.retry();break;case"prev":this.prev();break;case"next":this.next();break;case"random":this.random();break;case"randomArticle":this.loadRandomArticle();break;case"dailyArticle":this.loadDailyArticle();break;case"dailyNews":this.loadDailyNews();break;case"singleFront500":this.loadSingleFront500();break;case"singleMiddle500":this.loadSingleMiddle500();break;case"singleEnd500":this.loadSingleEnd500();break;case"todayHistories":this.loadTodayHistories("simple");break;case"letters":this.loadLettersAndNumers("letters");break;case"numbers":this.loadLettersAndNumers("numbers");break;case"lettersMix":this.loadLettersAndNumers("lettersMix");break;case"lettersAndNumbers":this.loadLettersAndNumers("lettersAndNumbers");break;case"yuedu":window.open("https://yuedu.owenyang.top","_blank");break;default:break}}created(){this.rawArticleRowsChange(this.articleRows),this.rawInputRowsChange(this.inputRows),this.rawFontWeightChange(this.fontWeight),this.rawFontSizeChange(this.fontSize),document.addEventListener("keydown",this.handleShortCut),window.electronAPI&&window.electronAPI.handlePaste((t,e)=>{this.appVersion||this.setAppVersion("0.2.4"),this.checkBeforeLoad().then(()=>{try{this.loadText(e),this.$router.push("/").catch(Ot["a"])}catch(t){this.$message.error(t.message)}}).catch(()=>{console.log("err")})}),document.addEventListener("paste",this.paste),window.addEventListener("blur",()=>this.pause())}destroyed(){document.removeEventListener("keydown",this.handleShortCut),document.removeEventListener("paste",this.paste),window.electronAPI&&window.electronAPI.removePasteHanlder()}checkBeforeLoad(){return new Promise((t,e)=>{if(1===this.mode)return this.$confirm("当前正在发文中, 请先结束发文后再试","是否结束当前发文？",{confirmButtonText:"结束发文",cancelButtonText:"取消",type:"warning"}).then(()=>{this.init(),t("OK")}).catch(()=>{e(new Error("failed"))});t("OK")})}paste(t){this.showLoadDialog||(t.preventDefault(),this.checkBeforeLoad().then(()=>{this.loadFromClipboard()}).catch(()=>{console.log("cancel")}))}onGroupChange(){this.group&&u["a"].matches(this.group).then(t=>{t&&this.loadMatch(t)},t=>{this.$message.warning(t.message)})}loadFromClipboard(){this.checkBeforeLoad().then(()=>{try{navigator.clipboard.readText().then(t=>{this.loadText(t)})}catch(t){console.error("Failed to read clipboard contents: ",t)}}).catch(()=>{console.log("cancel")})}trigger(){["pause","typing"].includes(this.status)?"pause"===this.status?Date.now()-this.pauseStartTime>500&&this.resume():this.pause():console.log(this.status,"returned")}toggleSidebar(){this.toggleRawSidebar(!this.showSidebar)}handleShortCut(t){const{key:e,ctrlKey:o}=t;switch(e){case"F3":t.preventDefault(),this.retry();break;case"Escape":t.preventDefault(),this.pause();break;case"Enter":t.preventDefault(),this.resume();break;case"F2":t.preventDefault(),this.routeToKataShortcut();break;case"u":o&&(t.preventDefault(),this.prev());break;case"p":o&&(t.preventDefault(),this.next());break;case"l":o&&(t.preventDefault(),this.random());break}}routeToKataShortcut(){this.hasTipWarning||"typing"===this.status||(1===this.mode?(this.updateTipWarning(!0),this.$confirm("正在发文中，是否结束当前发文？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.updateTipWarning(!1),this.$router.push("/kata").catch(Ot["a"])}).catch(()=>{this.updateTipWarning(!1)})):this.$router.push("/kata").catch(Ot["a"]))}};Object(c["a"])([Object(h["a"])("setAppVersion")],Wt.prototype,"setAppVersion",void 0),Object(c["a"])([Object(h["d"])("appVersion")],Wt.prototype,"appVersion",void 0),Object(c["a"])([Rt.Getter("typeSpeed")],Wt.prototype,"typeSpeed",void 0),Object(c["a"])([Rt.Getter("hitSpeed")],Wt.prototype,"hitSpeed",void 0),Object(c["a"])([Rt.Getter("codeLength")],Wt.prototype,"codeLength",void 0),Object(c["a"])([Rt.State("status")],Wt.prototype,"status",void 0),Object(c["a"])([Rt.State("start")],Wt.prototype,"pauseStartTime",void 0),Object(c["a"])([Rt.Action("pause")],Wt.prototype,"pause",void 0),Object(c["a"])([Rt.Action("resume")],Wt.prototype,"resume",void 0),Object(c["a"])([Rt.Action("retry")],Wt.prototype,"retry",void 0),Object(c["a"])([Pt.Action("loadText")],Wt.prototype,"loadText",void 0),Object(c["a"])([Pt.Action("loadMatch")],Wt.prototype,"loadMatch",void 0),Object(c["a"])([Pt.Action("random")],Wt.prototype,"random",void 0),Object(c["a"])([Pt.Action("loadDailyArticle")],Wt.prototype,"loadDailyArticle",void 0),Object(c["a"])([Pt.Action("loadRandomArticle")],Wt.prototype,"loadRandomArticle",void 0),Object(c["a"])([Pt.Action("loadDailyNews")],Wt.prototype,"loadDailyNews",void 0),Object(c["a"])([Pt.Action("loadTodayHistories")],Wt.prototype,"loadTodayHistories",void 0),Object(c["a"])([Pt.Action("loadLettersAndNumers")],Wt.prototype,"loadLettersAndNumers",void 0),Object(c["a"])([Pt.Action("loadSingleFront500")],Wt.prototype,"loadSingleFront500",void 0),Object(c["a"])([Pt.Action("loadSingleMiddle500")],Wt.prototype,"loadSingleMiddle500",void 0),Object(c["a"])([Pt.Action("loadSingleEnd500")],Wt.prototype,"loadSingleEnd500",void 0),Object(c["a"])([Lt.State("authenticated")],Wt.prototype,"authenticated",void 0),Object(c["a"])([Ft.Getter("styles")],Wt.prototype,"styles",void 0),Object(c["a"])([Ft.State("showSidebar")],Wt.prototype,"showSidebar",void 0),Object(c["a"])([Ft.Mutation("toggleSidebar")],Wt.prototype,"toggleRawSidebar",void 0),Object(c["a"])([Ft.State("articleRows")],Wt.prototype,"articleRows",void 0),Object(c["a"])([Ft.State("inputRows")],Wt.prototype,"inputRows",void 0),Object(c["a"])([Ft.State("fontWeight")],Wt.prototype,"fontWeight",void 0),Object(c["a"])([Ft.State("fontSize")],Wt.prototype,"fontSize",void 0),Object(c["a"])([Ft.Mutation("update")],Wt.prototype,"updateSettings",void 0),Object(c["a"])([Ft.Mutation("saveToDB")],Wt.prototype,"saveToDB",void 0),Object(c["a"])([$t.State("mode")],Wt.prototype,"mode",void 0),Object(c["a"])([$t.State("hasTipWarning")],Wt.prototype,"hasTipWarning",void 0),Object(c["a"])([$t.Action("updateTipWarning")],Wt.prototype,"updateTipWarning",void 0),Object(c["a"])([$t.Action("init")],Wt.prototype,"init",void 0),Object(c["a"])([$t.Action("load")],Wt.prototype,"loadKata",void 0),Object(c["a"])([$t.Getter("nextParagraph")],Wt.prototype,"nextParagraph",void 0),Object(c["a"])([$t.Action("prev")],Wt.prototype,"prev",void 0),Object(c["a"])([$t.Action("next")],Wt.prototype,"next",void 0),Object(c["a"])([Object(l["d"])("authenticated")],Wt.prototype,"authChange",null),Object(c["a"])([Object(l["d"])("articleRows")],Wt.prototype,"rawArticleRowsChange",null),Object(c["a"])([Object(l["d"])("tempArticleRows")],Wt.prototype,"articleRowsChange",null),Object(c["a"])([Object(l["d"])("inputRows")],Wt.prototype,"rawInputRowsChange",null),Object(c["a"])([Object(l["d"])("tempInputRows")],Wt.prototype,"inputRowsChange",null),Object(c["a"])([Object(l["d"])("fontWeight")],Wt.prototype,"rawFontWeightChange",null),Object(c["a"])([Object(l["d"])("tempFontWeight")],Wt.prototype,"fontWeightChange",null),Object(c["a"])([Object(l["d"])("fontSize")],Wt.prototype,"rawFontSizeChange",null),Object(c["a"])([Object(l["d"])("tempFontSize")],Wt.prototype,"fontSizeChange",null),Wt=Object(c["a"])([Object(l["a"])({components:{Article:ct,Indicator:I,Racing:St,Achievements:Ct["a"]}})],Wt);var Et=Wt,Kt=Et,Nt=(o("8ce9"),Object(C["a"])(Kt,_,A,!1,null,null,null)),zt=Nt.exports;a["default"].use(T["a"]);const It=[{path:"/",name:"Home",meta:{title:"赛文跟打 - 木易跟打器"},component:zt},{path:"/practice",name:"Practice",meta:{title:"词库练习 - 木易跟打器"},component:()=>o.e("practice").then(o.bind(null,"3b32"))},{path:"/kata",name:"Kata",meta:{title:"发文 - 木易跟打器"},component:()=>o.e("kata").then(o.bind(null,"ccb2"))},{path:"/reading",name:"Reading",meta:{title:"阅读 - 木易跟打器"},component:()=>o.e("kata").then(o.bind(null,"f540"))},{path:"/setting",name:"Setting",meta:{title:"设置 - 木易跟打器"},component:()=>o.e("setting").then(o.bind(null,"4ef5"))},{path:"/summary",name:"Summary",meta:{title:"键盘统计 - 木易跟打器"},component:()=>Promise.all([o.e("about~summary"),o.e("summary")]).then(o.bind(null,"ad13"))},{path:"/changelog",name:"Changelog",meta:{title:"变更历史 - 木易跟打器"},component:()=>Promise.all([o.e("about~changelog~help"),o.e("changelog")]).then(o.bind(null,"f522"))},{path:"/help",name:"Help",meta:{title:"使用帮助 - 木易跟打器"},component:()=>Promise.all([o.e("about~changelog~help"),o.e("help")]).then(o.bind(null,"c3ef"))},{path:"/about",name:"About",meta:{title:"关于 - 木易跟打器"},component:()=>Promise.all([o.e("about~changelog~help"),o.e("about~summary"),o.e("about")]).then(o.bind(null,"f820"))},{path:"/history",name:"History",meta:{title:"跟打记录 - 木易跟打器"},component:()=>Promise.all([o.e("about~changelog~help"),o.e("about~summary"),o.e("about")]).then(o.bind(null,"e4bb"))},{path:"/buy-me-a-coffee",name:"Donate",meta:{title:"捐赠 - 木易跟打器"},component:()=>Promise.all([o.e("about~changelog~help"),o.e("about~summary"),o.e("about")]).then(o.bind(null,"8125"))},{path:"/download",name:"Download",meta:{title:"程序下载 - 木易跟打器"},component:()=>Promise.all([o.e("about~changelog~help"),o.e("about~summary"),o.e("about")]).then(o.bind(null,"3971"))},{path:"*",redirect:"/"}],Bt=new T["a"]({mode:"history",base:"/",routes:It});Bt.beforeEach((t,e,o)=>{const a=t.matched.slice().reverse().find(t=>t.meta&&t.meta.title),i=t.matched.slice().reverse().find(t=>t.meta&&t.meta.metaTags),n=e.matched.slice().reverse().find(t=>t.meta&&t.meta.metaTags);if(a?document.title=a.meta.title:n&&(document.title=n.meta.title),Array.from(document.querySelectorAll("[data-vue-router-controlled]")).map(t=>t.parentNode.removeChild(t)),!i)return o();i.meta.metaTags.map(t=>{const e=document.createElement("meta");return Object.keys(t).forEach(o=>{e.setAttribute(o,t[o])}),e.setAttribute("data-vue-router-controlled",""),e}).forEach(t=>document.head.appendChild(t)),o()});var Gt=Bt,Vt=(o("3c65"),o("2f62"));class Ut{constructor(){this.vertices=[]}addEdge(t){const{from:e,to:o}=t;this.vertices[e]||(this.vertices[e]=new Map),this.vertices[o]||(this.vertices[o]=new Map),this.vertices[e].set(o,t)}shortestPath(){const t=[],e=[],o=[];for(let a=this.vertices.length-1;a>=0;a--)e[a]=a===this.vertices.length-1?0:1/0,t.push({key:a,priority:e[a]});while(t.length>0){const a=t.sort((t,e)=>t.priority-e.priority).shift();if(!a)break;const i=a.key;if(e[i]!==1/0)for(const n of this.vertices[i].keys()){const a=this.vertices[i].get(n);if(!a)continue;const r=e[i]+a.length;r<e[n]&&(e[n]=r,o[n]=i,t.push({key:n,priority:r}))}}return{distance:e[0],path:o,vertices:this.vertices}}}const qt=/[a-zA-Z0-9]/,Yt=(t,e,o)=>{const{selectiveText:a,fourthAutoSelect:i,punctuations:n}=o;for(const r of t.values())if(n.has(r.value.text)&&!(a.indexOf(r.value.text)>=0))for(const o of e.vertices[r.to].values()){const{to:a}=o,{text:n,type:s,codings:c}=o.value,{code:l,fourthSingle:d,index:p}=c[0];if(!qt.test(n)&&((l.length<4||!i||!d)&&0===p)){const o=l+r.value.codings[0].code,i=new V["l"](a,n+r.value.text,s,!0,"",[new V["b"](0,o,-1)]),c=t.get(a),d=o.length;(!c||c.length>d)&&e.addEdge({from:r.from,to:a,length:d,value:i})}}},Qt=(t,e,o)=>{const a=t.filter(t=>t.index<e);return o||a&&a.length>0?a:t},Jt=(t,e,o,a)=>{if(!e)return null;const{selective:i,selectiveText:n,maxIndex:r,fourthAutoSelect:s,fifthAutoSelect:c}=o,l=0===r?1/0:r,d=new Ut,p=t.length;let h;for(let g=0;g<p;g++){h=e;for(let e=g;e<p;e++){const o=h.get(t[e]);if(!o)break;if(o.value){const{text:r,codings:h}=o.value,u=Qt(h,l,r.length>1);if(!u||u.length<1)continue;const{index:m,code:y,fourthSingle:f}=u[0],b=e+1,v=y.length;let w=a(m,v);const k=0===m&&4===v;if(k){const e=!s||!f,o=!c||b===p||n.indexOf(t[b])>=0;e&&o&&(w=i[0])}const S=1===v&&-1===m?"pending":"code"+v,C=new V["l"](g,r,S,!1,w,u);d.addEdge({from:b,to:g,length:v+w.length,value:C})}h=o}}const u=d.vertices;for(let g=1;g<=p;g++){const e=u[g];if(!e||0===e.size){const e=t[g-1];d.addEdge({from:g,to:g-1,length:1,value:new V["l"](g-1,e,"pending",!1,"",[new V["b"](0,"❓",-1)])})}}for(let g=1;g<=p;g++)Yt(u[g],d,o);return d.shortestPath()},Zt=t=>t.replace(/-+第(\d+)段.*/,"$1"),Xt=(t,e={replaceSpace:!1,replaceSymbol:!1})=>{let o=t;return e.replaceSpace&&(o=o.replace(/\s/gm,"")),e.replaceSymbol&&At.forEach(t=>{o=o.replace(t.reg,t.replacement)}),o},te=(t,e)=>{let o="未知",a="1";const i=t.split(/\r?\n/).filter(t=>t&&t.trim().length>0),n=i.length;if(n>1){const e=i[n-1],r=Zt(e);if(r!==e&&(a=r,2===n?t=i[0]:(o=i[0],t=i.slice(1,n-1).join("")),!u["b"].verify(t,e)))throw Error("赛文被篡改，请重新载文")}return t=Xt(t,e),{title:o,content:t,identity:a,shortest:null}},ee="1）点击『帮助』-『关于』-『快速开始』完成初始设置；2）按下F4快捷键，即刻开始载文；3）F2选择练习文本-发文，可设定击键、速度、码长等复合指标；4）CTRL+L 当前段乱序，CTRL+P 进入下一段",oe="1）可点击『手动』载文或『粘贴Ctrl+V』自由载文；2）也可F2选择练习文本发文，能设定击键、速度、码长等复合指标；3）阅读，可导入小说开始跟打练习；4）CTRL+L当前段乱序，CTRL+P 进入下一段",ae={title:"马上可用",identity:"1",content:H["k"]?ee:oe,shortest:null},ie={length({content:t}){return t.length}},ne={load(t,e){Object.assign(t,e)},shortest(t,e){t.shortest=e}},re={loadText({rootState:t},e){const{setting:o}=t,a=te(e,o);this.dispatch("article/loadArticle",a)},loadMatch({rootState:t},e){const{title:o,number:a,content:i}=e,{setting:n}=t,r=Xt(i,n),s={title:o,content:r,identity:a,shortest:null};this.dispatch("article/loadArticle",s)},random({state:t}){const e={content:Object(H["n"])(t.content)};this.dispatch("article/loadArticle",e)},init({state:t}){const e={title:t.title,content:t.content,identity:t.identity,shortest:null};this.dispatch("article/loadArticle",e)},loadRandomArticle(){this.dispatch("article/loadServerArticle",u["b"].getRandomArticle)},loadDailyArticle(){this.dispatch("article/loadServerArticle",u["b"].getTodayArticle)},loadServerArticle({state:t,rootGetters:e},o){o().then(o=>{const a=o.id;if(a===t.identity)return void i["Message"].warning({message:"您点得太快了，等会再试啦~"});const n=Object(H["p"])(o.content).map(H["l"]);if(n.length<=1){const t={title:`《${o.title}》- ${o.author}`,content:Object(H["l"])(o.content),number:o.id};return void this.dispatch("article/loadMatch",t)}const r={articleTitle:`《${o.title}》- ${o.author}(总${Object(H["l"])(o.content).length}字)`,articleText:n.join("\n"),textType:2,currentParagraphNo:1,indentity:a,paragraphSize:n.length};this.dispatch("kata/loadArticle",r);const s=e["kata/nextParagraph"];this.dispatch("article/loadMatch",s)}).catch(t=>{i["Message"].warning({message:""+t.message})})},loadTodayHistories({rootGetters:t},e){u["b"].getTodayHistories().then(o=>{const a=o[0].id,i="simple"===e,n={articleTitle:`《历史上的今天${o[0].date}》`,articleText:o.map(t=>i?t.title:`《${t.title}》${t.description}`).join("\n"),textType:2,currentParagraphNo:1,indentity:a};this.dispatch("kata/loadArticle",n);const r=t["kata/nextParagraph"];this.dispatch("article/loadMatch",r)}).catch(t=>{i["Message"].warning({message:""+t.message})})},loadLettersAndNumers({rootGetters:t},e){let o={articleTitle:"《字母50》",articleText:Object(H["f"])(2500),textType:1,currentParagraphNo:1,indentity:400,paragraphSize:50};"letters"===e&&(o={articleTitle:"《字母50》",articleText:Object(H["f"])(2500),textType:1,currentParagraphNo:1,indentity:400,paragraphSize:50}),"lettersMix"===e&&(o={articleTitle:"《字母大小写50》",articleText:Object(H["f"])(2500,!0),textType:1,currentParagraphNo:1,indentity:450,paragraphSize:50}),"numbers"===e&&(o={articleTitle:"《数字50》",articleText:Object(H["g"])(2500),textType:1,currentParagraphNo:1,indentity:500,paragraphSize:50}),"lettersAndNumbers"===e&&(o={articleTitle:"《字母数字混50》",articleText:Object(H["e"])(2500),textType:1,currentParagraphNo:1,indentity:550,paragraphSize:50}),this.dispatch("kata/loadArticle",o);const a=t["kata/nextParagraph"];this.dispatch("article/loadMatch",a)},loadDailyNews({state:t,rootGetters:e}){u["b"].getTodayNews().then(o=>{const a=o.id;if(a===t.identity)return void i["Message"].warning({message:"您点得太快了，等会再试啦~"});const n={articleTitle:`《${o.title}》`,articleText:o.contentList.join("\n"),textType:2,currentParagraphNo:1,indentity:a,paragraphSize:o.contentList.length};this.dispatch("kata/loadArticle",n);const r=e["kata/nextParagraph"];this.dispatch("article/loadMatch",r)}).catch(t=>{i["Message"].warning({message:""+t.message})})},loadSingle({rootGetters:t},e){const{apiFunc:o,defaultIdentity:a=1}=e;o().then(e=>{const o={articleTitle:""+e.title,articleText:Object(H["m"])(e.content.split("")).join(""),currentParagraphNo:1,indentity:a,paragraphSize:10};this.dispatch("kata/loadArticle",o);const i=t["kata/nextParagraph"];this.dispatch("article/loadMatch",i)}).catch(t=>{i["Message"].warning({message:""+t.message})})},loadSingleFront500(){this.dispatch("article/loadSingle",{apiFunc:u["b"].getSingleFront500})},loadSingleMiddle500(){this.dispatch("article/loadSingle",{apiFunc:u["b"].getSingleMiddle500,defaultIdentity:500})},loadSingleEnd500(){this.dispatch("article/loadSingle",{apiFunc:u["b"].getSingleEnd500,defaultIdentity:1e3})},loadArticle({commit:t,rootState:e,rootGetters:o},a){t("load",a),setTimeout(()=>{const{codings:i,setting:n}=e,r=o["setting/getSelectChar"],s=Jt(a.content,i,n,r);if(s){t("shortest",s);const{path:e,vertices:o}=s,a=e.length;let i="";for(let t=0;t<a;){const a=o[e[t]].get(t);if(!a)break;const{codings:n,select:r,text:s}=a.value,c=n?n[0].code:s;i+=("❓"===c?s+c:c)+r,t=e[t]}this.dispatch("racing/setIdealKeys",i)}}),this.dispatch("racing/init",null,{root:!0})}},se={namespaced:!0,state:ae,getters:ie,mutations:ne,actions:re},ce=new Map([["init","初始化"],["wait","等待开始"],["pause","暂停"],["typing","进行中"],["finished","结束"]]),le=(t,e=3)=>{if(t<60)return""+t.toFixed(e);const o=t%60,a=(t-o)/60;return`${a.toFixed(0)}:${o.toFixed(e)}`},de=(t,e)=>t.length<e?de("0"+t,e):t,pe=(t,e,o,a)=>{let i=!1,n=0;if("NO_ERROR"===t)i=e===o;else if(i=e.length===o.length,"LAST_RIGHT"===t&&(i=a.length>0?i&&o.endsWith(a):i&&o.charAt(o.length-1)===e.charAt(e.length-1)),i){const t=e.split(""),a=o.split("");for(let e=0;e<t.length;e++)t[e]!==a[e]&&n++}return{finished:i,error:n}},he=new V["g"],ue={statusText({status:t}){return ce.get(t)||"未知"},typed({input:t}){return t.length},hitSpeed({keys:t}){const{time:e,start:o}=he,a=(0===o?e:e+Date.now()-o)/1e3;return a<.005?(0).toFixed(2):(t.length/a).toFixed(2)},typeSpeed(t){const{time:e,start:o}=t,a=(0===o?e:e+Date.now()-o)/1e3;if(a<.005)return(0).toFixed(2);const{input:i,error:n}=t;return(Math.max(i.length-5*n,0)/a*60).toFixed(2)},codeLength({keys:t,input:e}){return e.length>0?(t.length/e.length).toFixed(2):"0.00"},idealCodeLength(t,e,{article:o}){return o.shortest?(o.shortest.distance/o.content.length).toFixed(2):"0.00"},phraseRate({phrase:t},e,{article:o}){return(t/o.content.length*100).toFixed(2)},accuracy({keys:t,keyCount:e,replace:o,cleared:a},i){const n=t.length,r=e.Backspace||0,s=n-r-a-o*parseFloat(i.codeLength);return(s/n*100).toFixed(2)},leftHand({keys:t}){return t.map(t=>P["b"].get(t)).filter(t=>t&&t.finger<=3).length},rightHand({keys:t}){return t.map(t=>P["b"].get(t)).filter(t=>t&&t.finger>=5&&t.finger<=8).length},balance(t,e){const{leftHand:o,rightHand:a}=e,i=o+a;if(0===i)return"0";const n=Math.abs(o-a);return(100-n/i*100).toFixed(2)},enterCount({keyCount:t}){return t.Enter||0},backspaceCount({keyCount:t}){return t.Backspace||0},usedTime({status:t,time:e,start:o}){return"typing"!==t?e/1e3:(e+Date.now()-o)/1e3},passTime({status:t,time:e}){if("typing"!==t&&0===e)return"--:--";const o=e/1e3;if(o<60)return"00:"+de(o.toFixed(0),2);const a=o%60,i=(o-a)/60;return`${de(i.toFixed(0),2)}:${de(a.toFixed(0),2)}`},progress({input:t},e,{article:o}){return t.length/o.content.length},hash(t,e,{article:o}){const{identity:a}=o,{typeSpeed:i,hitSpeed:n,codeLength:r}=e,s=`${a}-${i}-${n}-${r}`;return u["a"].sha1Hmac(s)},hint({input:t},e,{article:o}){const{shortest:a}=o,i=t.length;if(!a||i>=a.path.length)return null;const{path:n,vertices:r}=a,s=[];for(let c=Math.min(10,o.content.length-i);c>0;c--){const t=i+c,e=r[t].get(i);e&&(t===n[i]?s.splice(0,0,e.value):s.push(e.value))}return s},achievement(t,e,{article:o}){const a=new V["a"];return Object.assign(a,{identity:o.identity||"1",title:o.title,typeSpeed:parseFloat(e.typeSpeed),hitSpeed:parseFloat(e.hitSpeed),codeLength:parseFloat(e.codeLength),contentLength:o.content.length,error:t.error,usedTime:t.time,pauseCount:t.pauseCount,pauseTime:t.pauseTime,accuracy:parseFloat(e.accuracy),balance:parseFloat(e.balance),leftHand:e.leftHand,rightHand:e.rightHand,idealCodeLength:parseFloat(e.idealCodeLength),phrase:t.phrase,phraseRate:parseFloat(e.phraseRate),selective:t.selective,replace:t.replace,keys:t.keys.length,backspace:e.backspaceCount,enter:e.enterCount,retry:t.retry}),a},result(t,e,{article:o,setting:a},i){const{inputMethod:n,inputMethodName:r,signature:s,signatureText:c}=a,l="易跟打"+i.version,d=new Map([["identity",`第${o.identity||1}段`],["typeSpeed","速度"+e.typeSpeed],["hitSpeed","击键"+e.hitSpeed],["codeLength","码长"+e.codeLength],["contentLength","字数"+o.content.length],["error","错字"+t.error],["usedTime","用时"+le(e.usedTime)],["pauseTime",`暂停${t.pauseCount}次${le(t.pauseTime/1e3)}秒`],["accuracy",`键准${e.accuracy}%`],["balance",`键法${e.balance}%`],["leftHand","左"+e.leftHand],["rightHand","右"+e.rightHand],["idealCodeLength","理论码长"+e.idealCodeLength],["phrase","打词数"+t.phrase],["phraseRate",`打词${e.phraseRate}%`],["selective","选重"+t.selective],["replace","回改"+t.replace],["keys","键数"+t.keys.length],["backspace","退格"+e.backspaceCount],["enter","回车"+e.enterCount],["retry","重打"+t.retry],["firstTry","[首打大神]"],["accuracyTip","[百准神仙]"],["noCodings","[词提禁用]"],["errPenaltyTip","[错一罚五]"],["mobileMode","[手搓选手]"],["hash","哈希"+e.hash],["inputMethod","输入法:"+r],["signature","个性签名:"+c],["version",l]]),p=a.resultOptions.slice(0);n&&r&&p.push("inputMethod"),s&&c&&p.push("signature");const h=new Set(p),u=[];return d.forEach((o,i)=>"firstTry"===i?t.retry<=1&&u.push(`[首打${Object(H["o"])(e.typeSpeed)}]`):"accuracyTip"===i?e.accuracy>=90&&u.push(`[${Object(H["a"])(e.accuracy)}]`):"noCodings"===i?!a.hint&&u.push(o):"errPenaltyTip"===i?t.error>=1&&u.push(o):"mobileMode"===i?Object(H["j"])()&&u.push(o):void(h.has(i)&&u.push(o))),u.join(" ").replace(/\]\s{1,2}\[/gm,"][")}},ge={init(t){Object.assign(t,new V["g"]),t.status="init"},start(t){t.status="typing",t.start=Date.now(),t.time=0},finish(t,e){t.error=e.error,t.status="finished",t.time+=Date.now()-t.start,t.start=0,t.timer=0},pause(t){const e=Date.now();t.status="pause",t.time+=e-t.start,t.start=e,t.pauseCount++},resume(t){const e=Date.now();t.status="typing",t.pauseTime+=e-t.start,t.start=e},retry(t){const e=t.retry+1;Object.assign(t,new V["g"]),t.status="init",t.retry=e,t.timer=0},typing(t,{e:e,altSelectKey:o}){const{code:a}=e,{keyCount:i,keys:n}=t,r=i[a];i[a]=(r||0)+1,n.push(a),e.isComposing&&o.indexOf(e.key)>=0&&t.selective++,t.time+=1e-9},accept(t,e){t.input=e},replace(t,e){t.replace+=e},cleared(t,e){t.cleared+=e},phrase(t,e){t.phrase+=e},elapse(t,e){t.time+=e,t.start+=e},timer(t,e){t.timer=e},idealKeys(t,e){t.idealKeys=e}},me={init({commit:t,state:e}){e.timer&&clearInterval(e.timer),t("init")},retry({commit:t,state:e}){e.timer&&clearInterval(e.timer),"init"!==e.status&&t("retry")},pause({commit:t,state:e}){"typing"===e.status&&t("pause")},resume({commit:t,state:e}){"pause"===e.status&&t("resume")},typing({commit:t,state:e,rootState:o},a){if("init"===e.status&&0===e.timer){const o=1e3,a=setInterval(()=>{"typing"===e.status&&t("elapse",o)},o);t("timer",a),t("start")}const{altSelectKey:i}=o.setting;t("typing",{e:a,altSelectKey:i})},accept({commit:t,state:e,rootState:o},a){const{article:i,setting:n}=o;if(0===a.length&&n.retryWhenEmpty)this.dispatch("racing/retry");else{if(e.input!==a){const o=a.length-e.input.length;let n=0;if(o){const t=e.input.length,o=a.slice(t).split(""),r=i.content.slice(t).split("");n=o.filter((t,e)=>t!==r[e]).length}this.dispatch("summary/typeWords",{delta:o,errorWords:n},{root:!0}),o<0&&t("replace",-o)}t("accept",a)}},phrase({commit:t,rootState:e},o){const{punctuations:a}=e.setting;let i=o.length;const n=o.charAt(i-1);if(a.has(n))i-=1;else if(o.length>=2){const t=o.substring(i-2);a.has(t)&&(i-=2)}i>1&&t("phrase",i)},checkFinished({commit:t,state:e,rootState:o,getters:a},n){const{article:r,setting:s,kata:c}=o,{input:l}=e,d=pe(s.finishStrategy,l,r.content,n);d.finished&&(clearInterval(e.timer),t("finish",d),setTimeout(()=>{this.dispatch("summaryKeyCount",e.keyCount),this.dispatch("summary/saveWordCount");const t=a.achievement;if(t.typeSpeed>0&&(this.dispatch("addAchievements",t,{root:!0}),p["a"].achievement.add(t)),c.criteriaOpen){const t=()=>{"retry"===c.criteriaAction?this.dispatch("racing/retry"):"random"===c.criteriaAction&&this.dispatch("kata/random")},e=+a.typeSpeed>=c.criteriaSpeed&&a.hitSpeed>=c.criteriaHitSpeed&&a.accuracy>=c.criteriaAccuracy&&0===d.error;if(e){const e=c.achievedCount+1;e>=c.criteriaAchieved?(this.dispatch("kata/updateAchievedCount",0),this.dispatch("kata/next")):(i["Message"].success({message:`恭喜！当前段达标『${e}/${c.criteriaAchieved}』次`}),this.dispatch("kata/updateAchievedCount",e),t())}else t()}else this.dispatch("kata/next",!0)}))},setIdealKeys({commit:t},e){t("idealKeys",e)}},ye={namespaced:!0,state:he,getters:ue,mutations:ge,actions:me},fe=new V["j"],be={state(){return fe},hint(){return fe.hint},cloak(){return fe.cloak},darkMode(){return fe.darkMode},replaceSpace(){return fe.replaceSpace},replaceSymbol(){return fe.replaceSymbol},offClipboard(){return fe.offClipboard},styles(){const{pending:t,typed:e,correct:o,error:a,hintColor:i,code1:n,code2:r,code3:s,code4:c,fontFamily:l,fontSize:d,fontWeight:p,articleRows:h,inputRows:u,darkTyped:g,darkCorrect:m,darkPending:y}=fe;return{"--pending":t,"--dark-pending":y,"--typed":e,"--dark-typed":g,"--correct":o,"--dark-correct":m,"--error":a,"--hint":i,"--code1":n,"--code2":r,"--code3":s,"--code4":c,"--racing-font":l,"--font-size":d,"--font-weight":p,"--article-rows":h,"--input-rows":u}},getSelectChar(){return(t,e)=>{if(t<0||4===e&&0===t)return"";const{selective:o,pageSize:a,nextPage:i}=fe;let n=t,r="";while(n>=a)r+=i,n-=a;return r+o[n]}}},ve={update(t,e){e&&Object.assign(t,e,{lastUpdatedTime:Date.now()})},loaded(t){t.loaded=!0},toggleHint(t,e){t.hint=e},toggleCloak(t,e){t.cloak=e,p["a"].configs.put(t,"setting")},toggleDarkMode(t,e){t.darkMode=e,p["a"].configs.put(t,"setting")},toggleSidebar(t,e){t.showSidebar=e,p["a"].configs.put(t,"setting")},toggleClipboard(t,e){t.offClipboard=e,p["a"].configs.put(t,"setting")},saveToDB(t){p["a"].configs.put(t,"setting").then(()=>{console.log("db settings saved")})},toggleReplaceSpace(t,e){t.replaceSpace=e},toggleReplaceSymbol(t,e){t.replaceSymbol=e}},we={load({commit:t},e){e&&(t("update",e),t("loaded"))}},ke={namespaced:!0,state:fe,getters:be,mutations:ve,actions:we},Se=new V["d"],Ce={login(t,e){t.authenticated=!0,t.token=e.token,t.user=e.user},logout(t){t.authenticated=!1,t.token="",t.user=null}},Oe={login({commit:t},e){e&&(u["a"].updateToken(e.token),t("login",e))},logout({commit:t}){localStorage.removeItem("token"),localStorage.removeItem("user"),t("logout")}},je={namespaced:!0,state:Se,mutations:Ce,actions:Oe},xe=new V["k"],Te={todayWords:t=>t.todayWords,totalWords:t=>t.totalWords,todayErrorWords:t=>t.todayErrorWords,totalErrorWords:t=>t.totalErrorWords,consecutiveDays:t=>t.consecutiveDays,totalDays:t=>t.totalDays},_e={newDay:(t,e)=>{t.todayWords=0,t.todayErrorWords=0,t.consecutiveDays+=1,t.totalDays+=1,t.date=e.getDate(),t.saved=e.toLocaleDateString()},words:(t,e)=>{t.todayWords+=e,t.totalWords+=e},errorWords:(t,e)=>{t.todayErrorWords+=e,t.totalErrorWords+=e},init:t=>{t.loaded=!0},loaded:(t,e)=>{Object.assign(t,e),t.loaded=!0},saveDate:t=>{t.saved=(new Date).toLocaleDateString()}},Ae={init:({commit:t})=>{t("init")},typeWords:({commit:t,state:e},{delta:o,errorWords:a})=>{if(o<=0)return;const i=new Date;i.getDate()!==e.date&&t("newDay",i),t("words",o),t("errorWords",a)},loaded:({commit:t},e)=>{const o=new Date,a=new Date;a.setDate(o.getDate()-1),e.saved!==o.toLocaleDateString()&&e.saved!==a.toLocaleDateString()&&(e.consecutiveDays=0),t("loaded",e)},saveWordCount:({commit:t,state:e})=>{if(!e.loaded)return console.log("历史数据未正确加载，请刷新再试"),void i["Message"].warning({message:"历史数据未正确加载，请刷新再试"});const o={loaded:!1};Object.assign(o,e),delete o.loaded,p["a"].summary.put(o,"wordCount"),t("saveDate")}},Me={namespaced:!0,state:xe,getters:Te,mutations:_e,actions:Ae},De=new V["c"],He={currentMatch:t=>t.articleTitle,paragraphCount:t=>2===t.textType?t.articleText.split("\n").length:Math.ceil(t.articleText.length/t.paragraphSize),nextParagraph:(t,e)=>({title:`${t.articleTitle}(${t.currentParagraphNo}/${e.paragraphCount})`,number:t.currentParagraphNo+t.indentity-1,content:t.currentContent})},Pe={init:t=>{t.mode=0,t.isReading=!1,t.criteriaOpen=!1,t.achievedCount=0,Object(H["j"])()&&(t.criteriaHitSpeed=0)},article:(t,e)=>{t.textType=e.textType;const o=(e.currentParagraphNo-1)*e.paragraphSize;t.articleText=e.articleText,t.articleTitle=e.articleTitle,t.currentParagraphNo=e.currentParagraphNo,t.paragraphSize=e.paragraphSize,t.indentity=e.indentity||1,2===t.textType?t.currentContent=t.articleText.split("\n")[e.currentParagraphNo-1]:t.currentContent=t.articleText.slice(o,o+e.paragraphSize),t.mode=1,t.isReading=e.isReading},prev:t=>{t.currentParagraphNo-=1;const e=(t.currentParagraphNo-1)*t.paragraphSize;2===t.textType?t.currentContent=t.articleText.split("\n")[t.currentParagraphNo-1]:t.currentContent=t.articleText.slice(e,e+t.paragraphSize)},next:t=>{t.currentParagraphNo+=1;const e=(t.currentParagraphNo-1)*t.paragraphSize;2===t.textType?t.currentContent=t.articleText.split("\n")[t.currentParagraphNo-1]:t.currentContent=t.articleText.slice(e,e+t.paragraphSize)},random:t=>{t.currentContent=Object(H["m"])(t.currentContent.split("")).join("")},mode:(t,e)=>{t.mode=e},updateCriteria:(t,e)=>{e&&Object.assign(t,e)},load:(t,e)=>{e&&Object.assign(t,e)},updateTipWarning:(t,e)=>{t.hasTipWarning=e},achievedCount:(t,e)=>{t.achievedCount=e}},Re={init({commit:t}){t("init")},load({commit:t},e){t("load",e)},updateAchievedCount({commit:t},e){t("achievedCount",e)},loadArticle({commit:t,state:e},o){t("article",o),Ht.insertOrUpdateHistory(e)},updateCriteria({commit:t,state:e,getters:o},a){a&&t("updateCriteria",a)},updateTipWarning({commit:t},e){t("updateTipWarning",e)},prev({commit:t,state:e,getters:o}){if(1===e.mode){const a=e.currentParagraphNo<=1?0:1;1===a&&(t("prev"),this.dispatch("article/loadMatch",o.nextParagraph),Ht.insertOrUpdateHistory(e))}},next({commit:t,state:e,getters:o},a=!1){if(1===e.mode){const a=e.currentParagraphNo>=o.paragraphCount?2:1;t("mode",a),e.isReading&&this.dispatch("reading/updateProgress",e.currentContent.length),1===a&&(t("next"),this.dispatch("article/loadMatch",o.nextParagraph),Ht.insertOrUpdateHistory(e))}else a||(t("init"),i["Message"].warning({message:"当前不在发文状态，无法进入下一段"}))},random({commit:t,getters:e}){t("random"),this.dispatch("article/loadMatch",e.nextParagraph)}},Le={namespaced:!0,state:De,getters:He,mutations:Pe,actions:Re},Fe=new V["h"],$e={books(){return Fe.books},bookConf(){return Fe.bookConf}},We={updateBookConf(t,e){e&&(t.bookConf=Object.assign({},t.bookConf,e))},loadBooks(t,e){t.books=e},updateProgress(t,e){t.bookConf.currentWords+=e,t.bookConf.currentWords>t.bookConf.totalWords&&(t.bookConf.currentWords=t.bookConf.totalWords),t.books=t.books.map(e=>({...e,currentWords:e.id===t.bookConf.id?t.bookConf.currentWords:e.currentWords}))},saveBooksConfToDB(t){p["a"].bookShelf.put(t.books,"books").then(()=>{console.log("db bookShelf - book saved")})}},Ee={loadBooks({commit:t},e){e&&t("loadBooks",e)},selectBook({commit:t,state:e},o){const a=e.books.find(t=>t.id===o);t("updateBookConf",a)},updateProgress({commit:t},e){t("updateProgress",e),t("saveBooksConfToDB")},updateBookConf({commit:t},e){t("updateBookConf",e)},updateBooksByConf({commit:t,state:e},o){const a=e.books.map(t=>t.id===e.bookConf.id?{...e.bookConf}:t);t("loadBooks",a)},deleteBookById({commit:t,state:e},o){const a=e.books.filter(t=>t.id!==o);t("loadBooks",a),p["a"].bookShelf.delete(o),p["a"].bookShelf.put(a,"books")}},Ke={namespaced:!0,state:Fe,getters:$e,mutations:We,actions:Ee},Ne=new V["i"],ze={dates:t=>t.dates,speeds:t=>t.speeds},Ie={loaded:(t,e)=>{Object.assign(t,e)}},Be={loaded:({commit:t},e)=>{const o=e.filter(t=>t.codeLength>=1&&t.contentLength>=5),a=t=>t.reduce((t,e)=>t+e.usedTime,0),i={dates:o.map(t=>new Date(t.finishedTime).toLocaleString()),speeds:o.map(t=>t.typeSpeed),hitSpeeds:o.map(t=>t.hitSpeed),codeLengthList:o.map(t=>t.codeLength),total:e.length,todayDuration:a(o.filter(t=>ut()(t.finishedTime).isSame(ut()(),"day"))),totalDuration:a(o)};t("loaded",i)}},Ge={namespaced:!0,state:Ne,getters:ze,mutations:Ie,actions:Be};a["default"].use(Vt["a"]);const Ve=new V["f"],Ue={state:Ve,modules:{article:se,racing:ye,setting:ke,login:je,summary:Me,kata:Le,reading:Ke,record:Ge},getters:{version(t){const e="(73)";return t.appVersion?`macOS版v${t.appVersion}${e}`:"web"+e}},mutations:{codings(t,e){t.codings=e},overallKeyCount(t,e){const{overallKeyCount:o}=t;for(const a in e)o[a]+=e[a]},updateAchievements(t,e){t.achievements=e},addAchievements(t,e){t.achievements.unshift(e)},updateTotalAchievements(t,e){t.totalAchievements=e},increaseTotalAchievements(t){t.totalAchievements+=1},appVersion(t,e){t.appVersion=e}},actions:{updateCodings({commit:t},e){t("codings",e)},summaryKeyCount({commit:t,state:e},o){t("overallKeyCount",o),p["a"].summary.put(e.overallKeyCount,"keyCount")},addAchievements({commit:t},e){t("addAchievements",e),t("increaseTotalAchievements")},setAppVersion({commit:t},e){t("appVersion",e)}}};var qe=new Vt["a"].Store(Ue);o("e4cb"),o("2a3d"),o("1f11"),o("2fb4"),o("f0db");a["default"].use(n.a),a["default"].config.productionTip=!1,a["default"].filter("numberWithCommas",(function(t){return t||0===t?t.toLocaleString("en-US"):""})),Object(H["i"])(),Object(H["h"])("",!0),new a["default"]({router:Gt,store:qe,render:t=>t(j),mounted:()=>document.dispatchEvent(new Event("x-app-rendered"))}).$mount("#app")},cfc9:function(t,e,o){"use strict";var a=o("4dec");class i extends a["a"]{constructor(t){super(t),this.version(1).stores({configs:"id",summary:"id"}),this.version(2).stores({configs:"id",summary:"id",achievement:"++"}),this.version(3).stores({configs:"",summary:"",achievement:"++"}),this.version(4).stores({configs:"",summary:"",achievement:"++",bookShelf:""}),this.configs=this.table("configs"),this.summary=this.table("summary"),this.achievement=this.table("achievement"),this.bookShelf=this.table("bookShelf")}}const n=new i("QuickTyping");n.open().catch(t=>{console.error("Open failed: "+t.stack);const e=new a["a"]("QuickTyping");e.version(2).stores({configs:"id",summary:"id",achievement:"++"}),e.open().then(()=>{const t=new Map;e.tables.forEach(e=>{t.set(e.name,e.toArray())}),Promise.all(t.values()).then(o=>{const[a,i,r]=o;n.delete().then(()=>{n.open().then(()=>{t.set("configs",a.forEach(t=>{const{id:e}=t;delete t.id,n.configs.add(t,e)})),t.set("summary",i.forEach(t=>{const{id:e}=t;delete t.id,n.summary.add(t,e)})),t.set("achievement",r.forEach(t=>n.achievement.add(t))),Promise.all(t.values()).then(()=>{e.close(),alert("检测到数据库版本不兼容，已升级，请刷新页面后开始使用")})})})})})}),e["a"]=n},e7b9:function(t,e,o){"use strict";o.d(e,"b",(function(){return a}));const a=new Map([["，",","],["。","."],["《","⇧,"],["》","⇧."],["｜","⇧\\"],["；",";"],["：","⇧;"],["‘","'"],["、","/"],["？","⇧/"],["｀","`"],["～","⇧`"],["！","⇧1"],["＠","⇧2"],["＃","⇧3"],["￥","⇧4"],["％","⇧5"],["……","⇧6"],["＆","⇧7"],["＊","⇧8"],["（","⇧9"],["）","⇧0"],["－","-"],["——","⇧-"],["＝","="],["＋","⇧="],["【","["],["】","]"],["〖","⇧["],["〗","⇧]"],[",",","],["<","⇧,"],[".","."],[">","⇧."],["/","/"],["?","⇧/"],[";",";"],[":","⇧;"],["'","'"],['"',"⇧'"],["“","⇧'"],["”","⇧'"],["\\","\\"],["|","⇧\\"],["`","`"],["~","⇧`"],["!","⇧1"],["@","⇧2"],["#","⇧3"],["$","⇧4"],["%","⇧5"],["^","⇧6"],["&","⇧7"],["*","⇧8"],["(","⇧9"],[")","⇧0"],["-","-"],["_","⇧-"],["+","⇧="],["=","="],["[","["],["]","]"],["{","⇧["],["}","⇧]"]]);e["a"]=a},f0db:function(t,e,o){},fd4d:function(t,e,o){"use strict";o("57a3")},fed7:function(t,e,o){"use strict";o.d(e,"m",(function(){return a})),o.d(e,"n",(function(){return i})),o.d(e,"h",(function(){return n})),o.d(e,"k",(function(){return r})),o.d(e,"i",(function(){return s})),o.d(e,"o",(function(){return d})),o.d(e,"a",(function(){return p})),o.d(e,"j",(function(){return h})),o.d(e,"c",(function(){return u})),o.d(e,"l",(function(){return g})),o.d(e,"d",(function(){return m})),o.d(e,"p",(function(){return y})),o.d(e,"f",(function(){return f})),o.d(e,"g",(function(){return b})),o.d(e,"e",(function(){return v})),o.d(e,"b",(function(){return w}));o("14d9");function a(t){let e=t.length;while(e>1){const o=Math.floor(Math.random()*e--);[t[e],t[o]]=[t[o],t[e]]}return t}function i(t){const e=t.split("");return a(e).join("")}function n(t="",e=!1){const o=document.getElementsByTagName("html")[0],a=e?localStorage.getItem("colorMode")||"":t;o.setAttribute("class",a)}const r=!!window.electronAPI;function s(){const t=document.getElementsByTagName("html")[0];r&&t.setAttribute("data-is-native",""),window.__typer={env:r?"native":"web"}}const c=30,l={lv1:"菜鸟",lv2:"新手",lv3:"熟手",lv4:"高手",lv5:"大师",lv6:"大神",lv7:"王者",lv8:"传奇"};function d(t){const e=Math.ceil(t/c),o=e>8?8:e,a="lv"+o;return l[a]}function p(t){return t>=100?"百准神仙":t>=99?"键准大神":t>=97?"键准大师":t>=95?"键准高手":t>=92?"键准熟手":"键准新手"}const h=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);function u(){if(!h())return;const t=document.querySelector("#racing-textarea");let e=null;const o=document.querySelector("body");function a(){o.style.position="fixed",o.style.top=window.pageYOffset-62+"px"}function i(){e&&(e.blur(),e=null,window.removeEventListener("touchmove",i),window.removeEventListener("scroll",a),o.style.top="0px",o.style.position="")}function n(t){const o=t||window.event;e?e=o.target:(window.addEventListener("scroll",a),e=o.target,window.addEventListener("touchmove",i))}t.addEventListener("focusin",n)}const g=(t="")=>t.replace(/[\n\r\s]/g,""),m=t=>{const e=Math.floor(t/1e3),o=Math.floor(e/86400),a=Math.floor(e%86400/3600),i=Math.floor(e%86400%3600/60),n=Math.floor(e%86400%3600%60);return o>0?`${o}天${a}时${i}分${n}秒`:a>0?`${a}时${i}分${n}秒`:i>0?`${i}分${n}秒`:n+"秒"},y=t=>{const e=1050,o=["。","！","？","；"],a=[];if(t.length<=e)return a.push(t),a;let i=0;while(i<t.length){const n=i+e;if(n>=t.length){a.push(t.substring(i));break}const r=t.substring(i,n);let s=-1;for(const t of o){const e=r.lastIndexOf(t);-1!==e&&e>s&&(s=e)}-1===s&&(s=e),a.push(t.substring(i,i+s+1)),i+=s+1}return a},f=(t,e=!1)=>{let o="";const a=e?"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ":"abcdefghijklmnopqrstuvwxyz",i=a.length;for(let n=0;n<t;n++)o+=a.charAt(Math.floor(Math.random()*i));return o},b=t=>{const e=Array.from({length:10},(t,e)=>e),o=[];for(let a=0;a<t;a++){const t=Math.floor(Math.random()*e.length);o.push(e[t])}return o.join("")},v=t=>{const e=Math.floor(t/2);return i(f(e,!0)+b(e))},w={random:"乱序",retry:"重打",noop:"不处理"}}});