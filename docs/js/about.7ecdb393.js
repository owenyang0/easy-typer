(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["about"],{"21e7":function(t,e,n){"use strict";n("a413")},3971:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"markdown-body",domProps:{innerHTML:t._s(t.html)}})},i=[],a=n("9ab4"),r=n("1b40"),s="# 木易跟打器-下载地址\n\n本程序可从在`网页练习`或下载`macOS客户端`使用，两者的差异只在于是否能直接载文的区别。\n## 一、网页练习\n> 木易跟打器 - 发文 [https://typer.owenyang.top/kata](https://typer.owenyang.top/kata)\n\n## 二、客户端下载\n> **【官网下载】** [木易跟打器0.3.0] - [木易跟打器-0.3.0-mac.zip](http://s.owenyang.top/typers/%E6%9C%A8%E6%98%93%E8%B7%9F%E6%89%93%E5%99%A8-0.3.0-mac.zip)\n\n> **【百度网盘】** [木易跟打器0.3.0] - [https://pan.baidu.com/s/1aDbfbFx4mrM2B-ErvR-tnQ?pwd=8888](https://pan.baidu.com/s/1aDbfbFx4mrM2B-ErvR-tnQ?pwd=8888) 提取码8888\n\n> **【发布记录】** [木易跟打器App所有发布记录] - [https://pan.baidu.com/s/16UKkWAnH9nk3Na45RGe1jg?pwd=8888](https://pan.baidu.com/s/16UKkWAnH9nk3Na45RGe1jg?pwd=8888) 提取码8888\n\n### QQ群文件\n> 群号 `787343469` 群文件下载\n\n## 三、功能对比\n\n| 功能                            | mac客户端 | 网页版 |\n|---------------------------------|-----------|--------|\n| 直接载文(F4)                    | ✅         | ❌      |\n| 潜水模式                        | ✅         | 不适用 |\n| 赛文跟打                        | ✅         | ✅      |\n| 词库练习                        | ✅         | ✅      |\n| 发文练习(F2复合指标击键、键准 ) | ✅         | ✅      |\n| 发文练习(常用单字字频排序)      | ✅         | ✅      |\n| 成绩发送      | ✅         | ✅      |\n| 历史记录(所有数据)              | ✅         | ✅      |\n| 数据可视化                      | ✅         | ✅      |\n| 按键统计(热力图)                | ✅         | ✅      |\n| 词提上传(86、091、虎码等无限制) | ✅         | ✅      |\n| 主题切换(暗黑模式)              | ✅         | ✅      |\n\n",l=n("339e"),c=n.n(l);const u=new c.a.Converter;u.setOption("tables",!0),u.setOption("tasklists",!0);let d=class extends r["c"]{get html(){return u.makeHtml(s)}};d=Object(a["a"])([r["a"]],d);var h=d,p=h,g=n("2877"),f=Object(g["a"])(p,o,i,!1,null,null,null);e["default"]=f.exports},"3f25":function(t,e,n){"use strict";n("76da")},"76da":function(t,e,n){},a413:function(t,e,n){},e4bb:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"history-page"},[e("el-container",{attrs:{direction:"vertical"}},[e("IndicatorSimple"),e("el-row",{staticClass:"record-chart"},[e("el-card",[e("div",{attrs:{id:"record-chart"}})])],1),e("Achievements")],1)],1)},i=[],a=n("9ab4"),r=n("1b40"),s=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"history-indicator"},[e("el-row",{attrs:{gutter:10}},[e("el-col",{attrs:{xs:24,sm:12,lg:8}},[e("el-card",{staticClass:"box-card"},[e("div",{staticClass:"chartCard"},[e("div",{staticClass:"chartTop"},[e("div",{staticClass:"metaWrap"},[e("div",{staticClass:"meta"},[e("span",[t._v("今日跟打记录")]),e("span",{staticClass:"action"},[e("el-tooltip",{attrs:{effect:"dark",content:"今日跟打记录指标展示",placement:"top"}},[e("i",{staticClass:"el-icon-info"})])],1)]),e("div",{staticClass:"total"},[e("span",[t._v(t._s(t._f("numberWithCommas")(t.todayWords))),e("span",{staticClass:"total-label"},[t._v(" 字")])])])])]),e("div",{staticClass:"content",staticStyle:{height:"46px"}},[e("div",{staticClass:"contentFixed"},[e("div",{staticClass:"trendItem",staticStyle:{"margin-right":"20px"}},[e("span",[t._v("正确字数"),e("span",{staticClass:"trendText"},[t._v(t._s(t._f("numberWithCommas")(t.todayWords-t.todayErrorWords)))])]),e("span",{staticClass:"down"},[e("i",{staticClass:"el-icon-check"}),t._v("(正确率"+t._s(t.todayCorrectRatio)+"%)")])]),e("div",{staticClass:"trendItem",attrs:{title:""}},[e("span",[t._v("错误字数"),e("span",{staticClass:"trendText"},[t._v(t._s(t._f("numberWithCommas")(t.todayErrorWords)))])]),e("span",{staticClass:"up"},[e("i",{staticClass:"el-icon-close"})])])])]),e("div",{staticClass:"footer"},[e("div",{staticClass:"field"},[e("span",{staticClass:"label"},[t._v("连续跟打天数")]),e("span",{staticClass:"number"},[t._v(t._s(t.consecutiveDays))])])])])])],1),e("el-col",{attrs:{xs:24,sm:12,lg:8}},[e("el-card",{staticClass:"box-card"},[e("div",{staticClass:"chartCard"},[e("div",{staticClass:"chartTop"},[e("div",{staticClass:"metaWrap"},[e("div",{staticClass:"meta"},[e("span",[t._v("跟打总记录")]),e("span",{staticClass:"action"},[e("el-tooltip",{attrs:{effect:"dark",content:"跟打总记录指标展示",placement:"top"}},[e("i",{staticClass:"el-icon-info"})])],1)]),e("div",{staticClass:"total"},[e("span",[t._v(t._s(t._f("numberWithCommas")(t.totalWords))),e("span",{staticClass:"total-label"},[t._v(" 字")])])])])]),e("div",{staticClass:"content",staticStyle:{height:"46px"}},[e("div",{staticClass:"contentFixed"},[e("div",{staticClass:"trendItem",staticStyle:{"margin-right":"20px"}},[e("span",[t._v("正确字数"),e("span",{staticClass:"trendText"},[t._v(t._s(t._f("numberWithCommas")(t.totalWords-t.totalErrorWords)))])]),e("span",{staticClass:"down"},[e("i",{staticClass:"el-icon-check"}),t._v("(正确率"+t._s(t.totalCorrectRatio)+"%)")])]),e("div",{staticClass:"trendItem",attrs:{title:""}},[e("span",[t._v("错误字数"),e("span",{staticClass:"trendText"},[t._v(t._s(t._f("numberWithCommas")(t.totalErrorWords)))])]),e("span",{staticClass:"up"},[e("i",{staticClass:"el-icon-close"})])])])]),e("div",{staticClass:"footer"},[e("div",{staticClass:"field"},[e("span",{staticClass:"label"},[t._v("跟打总天数")]),e("span",{staticClass:"number"},[t._v(t._s(t.totalDays))]),e("span",{staticClass:"label",staticStyle:{"margin-left":"20px"}},[t._v("日均跟打")]),e("span",{staticClass:"number"},[t._v(t._s(t.totalDays?(t.totalWords/t.totalDays).toFixed(2):"-")+" 字")])])])])])],1)],1)],1)},l=[],c=n("4bb5");const u=Object(c["e"])("summary");let d=class extends r["c"]{get todayCorrectRatio(){return this.todayWords?((this.todayWords-this.todayErrorWords)/this.todayWords*100).toFixed(2):"-"}get totalCorrectRatio(){return this.totalWords?((this.totalWords-this.totalErrorWords)/this.totalWords*100).toFixed(2):"-"}};Object(a["a"])([u.Getter("todayWords")],d.prototype,"todayWords",void 0),Object(a["a"])([u.Getter("todayErrorWords")],d.prototype,"todayErrorWords",void 0),Object(a["a"])([u.Getter("totalWords")],d.prototype,"totalWords",void 0),Object(a["a"])([u.Getter("totalErrorWords")],d.prototype,"totalErrorWords",void 0),Object(a["a"])([u.Getter("consecutiveDays")],d.prototype,"consecutiveDays",void 0),Object(a["a"])([u.Getter("totalDays")],d.prototype,"totalDays",void 0),d=Object(a["a"])([r["a"]],d);var h=d,p=h,g=(n("3f25"),n("2877")),f=Object(g["a"])(p,s,l,!1,null,null,null),m=f.exports,v=n("4c64"),y=n("22b4"),b=n("1be7"),x=n("4cb5"),_=n("7fae"),O=n("1830"),S=n("4f85"),w=n("a15a"),M=n("2dc5"),C=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.hasSymbolVisual=!0,n}return Object(_["a"])(e,t),e.prototype.getInitialData=function(t){return Object(O["a"])(null,this,{useEncodeDefaulter:!0})},e.prototype.getLegendIcon=function(t){var e=new M["a"],n=Object(w["a"])("line",0,t.itemHeight/2,t.itemWidth,0,t.lineStyle.stroke,!1);e.add(n),n.setStyle(t.lineStyle);var o=this.getData().getVisual("symbol"),i=this.getData().getVisual("symbolRotate"),a="none"===o?"circle":o,r=.8*t.itemHeight,s=Object(w["a"])(a,(t.itemWidth-r)/2,(t.itemHeight-r)/2,r,r,t.itemStyle.fill);e.add(s),s.setStyle(t.itemStyle);var l="inherit"===t.iconRotate?i:t.iconRotate||0;return s.rotation=l*Math.PI/180,s.setOrigin([t.itemWidth/2,t.itemHeight/2]),a.indexOf("empty")>-1&&(s.style.stroke=s.style.fill,s.style.fill="#fff",s.style.lineWidth=2),e},e.type="series.line",e.dependencies=["grid","polar"],e.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},e}(S["a"]),I=C,j=n("6d8b"),A=n("deca"),k=n("2306"),T=n("861c"),D=n("7d6c"),P=n("c775"),L=n("7837"),R=n("0da8"),z=function(t){function e(e,n,o,i){var a=t.call(this)||this;return a.updateData(e,n,o,i),a}return Object(_["a"])(e,t),e.prototype._createSymbol=function(t,e,n,o,i){this.removeAll();var a=Object(w["a"])(t,-1,-1,2,2,null,i);a.attr({z2:100,culling:!0,scaleX:o[0]/2,scaleY:o[1]/2}),a.drift=E,this._symbolType=t,this.add(a)},e.prototype.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(null,t)},e.prototype.getSymbolType=function(){return this._symbolType},e.prototype.getSymbolPath=function(){return this.childAt(0)},e.prototype.highlight=function(){Object(D["o"])(this.childAt(0))},e.prototype.downplay=function(){Object(D["z"])(this.childAt(0))},e.prototype.setZ=function(t,e){var n=this.childAt(0);n.zlevel=t,n.z=e},e.prototype.setDraggable=function(t,e){var n=this.childAt(0);n.draggable=t,n.cursor=!e&&t?"move":n.cursor},e.prototype.updateData=function(t,n,o,i){this.silent=!1;var a=t.getItemVisual(n,"symbol")||"circle",r=t.hostModel,s=e.getSymbolSize(t,n),l=a!==this._symbolType,c=i&&i.disableAnimation;if(l){var u=t.getItemVisual(n,"symbolKeepAspect");this._createSymbol(a,t,n,s,u)}else{var d=this.childAt(0);d.silent=!1;var h={scaleX:s[0]/2,scaleY:s[1]/2};c?d.attr(h):A["f"](d,h,r,n),Object(A["e"])(d)}if(this._updateCommon(t,n,s,o,i),l){d=this.childAt(0);if(!c){h={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:d.style.opacity}};d.scaleX=d.scaleY=0,d.style.opacity=0,A["a"](d,h,r,n)}}c&&this.childAt(0).stopAnimation("leave")},e.prototype._updateCommon=function(t,e,n,o,i){var a,r,s,l,c,u,d,h,p,g=this.childAt(0),f=t.hostModel;if(o&&(a=o.emphasisItemStyle,r=o.blurItemStyle,s=o.selectItemStyle,l=o.focus,c=o.blurScope,d=o.labelStatesModels,h=o.hoverScale,p=o.cursorStyle,u=o.emphasisDisabled),!o||t.hasItemOption){var m=o&&o.itemModel?o.itemModel:t.getItemModel(e),v=m.getModel("emphasis");a=v.getModel("itemStyle").getItemStyle(),s=m.getModel(["select","itemStyle"]).getItemStyle(),r=m.getModel(["blur","itemStyle"]).getItemStyle(),l=v.get("focus"),c=v.get("blurScope"),u=v.get("disabled"),d=Object(L["c"])(m),h=v.getShallow("scale"),p=m.getShallow("cursor")}var y=t.getItemVisual(e,"symbolRotate");g.attr("rotation",(y||0)*Math.PI/180||0);var b=Object(w["b"])(t.getItemVisual(e,"symbolOffset"),n);b&&(g.x=b[0],g.y=b[1]),p&&g.attr("cursor",p);var x=t.getItemVisual(e,"style"),_=x.fill;if(g instanceof R["a"]){var O=g.style;g.useStyle(Object(j["m"])({image:O.image,x:O.x,y:O.y,width:O.width,height:O.height},x))}else g.__isEmptyBrush?g.useStyle(Object(j["m"])({},x)):g.useStyle(x),g.style.decal=null,g.setColor(_,i&&i.symbolInnerColor),g.style.strokeNoScale=!0;var S=t.getItemVisual(e,"liftZ"),M=this._z2;null!=S?null==M&&(this._z2=g.z2,g.z2+=S):null!=M&&(g.z2=M,this._z2=null);var C=i&&i.useNameLabel;function I(e){return C?t.getName(e):Object(P["b"])(t,e)}Object(L["e"])(g,d,{labelFetcher:f,labelDataIndex:e,defaultText:I,inheritColor:_,defaultOpacity:x.opacity}),this._sizeX=n[0]/2,this._sizeY=n[1]/2;var A=g.ensureState("emphasis");A.style=a,g.ensureState("select").style=s,g.ensureState("blur").style=r;var k=null==h||!0===h?Math.max(1.1,3/this._sizeY):isFinite(h)&&h>0?+h:1;A.scaleX=this._sizeX*k,A.scaleY=this._sizeY*k,this.setSymbolScale(1),Object(D["E"])(this,l,c,u)},e.prototype.setSymbolScale=function(t){this.scaleX=this.scaleY=t},e.prototype.fadeOut=function(t,e,n){var o=this.childAt(0),i=Object(T["a"])(this).dataIndex,a=n&&n.animation;if(this.silent=o.silent=!0,n&&n.fadeLabel){var r=o.getTextContent();r&&A["c"](r,{style:{opacity:0}},e,{dataIndex:i,removeOpt:a,cb:function(){o.removeTextContent()}})}else o.removeTextContent();A["c"](o,{style:{opacity:0},scaleX:0,scaleY:0},e,{dataIndex:i,cb:t,removeOpt:a})},e.getSymbolSize=function(t,e){return Object(w["c"])(t.getItemVisual(e,"symbolSize"))},e}(M["a"]);function E(t,e){this.parent.drift(t,e)}var N=z;function B(t,e,n,o){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(o.isIgnore&&o.isIgnore(n))&&!(o.clipShape&&!o.clipShape.contain(e[0],e[1]))&&"none"!==t.getItemVisual(n,"symbol")}function W(t){return null==t||Object(j["z"])(t)||(t={isIgnore:t}),t||{}}function V(t){var e=t.hostModel,n=e.getModel("emphasis");return{emphasisItemStyle:n.getModel("itemStyle").getItemStyle(),blurItemStyle:e.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:e.getModel(["select","itemStyle"]).getItemStyle(),focus:n.get("focus"),blurScope:n.get("blurScope"),emphasisDisabled:n.get("disabled"),hoverScale:n.get("scale"),labelStatesModels:Object(L["c"])(e),cursorStyle:e.get("cursor")}}var G=function(){function t(t){this.group=new M["a"],this._SymbolCtor=t||N}return t.prototype.updateData=function(t,e){this._progressiveEls=null,e=W(e);var n=this.group,o=t.hostModel,i=this._data,a=this._SymbolCtor,r=e.disableAnimation,s=V(t),l={disableAnimation:r},c=e.getSymbolPoint||function(e){return t.getItemLayout(e)};i||n.removeAll(),t.diff(i).add((function(o){var i=c(o);if(B(t,i,o,e)){var r=new a(t,o,s,l);r.setPosition(i),t.setItemGraphicEl(o,r),n.add(r)}})).update((function(u,d){var h=i.getItemGraphicEl(d),p=c(u);if(B(t,p,u,e)){var g=t.getItemVisual(u,"symbol")||"circle",f=h&&h.getSymbolType&&h.getSymbolType();if(!h||f&&f!==g)n.remove(h),h=new a(t,u,s,l),h.setPosition(p);else{h.updateData(t,u,s,l);var m={x:p[0],y:p[1]};r?h.attr(m):A["f"](h,m,o)}n.add(h),t.setItemGraphicEl(u,h)}else n.remove(h)})).remove((function(t){var e=i.getItemGraphicEl(t);e&&e.fadeOut((function(){n.remove(e)}),o)})).execute(),this._getSymbolPoint=c,this._data=t},t.prototype.updateLayout=function(){var t=this,e=this._data;e&&e.eachItemGraphicEl((function(e,n){var o=t._getSymbolPoint(n);e.setPosition(o),e.markRedraw()}))},t.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=V(t),this._data=null,this.group.removeAll()},t.prototype.incrementalUpdate=function(t,e,n){function o(t){t.isGroup||(t.incremental=!0,t.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[],n=W(n);for(var i=t.start;i<t.end;i++){var a=e.getItemLayout(i);if(B(e,a,i,n)){var r=new this._SymbolCtor(e,i,this._seriesScope);r.traverse(o),r.setPosition(a),this.group.add(r),e.setItemGraphicEl(i,r),this._progressiveEls.push(r)}}},t.prototype.eachRendered=function(t){k["traverseElements"](this._progressiveEls||this.group,t)},t.prototype.remove=function(t){var e=this.group,n=this._data;n&&t?n.eachItemGraphicEl((function(t){t.fadeOut((function(){e.remove(t)}),n.hostModel)})):e.removeAll()},t}(),Z=G,H=n("ee1a");function F(t,e,n){var o=t.getBaseAxis(),i=t.getOtherAxis(o),a=Y(i,n),r=o.dim,s=i.dim,l=e.mapDimension(s),c=e.mapDimension(r),u="x"===s||"radius"===s?1:0,d=Object(j["F"])(t.dimensions,(function(t){return e.mapDimension(t)})),h=!1,p=e.getCalculationInfo("stackResultDimension");return Object(H["c"])(e,d[0])&&(h=!0,d[0]=p),Object(H["c"])(e,d[1])&&(h=!0,d[1]=p),{dataDimsForPoint:d,valueStart:a,valueAxisDim:s,baseAxisDim:r,stacked:!!h,valueDim:l,baseDim:c,baseDataOffset:u,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function Y(t,e){var n=0,o=t.scale.getExtent();return"start"===e?n=o[0]:"end"===e?n=o[1]:Object(j["y"])(e)&&!isNaN(e)?n=e:o[0]>0?n=o[0]:o[1]<0&&(n=o[1]),n}function X(t,e,n,o){var i=NaN;t.stacked&&(i=n.get(n.getCalculationInfo("stackedOverDimension"),o)),isNaN(i)&&(i=t.valueStart);var a=t.baseDataOffset,r=[];return r[a]=n.get(t.baseDim,o),r[1-a]=i,e.dataToPoint(r)}var U=n("f658");function Q(t,e){var n=[];return e.diff(t).add((function(t){n.push({cmd:"+",idx:t})})).update((function(t,e){n.push({cmd:"=",idx:e,idx1:t})})).remove((function(t){n.push({cmd:"-",idx:t})})).execute(),n}function q(t,e,n,o,i,a,r,s){for(var l=Q(t,e),c=[],u=[],d=[],h=[],p=[],g=[],f=[],m=F(i,e,r),v=t.getLayout("points")||[],y=e.getLayout("points")||[],b=0;b<l.length;b++){var x=l[b],_=!0,O=void 0,S=void 0;switch(x.cmd){case"=":O=2*x.idx,S=2*x.idx1;var w=v[O],M=v[O+1],C=y[S],I=y[S+1];(isNaN(w)||isNaN(M))&&(w=C,M=I),c.push(w,M),u.push(C,I),d.push(n[O],n[O+1]),h.push(o[S],o[S+1]),f.push(e.getRawIndex(x.idx1));break;case"+":var j=x.idx,A=m.dataDimsForPoint,k=i.dataToPoint([e.get(A[0],j),e.get(A[1],j)]);S=2*j,c.push(k[0],k[1]),u.push(y[S],y[S+1]);var T=X(m,i,e,j);d.push(T[0],T[1]),h.push(o[S],o[S+1]),f.push(e.getRawIndex(j));break;case"-":_=!1}_&&(p.push(x),g.push(g.length))}g.sort((function(t,e){return f[t]-f[e]}));var D=c.length,P=Object(U["a"])(D),L=Object(U["a"])(D),R=Object(U["a"])(D),z=Object(U["a"])(D),E=[];for(b=0;b<g.length;b++){var N=g[b],B=2*b,W=2*N;P[B]=c[W],P[B+1]=c[W+1],L[B]=u[W],L[B+1]=u[W+1],R[B]=d[W],R[B+1]=d[W+1],z[B]=h[W],z[B+1]=h[W+1],E[b]=p[N]}return{current:P,next:L,stackedOnCurrent:R,stackedOnNext:z,status:E}}var K=n("48a9"),J=n("76a5"),$=n("e0d3"),tt=n("cbe5"),et=n("20c8"),nt=n("4a3f"),ot=Math.min,it=Math.max;function at(t,e){return isNaN(t)||isNaN(e)}function rt(t,e,n,o,i,a,r,s,l){for(var c,u,d,h,p,g,f=n,m=0;m<o;m++){var v=e[2*f],y=e[2*f+1];if(f>=i||f<0)break;if(at(v,y)){if(l){f+=a;continue}break}if(f===n)t[a>0?"moveTo":"lineTo"](v,y),d=v,h=y;else{var b=v-c,x=y-u;if(b*b+x*x<.5){f+=a;continue}if(r>0){var _=f+a,O=e[2*_],S=e[2*_+1];while(O===v&&S===y&&m<o)m++,_+=a,f+=a,O=e[2*_],S=e[2*_+1],v=e[2*f],y=e[2*f+1],b=v-c,x=y-u;var w=m+1;if(l)while(at(O,S)&&w<o)w++,_+=a,O=e[2*_],S=e[2*_+1];var M=.5,C=0,I=0,j=void 0,A=void 0;if(w>=o||at(O,S))p=v,g=y;else{C=O-c,I=S-u;var k=v-c,T=O-v,D=y-u,P=S-y,L=void 0,R=void 0;if("x"===s){L=Math.abs(k),R=Math.abs(T);var z=C>0?1:-1;p=v-z*L*r,g=y,j=v+z*R*r,A=y}else if("y"===s){L=Math.abs(D),R=Math.abs(P);var E=I>0?1:-1;p=v,g=y-E*L*r,j=v,A=y+E*R*r}else L=Math.sqrt(k*k+D*D),R=Math.sqrt(T*T+P*P),M=R/(R+L),p=v-C*r*(1-M),g=y-I*r*(1-M),j=v+C*r*M,A=y+I*r*M,j=ot(j,it(O,v)),A=ot(A,it(S,y)),j=it(j,ot(O,v)),A=it(A,ot(S,y)),C=j-v,I=A-y,p=v-C*L/R,g=y-I*L/R,p=ot(p,it(c,v)),g=ot(g,it(u,y)),p=it(p,ot(c,v)),g=it(g,ot(u,y)),C=v-p,I=y-g,j=v+C*R/L,A=y+I*R/L}t.bezierCurveTo(d,h,p,g,v,y),d=j,h=A}else t.lineTo(v,y)}c=v,u=y,f+=a}return m}var st=function(){function t(){this.smooth=0,this.smoothConstraint=!0}return t}(),lt=function(t){function e(e){var n=t.call(this,e)||this;return n.type="ec-polyline",n}return Object(_["a"])(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new st},e.prototype.buildPath=function(t,e){var n=e.points,o=0,i=n.length/2;if(e.connectNulls){for(;i>0;i--)if(!at(n[2*i-2],n[2*i-1]))break;for(;o<i;o++)if(!at(n[2*o],n[2*o+1]))break}while(o<i)o+=rt(t,n,o,i,i,1,e.smooth,e.smoothMonotone,e.connectNulls)+1},e.prototype.getPointOn=function(t,e){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var n,o,i=this.path,a=i.data,r=et["a"].CMD,s="x"===e,l=[],c=0;c<a.length;){var u=a[c++],d=void 0,h=void 0,p=void 0,g=void 0,f=void 0,m=void 0,v=void 0;switch(u){case r.M:n=a[c++],o=a[c++];break;case r.L:if(d=a[c++],h=a[c++],v=s?(t-n)/(d-n):(t-o)/(h-o),v<=1&&v>=0){var y=s?(h-o)*v+o:(d-n)*v+n;return s?[t,y]:[y,t]}n=d,o=h;break;case r.C:d=a[c++],h=a[c++],p=a[c++],g=a[c++],f=a[c++],m=a[c++];var b=s?Object(nt["f"])(n,d,p,f,t,l):Object(nt["f"])(o,h,g,m,t,l);if(b>0)for(var x=0;x<b;x++){var _=l[x];if(_<=1&&_>=0){y=s?Object(nt["a"])(o,h,g,m,_):Object(nt["a"])(n,d,p,f,_);return s?[t,y]:[y,t]}}n=f,o=m;break}}},e}(tt["b"]),ct=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(_["a"])(e,t),e}(st),ut=function(t){function e(e){var n=t.call(this,e)||this;return n.type="ec-polygon",n}return Object(_["a"])(e,t),e.prototype.getDefaultShape=function(){return new ct},e.prototype.buildPath=function(t,e){var n=e.points,o=e.stackedOnPoints,i=0,a=n.length/2,r=e.smoothMonotone;if(e.connectNulls){for(;a>0;a--)if(!at(n[2*a-2],n[2*a-1]))break;for(;i<a;i++)if(!at(n[2*i],n[2*i+1]))break}while(i<a){var s=rt(t,n,i,a,a,1,e.smooth,r,e.connectNulls);rt(t,o,i+s-1,s,a,-1,e.stackedOnSmooth,r,e.connectNulls),i+=s+1,t.closePath()}},e}(tt["b"]),dt=n("e887"),ht=n("b0af"),pt=n("5426"),gt=n("eda2"),ft=n("41ef");function mt(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return;return!0}}function vt(t){for(var e=1/0,n=1/0,o=-1/0,i=-1/0,a=0;a<t.length;){var r=t[a++],s=t[a++];isNaN(r)||(e=Math.min(r,e),o=Math.max(r,o)),isNaN(s)||(n=Math.min(s,n),i=Math.max(s,i))}return[[e,n],[o,i]]}function yt(t,e){var n=vt(t),o=n[0],i=n[1],a=vt(e),r=a[0],s=a[1];return Math.max(Math.abs(o[0]-r[0]),Math.abs(o[1]-r[1]),Math.abs(i[0]-s[0]),Math.abs(i[1]-s[1]))}function bt(t){return j["y"](t)?t:t?.5:0}function xt(t,e,n){if(!n.valueDim)return[];for(var o=e.count(),i=Object(U["a"])(2*o),a=0;a<o;a++){var r=X(n,t,e,a);i[2*a]=r[0],i[2*a+1]=r[1]}return i}function _t(t,e,n,o){var i=e.getBaseAxis(),a="x"===i.dim||"radius"===i.dim?0:1,r=[],s=0,l=[],c=[],u=[],d=[];if(o){for(s=0;s<t.length;s+=2)isNaN(t[s])||isNaN(t[s+1])||d.push(t[s],t[s+1]);t=d}for(s=0;s<t.length-2;s+=2)switch(u[0]=t[s+2],u[1]=t[s+3],c[0]=t[s],c[1]=t[s+1],r.push(c[0],c[1]),n){case"end":l[a]=u[a],l[1-a]=c[1-a],r.push(l[0],l[1]);break;case"middle":var h=(c[a]+u[a])/2,p=[];l[a]=p[a]=h,l[1-a]=c[1-a],p[1-a]=u[1-a],r.push(l[0],l[1]),r.push(p[0],p[1]);break;default:l[a]=c[a],l[1-a]=u[1-a],r.push(l[0],l[1])}return r.push(t[s++],t[s++]),r}function Ot(t,e){var n,o,i=[],a=t.length;function r(t,e,n){var o=t.coord,i=(n-o)/(e.coord-o),a=Object(ft["a"])(i,[t.color,e.color]);return{coord:n,color:a}}for(var s=0;s<a;s++){var l=t[s],c=l.coord;if(c<0)n=l;else{if(c>e){o?i.push(r(o,l,e)):n&&i.push(r(n,l,0),r(n,l,e));break}n&&(i.push(r(n,l,0)),n=null),i.push(l),o=l}}return i}function St(t,e,n){var o=t.getVisual("visualMeta");if(o&&o.length&&t.count()&&"cartesian2d"===e.type){for(var i,a,r=o.length-1;r>=0;r--){var s=t.getDimensionInfo(o[r].dimension);if(i=s&&s.coordDim,"x"===i||"y"===i){a=o[r];break}}if(a){var l=e.getAxis(i),c=j["F"](a.stops,(function(t){return{coord:l.toGlobalCoord(l.dataToCoord(t.value)),color:t.color}})),u=c.length,d=a.outerColors.slice();u&&c[0].coord>c[u-1].coord&&(c.reverse(),d.reverse());var h=Ot(c,"x"===i?n.getWidth():n.getHeight()),p=h.length;if(!p&&u)return c[0].coord<0?d[1]?d[1]:c[u-1].color:d[0]?d[0]:c[0].color;var g=10,f=h[0].coord-g,m=h[p-1].coord+g,v=m-f;if(v<.001)return"transparent";j["k"](h,(function(t){t.offset=(t.coord-f)/v})),h.push({offset:p?h[p-1].offset:.5,color:d[1]||"transparent"}),h.unshift({offset:p?h[0].offset:.5,color:d[0]||"transparent"});var y=new K["a"](0,0,0,0,h,!0);return y[i]=f,y[i+"2"]=m,y}}}function wt(t,e,n){var o=t.get("showAllSymbol"),i="auto"===o;if(!o||i){var a=n.getAxesByScale("ordinal")[0];if(a&&(!i||!Mt(a,e))){var r=e.mapDimension(a.dim),s={};return j["k"](a.getViewLabels(),(function(t){var e=a.scale.getRawOrdinalNumber(t.tickValue);s[e]=1})),function(t){return!s.hasOwnProperty(e.get(r,t))}}}}function Mt(t,e){var n=t.getExtent(),o=Math.abs(n[1]-n[0])/t.scale.count();isNaN(o)&&(o=0);for(var i=e.count(),a=Math.max(1,Math.round(i/5)),r=0;r<i;r+=a)if(1.5*N.getSymbolSize(e,r)[t.isHorizontal()?1:0]>o)return!1;return!0}function Ct(t,e){return isNaN(t)||isNaN(e)}function It(t){for(var e=t.length/2;e>0;e--)if(!Ct(t[2*e-2],t[2*e-1]))break;return e-1}function jt(t,e){return[t[2*e],t[2*e+1]]}function At(t,e,n){for(var o,i,a=t.length/2,r="x"===n?0:1,s=0,l=-1,c=0;c<a;c++)if(i=t[2*c+r],!isNaN(i)&&!isNaN(t[2*c+1-r]))if(0!==c){if(o<=e&&i>=e||o>=e&&i<=e){l=c;break}s=c,o=i}else o=i;return{range:[s,l],t:(e-o)/(i-o)}}function kt(t){if(t.get(["endLabel","show"]))return!0;for(var e=0;e<D["g"].length;e++)if(t.get([D["g"][e],"endLabel","show"]))return!0;return!1}function Tt(t,e,n,o){if(Object(pt["a"])(e,"cartesian2d")){var i=o.getModel("endLabel"),a=i.get("valueAnimation"),r=o.getData(),s={lastFrameIndex:0},l=kt(o)?function(n,o){t._endLabelOnDuring(n,o,r,s,a,i,e)}:null,c=e.getBaseAxis().isHorizontal(),u=Object(ht["b"])(e,n,o,(function(){var e=t._endLabel;e&&n&&null!=s.originalX&&e.attr({x:s.originalX,y:s.originalY})}),l);if(!o.get("clip",!0)){var d=u.shape,h=Math.max(d.width,d.height);c?(d.y-=h,d.height+=2*h):(d.x-=h,d.width+=2*h)}return l&&l(1,u),u}return Object(ht["c"])(e,n,o)}function Dt(t,e){var n=e.getBaseAxis(),o=n.isHorizontal(),i=n.inverse,a=o?i?"right":"left":"center",r=o?"middle":i?"top":"bottom";return{normal:{align:t.get("align")||a,verticalAlign:t.get("verticalAlign")||r}}}var Pt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(_["a"])(e,t),e.prototype.init=function(){var t=new M["a"],e=new Z;this.group.add(e.group),this._symbolDraw=e,this._lineGroup=t},e.prototype.render=function(t,e,n){var o=this,i=t.coordinateSystem,a=this.group,r=t.getData(),s=t.getModel("lineStyle"),l=t.getModel("areaStyle"),c=r.getLayout("points")||[],u="polar"===i.type,d=this._coordSys,h=this._symbolDraw,p=this._polyline,g=this._polygon,f=this._lineGroup,m=t.get("animation"),v=!l.isEmpty(),y=l.get("origin"),b=F(i,r,y),x=v&&xt(i,r,b),_=t.get("showSymbol"),O=t.get("connectNulls"),S=_&&!u&&wt(t,r,i),w=this._data;w&&w.eachItemGraphicEl((function(t,e){t.__temp&&(a.remove(t),w.setItemGraphicEl(e,null))})),_||h.remove(),a.add(f);var M,C=!u&&t.get("step");i&&i.getArea&&t.get("clip",!0)&&(M=i.getArea(),null!=M.width?(M.x-=.1,M.y-=.1,M.width+=.2,M.height+=.2):M.r0&&(M.r0-=.5,M.r+=.5)),this._clipShapeForSymbol=M;var I=St(r,i,n)||r.getVisual("style")[r.getVisual("drawType")];if(p&&d.type===i.type&&C===this._step){v&&!g?g=this._newPolygon(c,x):g&&!v&&(f.remove(g),g=this._polygon=null),u||this._initOrUpdateEndLabel(t,i,Object(gt["b"])(I));var k=f.getClipPath();if(k){var P=Tt(this,i,!1,t);A["a"](k,{shape:P.shape},t)}else f.setClipPath(Tt(this,i,!0,t));_&&h.updateData(r,{isIgnore:S,clipShape:M,disableAnimation:!0,getSymbolPoint:function(t){return[c[2*t],c[2*t+1]]}}),mt(this._stackedOnPoints,x)&&mt(this._points,c)||(m?this._doUpdateAnimation(r,x,i,n,C,y,O):(C&&(c=_t(c,i,C,O),x&&(x=_t(x,i,C,O))),p.setShape({points:c}),g&&g.setShape({points:c,stackedOnPoints:x})))}else _&&h.updateData(r,{isIgnore:S,clipShape:M,disableAnimation:!0,getSymbolPoint:function(t){return[c[2*t],c[2*t+1]]}}),m&&this._initSymbolLabelAnimation(r,i,M),C&&(c=_t(c,i,C,O),x&&(x=_t(x,i,C,O))),p=this._newPolyline(c),v?g=this._newPolygon(c,x):g&&(f.remove(g),g=this._polygon=null),u||this._initOrUpdateEndLabel(t,i,Object(gt["b"])(I)),f.setClipPath(Tt(this,i,!0,t));var L=t.getModel("emphasis"),R=L.get("focus"),z=L.get("blurScope"),E=L.get("disabled");if(p.useStyle(j["i"](s.getLineStyle(),{fill:"none",stroke:I,lineJoin:"bevel"})),Object(D["D"])(p,t,"lineStyle"),p.style.lineWidth>0&&"bolder"===t.get(["emphasis","lineStyle","width"])){var N=p.getState("emphasis").style;N.lineWidth=+p.style.lineWidth+1}Object(T["a"])(p).seriesIndex=t.seriesIndex,Object(D["E"])(p,R,z,E);var B=bt(t.get("smooth")),W=t.get("smoothMonotone");if(p.setShape({smooth:B,smoothMonotone:W,connectNulls:O}),g){var V=r.getCalculationInfo("stackedOnSeries"),G=0;g.useStyle(j["i"](l.getAreaStyle(),{fill:I,opacity:.7,lineJoin:"bevel",decal:r.getVisual("style").decal})),V&&(G=bt(V.get("smooth"))),g.setShape({smooth:B,stackedOnSmooth:G,smoothMonotone:W,connectNulls:O}),Object(D["D"])(g,t,"areaStyle"),Object(T["a"])(g).seriesIndex=t.seriesIndex,Object(D["E"])(g,R,z,E)}var Z=function(t){o._changePolyState(t)};r.eachItemGraphicEl((function(t){t&&(t.onHoverStateChange=Z)})),this._polyline.onHoverStateChange=Z,this._data=r,this._coordSys=i,this._stackedOnPoints=x,this._points=c,this._step=C,this._valueOrigin=y,t.get("triggerLineEvent")&&(this.packEventData(t,p),g&&this.packEventData(t,g))},e.prototype.packEventData=function(t,e){Object(T["a"])(e).eventData={componentType:"series",componentSubType:"line",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"line"}},e.prototype.highlight=function(t,e,n,o){var i=t.getData(),a=$["s"](i,o);if(this._changePolyState("emphasis"),!(a instanceof Array)&&null!=a&&a>=0){var r=i.getLayout("points"),s=i.getItemGraphicEl(a);if(!s){var l=r[2*a],c=r[2*a+1];if(isNaN(l)||isNaN(c))return;if(this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(l,c))return;var u=t.get("zlevel")||0,d=t.get("z")||0;s=new N(i,a),s.x=l,s.y=c,s.setZ(u,d);var h=s.getSymbolPath().getTextContent();h&&(h.zlevel=u,h.z=d,h.z2=this._polyline.z2+1),s.__temp=!0,i.setItemGraphicEl(a,s),s.stopSymbolAnimation(!0),this.group.add(s)}s.highlight()}else dt["a"].prototype.highlight.call(this,t,e,n,o)},e.prototype.downplay=function(t,e,n,o){var i=t.getData(),a=$["s"](i,o);if(this._changePolyState("normal"),null!=a&&a>=0){var r=i.getItemGraphicEl(a);r&&(r.__temp?(i.setItemGraphicEl(a,null),this.group.remove(r)):r.downplay())}else dt["a"].prototype.downplay.call(this,t,e,n,o)},e.prototype._changePolyState=function(t){var e=this._polygon;Object(D["C"])(this._polyline,t),e&&Object(D["C"])(e,t)},e.prototype._newPolyline=function(t){var e=this._polyline;return e&&this._lineGroup.remove(e),e=new lt({shape:{points:t},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(e),this._polyline=e,e},e.prototype._newPolygon=function(t,e){var n=this._polygon;return n&&this._lineGroup.remove(n),n=new ut({shape:{points:t,stackedOnPoints:e},segmentIgnoreThreshold:2}),this._lineGroup.add(n),this._polygon=n,n},e.prototype._initSymbolLabelAnimation=function(t,e,n){var o,i,a=e.getBaseAxis(),r=a.inverse;"cartesian2d"===e.type?(o=a.isHorizontal(),i=!1):"polar"===e.type&&(o="angle"===a.dim,i=!0);var s=t.hostModel,l=s.get("animationDuration");j["v"](l)&&(l=l(null));var c=s.get("animationDelay")||0,u=j["v"](c)?c(null):c;t.eachItemGraphicEl((function(t,a){var s=t;if(s){var d=[t.x,t.y],h=void 0,p=void 0,g=void 0;if(n)if(i){var f=n,m=e.pointToCoord(d);o?(h=f.startAngle,p=f.endAngle,g=-m[1]/180*Math.PI):(h=f.r0,p=f.r,g=m[0])}else{var v=n;o?(h=v.x,p=v.x+v.width,g=t.x):(h=v.y+v.height,p=v.y,g=t.y)}var y=p===h?0:(g-h)/(p-h);r&&(y=1-y);var b=j["v"](c)?c(a):l*y+u,x=s.getSymbolPath(),_=x.getTextContent();s.attr({scaleX:0,scaleY:0}),s.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:b}),_&&_.animateFrom({style:{opacity:0}},{duration:300,delay:b}),x.disableLabelAnimation=!0}}))},e.prototype._initOrUpdateEndLabel=function(t,e,n){var o=t.getModel("endLabel");if(kt(t)){var i=t.getData(),a=this._polyline,r=i.getLayout("points");if(!r)return a.removeTextContent(),void(this._endLabel=null);var s=this._endLabel;s||(s=this._endLabel=new J["a"]({z2:200}),s.ignoreClip=!0,a.setTextContent(this._endLabel),a.disableLabelAnimation=!0);var l=It(r);l>=0&&(Object(L["e"])(a,Object(L["c"])(t,"endLabel"),{inheritColor:n,labelFetcher:t,labelDataIndex:l,defaultText:function(t,e,n){return null!=n?Object(P["a"])(i,n):Object(P["b"])(i,t)},enableTextSetter:!0},Dt(o,e)),a.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},e.prototype._endLabelOnDuring=function(t,e,n,o,i,a,r){var s=this._endLabel,l=this._polyline;if(s){t<1&&null==o.originalX&&(o.originalX=s.x,o.originalY=s.y);var c=n.getLayout("points"),u=n.hostModel,d=u.get("connectNulls"),h=a.get("precision"),p=a.get("distance")||0,g=r.getBaseAxis(),f=g.isHorizontal(),m=g.inverse,v=e.shape,y=m?f?v.x:v.y+v.height:f?v.x+v.width:v.y,b=(f?p:0)*(m?-1:1),x=(f?0:-p)*(m?-1:1),_=f?"x":"y",O=At(c,y,_),S=O.range,w=S[1]-S[0],M=void 0;if(w>=1){if(w>1&&!d){var C=jt(c,S[0]);s.attr({x:C[0]+b,y:C[1]+x}),i&&(M=u.getRawValue(S[0]))}else{C=l.getPointOn(y,_);C&&s.attr({x:C[0]+b,y:C[1]+x});var I=u.getRawValue(S[0]),j=u.getRawValue(S[1]);i&&(M=$["i"](n,h,I,j,O.t))}o.lastFrameIndex=S[0]}else{var A=1===t||o.lastFrameIndex>0?S[0]:0;C=jt(c,A);i&&(M=u.getRawValue(A)),s.attr({x:C[0]+b,y:C[1]+x})}i&&Object(L["d"])(s).setLabelText(M)}},e.prototype._doUpdateAnimation=function(t,e,n,o,i,a,r){var s=this._polyline,l=this._polygon,c=t.hostModel,u=q(this._data,t,this._stackedOnPoints,e,this._coordSys,n,this._valueOrigin,a),d=u.current,h=u.stackedOnCurrent,p=u.next,g=u.stackedOnNext;if(i&&(d=_t(u.current,n,i,r),h=_t(u.stackedOnCurrent,n,i,r),p=_t(u.next,n,i,r),g=_t(u.stackedOnNext,n,i,r)),yt(d,p)>3e3||l&&yt(h,g)>3e3)return s.stopAnimation(),s.setShape({points:p}),void(l&&(l.stopAnimation(),l.setShape({points:p,stackedOnPoints:g})));s.shape.__points=u.current,s.shape.points=d;var f={shape:{points:p}};u.current!==d&&(f.shape.__points=u.next),s.stopAnimation(),A["f"](s,f,c),l&&(l.setShape({points:d,stackedOnPoints:h}),l.stopAnimation(),A["f"](l,{shape:{stackedOnPoints:g}},c),s.shape.points!==l.shape.points&&(l.shape.points=s.shape.points));for(var m=[],v=u.status,y=0;y<v.length;y++){var b=v[y].cmd;if("="===b){var x=t.getItemGraphicEl(v[y].idx1);x&&m.push({el:x,ptIdx:y})}}s.animators&&s.animators.length&&s.animators[0].during((function(){l&&l.dirtyShape();for(var t=s.shape.__points,e=0;e<m.length;e++){var n=m[e].el,o=2*m[e].ptIdx;n.x=t[o],n.y=t[o+1],n.markRedraw()}}))},e.prototype.remove=function(t){var e=this.group,n=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),n&&n.eachItemGraphicEl((function(t,o){t.__temp&&(e.remove(t),n.setItemGraphicEl(o,null))})),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},e.type="line",e}(dt["a"]),Lt=Pt,Rt=n("cccd");function zt(t,e){return{seriesType:t,plan:Object(Rt["a"])(),reset:function(t){var n=t.getData(),o=t.coordinateSystem,i=t.pipelineContext,a=e||i.large;if(o){var r=Object(j["F"])(o.dimensions,(function(t){return n.mapDimension(t)})).slice(0,2),s=r.length,l=n.getCalculationInfo("stackResultDimension");Object(H["c"])(n,r[0])&&(r[0]=l),Object(H["c"])(n,r[1])&&(r[1]=l);var c=n.getStore(),u=n.getDimensionIndex(r[0]),d=n.getDimensionIndex(r[1]);return s&&{progress:function(t,e){for(var n=t.end-t.start,i=a&&Object(U["a"])(n*s),r=[],l=[],h=t.start,p=0;h<t.end;h++){var g=void 0;if(1===s){var f=c.get(u,h);g=o.dataToPoint(f,null,l)}else r[0]=c.get(u,h),r[1]=c.get(d,h),g=o.dataToPoint(r,null,l);a?(i[p++]=g[0],i[p++]=g[1]):e.setItemLayout(h,g.slice())}a&&e.setLayout("points",i)}}}}}}var Et=n("fdde");function Nt(t){t.registerChartView(Lt),t.registerSeriesModel(I),t.registerLayout(zt("line",!0)),t.registerVisual({seriesType:"line",reset:function(t){var e=t.getData(),n=t.getModel("lineStyle").getLineStyle();n&&!n.stroke&&(n.stroke=e.getVisual("style").fill),e.setVisual("legendLineStyle",n)}}),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,Object(Et["a"])("line"))}var Bt=n("9394"),Wt=n("2da74"),Vt=n("4b2a"),Gt=n("6cb7"),Zt=["x","y","radius","angle","single"],Ht=["cartesian2d","polar","singleAxis"];function Ft(t){var e=t.get("coordinateSystem");return Object(j["q"])(Ht,e)>=0}function Yt(t){return t+"Axis"}function Xt(t,e){var n,o=Object(j["f"])(),i=[],a=Object(j["f"])();t.eachComponent({mainType:"dataZoom",query:e},(function(t){a.get(t.uid)||s(t)}));do{n=!1,t.eachComponent("dataZoom",r)}while(n);function r(t){!a.get(t.uid)&&l(t)&&(s(t),n=!0)}function s(t){a.set(t.uid,!0),i.push(t),c(t)}function l(t){var e=!1;return t.eachTargetAxis((function(t,n){var i=o.get(t);i&&i[n]&&(e=!0)})),e}function c(t){t.eachTargetAxis((function(t,e){(o.get(t)||o.set(t,[]))[e]=!0}))}return i}function Ut(t){var e=t.ecModel,n={infoList:[],infoMap:Object(j["f"])()};return t.eachTargetAxis((function(t,o){var i=e.getComponent(Yt(t),o);if(i){var a=i.getCoordSysModel();if(a){var r=a.uid,s=n.infoMap.get(r);s||(s={model:a,axisModels:[]},n.infoList.push(s),n.infoMap.set(r,s)),s.axisModels.push(i)}}})),n}var Qt=function(){function t(){this.indexList=[],this.indexMap=[]}return t.prototype.add=function(t){this.indexMap[t]||(this.indexList.push(t),this.indexMap[t]=!0)},t}(),qt=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._autoThrottle=!0,n._noTarget=!0,n._rangePropMode=["percent","percent"],n}return Object(_["a"])(e,t),e.prototype.init=function(t,e,n){var o=Kt(t);this.settledOption=o,this.mergeDefaultAndTheme(t,n),this._doInit(o)},e.prototype.mergeOption=function(t){var e=Kt(t);Object(j["G"])(this.option,t,!0),Object(j["G"])(this.settledOption,e,!0),this._doInit(e)},e.prototype._doInit=function(t){var e=this.option;this._setDefaultThrottle(t),this._updateRangeUse(t);var n=this.settledOption;Object(j["k"])([["start","startValue"],["end","endValue"]],(function(t,o){"value"===this._rangePropMode[o]&&(e[t[0]]=n[t[0]]=null)}),this),this._resetTarget()},e.prototype._resetTarget=function(){var t=this.get("orient",!0),e=this._targetAxisInfoMap=Object(j["f"])(),n=this._fillSpecifiedTargetAxis(e);n?this._orient=t||this._makeAutoOrientByTargetAxis():(this._orient=t||"horizontal",this._fillAutoTargetAxisByOrient(e,this._orient)),this._noTarget=!0,e.each((function(t){t.indexList.length&&(this._noTarget=!1)}),this)},e.prototype._fillSpecifiedTargetAxis=function(t){var e=!1;return Object(j["k"])(Zt,(function(n){var o=this.getReferringComponents(Yt(n),$["a"]);if(o.specified){e=!0;var i=new Qt;Object(j["k"])(o.models,(function(t){i.add(t.componentIndex)})),t.set(n,i)}}),this),e},e.prototype._fillAutoTargetAxisByOrient=function(t,e){var n=this.ecModel,o=!0;if(o){var i="vertical"===e?"y":"x",a=n.findComponents({mainType:i+"Axis"});r(a,i)}if(o){a=n.findComponents({mainType:"singleAxis",filter:function(t){return t.get("orient",!0)===e}});r(a,"single")}function r(e,n){var i=e[0];if(i){var a=new Qt;if(a.add(i.componentIndex),t.set(n,a),o=!1,"x"===n||"y"===n){var r=i.getReferringComponents("grid",$["b"]).models[0];r&&Object(j["k"])(e,(function(t){i.componentIndex!==t.componentIndex&&r===t.getReferringComponents("grid",$["b"]).models[0]&&a.add(t.componentIndex)}))}}}o&&Object(j["k"])(Zt,(function(e){if(o){var i=n.findComponents({mainType:Yt(e),filter:function(t){return"category"===t.get("type",!0)}});if(i[0]){var a=new Qt;a.add(i[0].componentIndex),t.set(e,a),o=!1}}}),this)},e.prototype._makeAutoOrientByTargetAxis=function(){var t;return this.eachTargetAxis((function(e){!t&&(t=e)}),this),"y"===t?"vertical":"horizontal"},e.prototype._setDefaultThrottle=function(t){if(t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var e=this.ecModel.option;this.option.throttle=e.animation&&e.animationDurationUpdate>0?100:20}},e.prototype._updateRangeUse=function(t){var e=this._rangePropMode,n=this.get("rangeMode");Object(j["k"])([["start","startValue"],["end","endValue"]],(function(o,i){var a=null!=t[o[0]],r=null!=t[o[1]];a&&!r?e[i]="percent":!a&&r?e[i]="value":n?e[i]=n[i]:a&&(e[i]="percent")}))},e.prototype.noTarget=function(){return this._noTarget},e.prototype.getFirstTargetAxisModel=function(){var t;return this.eachTargetAxis((function(e,n){null==t&&(t=this.ecModel.getComponent(Yt(e),n))}),this),t},e.prototype.eachTargetAxis=function(t,e){this._targetAxisInfoMap.each((function(n,o){Object(j["k"])(n.indexList,(function(n){t.call(e,o,n)}))}))},e.prototype.getAxisProxy=function(t,e){var n=this.getAxisModel(t,e);if(n)return n.__dzAxisProxy},e.prototype.getAxisModel=function(t,e){var n=this._targetAxisInfoMap.get(t);if(n&&n.indexMap[e])return this.ecModel.getComponent(Yt(t),e)},e.prototype.setRawRange=function(t){var e=this.option,n=this.settledOption;Object(j["k"])([["start","startValue"],["end","endValue"]],(function(o){null==t[o[0]]&&null==t[o[1]]||(e[o[0]]=n[o[0]]=t[o[0]],e[o[1]]=n[o[1]]=t[o[1]])}),this),this._updateRangeUse(t)},e.prototype.setCalculatedRange=function(t){var e=this.option;Object(j["k"])(["start","startValue","end","endValue"],(function(n){e[n]=t[n]}))},e.prototype.getPercentRange=function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},e.prototype.getValueRange=function(t,e){if(null!=t||null!=e)return this.getAxisProxy(t,e).getDataValueWindow();var n=this.findRepresentativeAxisProxy();return n?n.getDataValueWindow():void 0},e.prototype.findRepresentativeAxisProxy=function(t){if(t)return t.__dzAxisProxy;for(var e,n=this._targetAxisInfoMap.keys(),o=0;o<n.length;o++)for(var i=n[o],a=this._targetAxisInfoMap.get(i),r=0;r<a.indexList.length;r++){var s=this.getAxisProxy(i,a.indexList[r]);if(s.hostedBy(this))return s;e||(e=s)}return e},e.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},e.prototype.getOrient=function(){return this._orient},e.type="dataZoom",e.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],e.defaultOption={z:4,filterMode:"filter",start:0,end:100},e}(Gt["a"]);function Kt(t){var e={};return Object(j["k"])(["start","end","startValue","endValue","throttle"],(function(n){t.hasOwnProperty(n)&&(e[n]=t[n])})),e}var Jt=qt,$t=n("8918"),te=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(_["a"])(e,t),e.type="dataZoom.inside",e.defaultOption=Object($t["d"])(Jt.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),e}(Jt),ee=te,ne=n("b12f"),oe=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(_["a"])(e,t),e.prototype.render=function(t,e,n,o){this.dataZoomModel=t,this.ecModel=e,this.api=n},e.type="dataZoom",e}(ne["a"]),ie=oe;function ae(t,e,n,o,i,a){t=t||0;var r=n[1]-n[0];if(null!=i&&(i=se(i,[0,r])),null!=a&&(a=Math.max(a,null!=i?i:0)),"all"===o){var s=Math.abs(e[1]-e[0]);s=se(s,[0,r]),i=a=se(s,[i,a]),o=0}e[0]=se(e[0],n),e[1]=se(e[1],n);var l=re(e,o);e[o]+=t;var c,u=i||0,d=n.slice();return l.sign<0?d[0]+=u:d[1]-=u,e[o]=se(e[o],d),c=re(e,o),null!=i&&(c.sign!==l.sign||c.span<i)&&(e[1-o]=e[o]+l.sign*i),c=re(e,o),null!=a&&c.span>a&&(e[1-o]=e[o]+c.sign*a),e}function re(t,e){var n=t[e]-t[1-e];return{span:Math.abs(n),sign:n>0?-1:n<0?1:e?-1:1}}function se(t,e){return Math.min(null!=e[1]?e[1]:1/0,Math.max(null!=e[0]?e[0]:-1/0,t))}var le=n("6fd3"),ce=n("607d"),ue="\0_ec_interaction_mutex";function de(t,e,n){var o=ge(t);o[e]=n}function he(t,e,n){var o=ge(t),i=o[e];i===n&&(o[e]=null)}function pe(t,e){return!!ge(t)[e]}function ge(t){return t[ue]||(t[ue]={})}b["c"]({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},j["I"]);var fe=function(t){function e(e){var n=t.call(this)||this;n._zr=e;var o=Object(j["c"])(n._mousedownHandler,n),i=Object(j["c"])(n._mousemoveHandler,n),a=Object(j["c"])(n._mouseupHandler,n),r=Object(j["c"])(n._mousewheelHandler,n),s=Object(j["c"])(n._pinchHandler,n);return n.enable=function(t,n){this.disable(),this._opt=Object(j["i"])(Object(j["d"])(n)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==t&&(t=!0),!0!==t&&"move"!==t&&"pan"!==t||(e.on("mousedown",o),e.on("mousemove",i),e.on("mouseup",a)),!0!==t&&"scale"!==t&&"zoom"!==t||(e.on("mousewheel",r),e.on("pinch",s))},n.disable=function(){e.off("mousedown",o),e.off("mousemove",i),e.off("mouseup",a),e.off("mousewheel",r),e.off("pinch",s)},n}return Object(_["a"])(e,t),e.prototype.isDragging=function(){return this._dragging},e.prototype.isPinching=function(){return this._pinching},e.prototype.setPointerChecker=function(t){this.pointerChecker=t},e.prototype.dispose=function(){this.disable()},e.prototype._mousedownHandler=function(t){if(!ce["d"](t)){var e=t.target;while(e){if(e.draggable)return;e=e.__hostTarget||e.parent}var n=t.offsetX,o=t.offsetY;this.pointerChecker&&this.pointerChecker(t,n,o)&&(this._x=n,this._y=o,this._dragging=!0)}},e.prototype._mousemoveHandler=function(t){if(this._dragging&&ye("moveOnMouseMove",t,this._opt)&&"pinch"!==t.gestureEvent&&!pe(this._zr,"globalPan")){var e=t.offsetX,n=t.offsetY,o=this._x,i=this._y,a=e-o,r=n-i;this._x=e,this._y=n,this._opt.preventDefaultMouseMove&&ce["g"](t.event),ve(this,"pan","moveOnMouseMove",t,{dx:a,dy:r,oldX:o,oldY:i,newX:e,newY:n,isAvailableBehavior:null})}},e.prototype._mouseupHandler=function(t){ce["d"](t)||(this._dragging=!1)},e.prototype._mousewheelHandler=function(t){var e=ye("zoomOnMouseWheel",t,this._opt),n=ye("moveOnMouseWheel",t,this._opt),o=t.wheelDelta,i=Math.abs(o),a=t.offsetX,r=t.offsetY;if(0!==o&&(e||n)){if(e){var s=i>3?1.4:i>1?1.2:1.1,l=o>0?s:1/s;me(this,"zoom","zoomOnMouseWheel",t,{scale:l,originX:a,originY:r,isAvailableBehavior:null})}if(n){var c=Math.abs(o),u=(o>0?1:-1)*(c>3?.4:c>1?.15:.05);me(this,"scrollMove","moveOnMouseWheel",t,{scrollDelta:u,originX:a,originY:r,isAvailableBehavior:null})}}},e.prototype._pinchHandler=function(t){if(!pe(this._zr,"globalPan")){var e=t.pinchScale>1?1.1:1/1.1;me(this,"zoom",null,t,{scale:e,originX:t.pinchX,originY:t.pinchY,isAvailableBehavior:null})}},e}(le["a"]);function me(t,e,n,o,i){t.pointerChecker&&t.pointerChecker(o,i.originX,i.originY)&&(ce["g"](o.event),ve(t,e,n,o,i))}function ve(t,e,n,o,i){i.isAvailableBehavior=Object(j["c"])(ye,null,n,o),t.trigger(e,i)}function ye(t,e,n){var o=n[t];return!t||o&&(!Object(j["A"])(o)||e.event[o+"Key"])}var be=fe,xe=n("88b3"),_e=Object($["m"])();function Oe(t,e,n){_e(t).coordSysRecordMap.each((function(t){var o=t.dataZoomInfoMap.get(e.uid);o&&(o.getRange=n)}))}function Se(t,e){for(var n=_e(t).coordSysRecordMap,o=n.keys(),i=0;i<o.length;i++){var a=o[i],r=n.get(a),s=r.dataZoomInfoMap;if(s){var l=e.uid,c=s.get(l);c&&(s.removeKey(l),s.keys().length||we(n,r))}}}function we(t,e){if(e){t.removeKey(e.model.uid);var n=e.controller;n&&n.dispose()}}function Me(t,e){var n={model:e,containsPoint:Object(j["h"])(Ie,e),dispatchAction:Object(j["h"])(Ce,t),dataZoomInfoMap:null,controller:null},o=n.controller=new be(t.getZr());return Object(j["k"])(["pan","zoom","scrollMove"],(function(t){o.on(t,(function(e){var o=[];n.dataZoomInfoMap.each((function(i){if(e.isAvailableBehavior(i.model.option)){var a=(i.getRange||{})[t],r=a&&a(i.dzReferCoordSysInfo,n.model.mainType,n.controller,e);!i.model.get("disabled",!0)&&r&&o.push({dataZoomId:i.model.id,start:r[0],end:r[1]})}})),o.length&&n.dispatchAction(o)}))})),n}function Ce(t,e){t.isDisposed()||t.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:e})}function Ie(t,e,n,o){return t.coordinateSystem.containPoint([n,o])}function je(t){var e,n="type_",o={type_true:2,type_move:1,type_false:0,type_undefined:-1},i=!0;return t.each((function(t){var a=t.model,r=!a.get("disabled",!0)&&(!a.get("zoomLock",!0)||"move");o[n+r]>o[n+e]&&(e=r),i=i&&a.get("preventDefaultMouseMove",!0)})),{controlType:e,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!i}}}function Ae(t){t.registerProcessor(t.PRIORITY.PROCESSOR.FILTER,(function(t,e){var n=_e(e),o=n.coordSysRecordMap||(n.coordSysRecordMap=Object(j["f"])());o.each((function(t){t.dataZoomInfoMap=null})),t.eachComponent({mainType:"dataZoom",subType:"inside"},(function(t){var n=Ut(t);Object(j["k"])(n.infoList,(function(n){var i=n.model.uid,a=o.get(i)||o.set(i,Me(e,n.model)),r=a.dataZoomInfoMap||(a.dataZoomInfoMap=Object(j["f"])());r.set(t.uid,{dzReferCoordSysInfo:n,model:t,getRange:null})}))})),o.each((function(t){var e,n=t.controller,i=t.dataZoomInfoMap;if(i){var a=i.keys()[0];null!=a&&(e=i.get(a))}if(e){var r=je(i);n.enable(r.controlType,r.opt),n.setPointerChecker(t.containsPoint),xe["b"](t,"dispatchAction",e.model.get("throttle",!0),"fixRate")}else we(o,t)}))}))}var ke=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="dataZoom.inside",e}return Object(_["a"])(e,t),e.prototype.render=function(e,n,o){t.prototype.render.apply(this,arguments),e.noTarget()?this._clear():(this.range=e.getPercentRange(),Oe(o,e,{pan:Object(j["c"])(Te.pan,this),zoom:Object(j["c"])(Te.zoom,this),scrollMove:Object(j["c"])(Te.scrollMove,this)}))},e.prototype.dispose=function(){this._clear(),t.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){Se(this.api,this.dataZoomModel),this.range=null},e.type="dataZoom.inside",e}(ie),Te={zoom:function(t,e,n,o){var i=this.range,a=i.slice(),r=t.axisModels[0];if(r){var s=Pe[e](null,[o.originX,o.originY],r,n,t),l=(s.signal>0?s.pixelStart+s.pixelLength-s.pixel:s.pixel-s.pixelStart)/s.pixelLength*(a[1]-a[0])+a[0],c=Math.max(1/o.scale,0);a[0]=(a[0]-l)*c+l,a[1]=(a[1]-l)*c+l;var u=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return ae(0,a,[0,100],0,u.minSpan,u.maxSpan),this.range=a,i[0]!==a[0]||i[1]!==a[1]?a:void 0}},pan:De((function(t,e,n,o,i,a){var r=Pe[o]([a.oldX,a.oldY],[a.newX,a.newY],e,i,n);return r.signal*(t[1]-t[0])*r.pixel/r.pixelLength})),scrollMove:De((function(t,e,n,o,i,a){var r=Pe[o]([0,0],[a.scrollDelta,a.scrollDelta],e,i,n);return r.signal*(t[1]-t[0])*a.scrollDelta}))};function De(t){return function(e,n,o,i){var a=this.range,r=a.slice(),s=e.axisModels[0];if(s){var l=t(r,s,e,n,o,i);return ae(l,r,[0,100],"all"),this.range=r,a[0]!==r[0]||a[1]!==r[1]?r:void 0}}}var Pe={grid:function(t,e,n,o,i){var a=n.axis,r={},s=i.model.coordinateSystem.getRect();return t=t||[0,0],"x"===a.dim?(r.pixel=e[0]-t[0],r.pixelLength=s.width,r.pixelStart=s.x,r.signal=a.inverse?1:-1):(r.pixel=e[1]-t[1],r.pixelLength=s.height,r.pixelStart=s.y,r.signal=a.inverse?-1:1),r},polar:function(t,e,n,o,i){var a=n.axis,r={},s=i.model.coordinateSystem,l=s.getRadiusAxis().getExtent(),c=s.getAngleAxis().getExtent();return t=t?s.pointToCoord(t):[0,0],e=s.pointToCoord(e),"radiusAxis"===n.mainType?(r.pixel=e[0]-t[0],r.pixelLength=l[1]-l[0],r.pixelStart=l[0],r.signal=a.inverse?1:-1):(r.pixel=e[1]-t[1],r.pixelLength=c[1]-c[0],r.pixelStart=c[0],r.signal=a.inverse?-1:1),r},singleAxis:function(t,e,n,o,i){var a=n.axis,r=i.model.coordinateSystem.getRect(),s={};return t=t||[0,0],"horizontal"===a.orient?(s.pixel=e[0]-t[0],s.pixelLength=r.width,s.pixelStart=r.x,s.signal=a.inverse?1:-1):(s.pixel=e[1]-t[1],s.pixelLength=r.height,s.pixelStart=r.y,s.signal=a.inverse?-1:1),s}},Le=ke,Re=n("3842"),ze=n("697e"),Ee=n("538f"),Ne=j["k"],Be=Re["b"],We=function(){function t(t,e,n,o){this._dimName=t,this._axisIndex=e,this.ecModel=o,this._dataZoomModel=n}return t.prototype.hostedBy=function(t){return this._dataZoomModel===t},t.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},t.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},t.prototype.getTargetSeriesModels=function(){var t=[];return this.ecModel.eachSeries((function(e){if(Ft(e)){var n=Yt(this._dimName),o=e.getReferringComponents(n,$["b"]).models[0];o&&this._axisIndex===o.componentIndex&&t.push(e)}}),this),t},t.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},t.prototype.getMinMaxSpan=function(){return j["d"](this._minMaxSpan)},t.prototype.calculateDataWindow=function(t){var e,n=this._dataExtent,o=this.getAxisModel(),i=o.axis.scale,a=this._dataZoomModel.getRangePropMode(),r=[0,100],s=[],l=[];Ne(["start","end"],(function(o,c){var u=t[o],d=t[o+"Value"];"percent"===a[c]?(null==u&&(u=r[c]),d=i.parse(Re["j"](u,r,n))):(e=!0,d=null==d?n[c]:i.parse(d),u=Re["j"](d,n,r)),l[c]=null==d||isNaN(d)?n[c]:d,s[c]=null==u||isNaN(u)?r[c]:u})),Be(l),Be(s);var c=this._minMaxSpan;function u(t,e,n,o,a){var r=a?"Span":"ValueSpan";ae(0,t,n,"all",c["min"+r],c["max"+r]);for(var s=0;s<2;s++)e[s]=Re["j"](t[s],n,o,!0),a&&(e[s]=i.parse(e[s]))}return e?u(l,s,n,r,!1):u(s,l,r,n,!0),{valueWindow:l,percentWindow:s}},t.prototype.reset=function(t){if(t===this._dataZoomModel){var e=this.getTargetSeriesModels();this._dataExtent=Ve(this,this._dimName,e),this._updateMinMaxSpan();var n=this.calculateDataWindow(t.settledOption);this._valueWindow=n.valueWindow,this._percentWindow=n.percentWindow,this._setAxisModel()}},t.prototype.filterData=function(t,e){if(t===this._dataZoomModel){var n=this._dimName,o=this.getTargetSeriesModels(),i=t.get("filterMode"),a=this._valueWindow;"none"!==i&&Ne(o,(function(t){var e=t.getData(),o=e.mapDimensionsAll(n);if(o.length){if("weakFilter"===i){var s=e.getStore(),l=j["F"](o,(function(t){return e.getDimensionIndex(t)}),e);e.filterSelf((function(t){for(var e,n,i,r=0;r<o.length;r++){var c=s.get(l[r],t),u=!isNaN(c),d=c<a[0],h=c>a[1];if(u&&!d&&!h)return!0;u&&(i=!0),d&&(e=!0),h&&(n=!0)}return i&&e&&n}))}else Ne(o,(function(n){if("empty"===i)t.setData(e=e.map(n,(function(t){return r(t)?t:NaN})));else{var o={};o[n]=a,e.selectRange(o)}}));Ne(o,(function(t){e.setApproximateExtent(a,t)}))}}))}function r(t){return t>=a[0]&&t<=a[1]}},t.prototype._updateMinMaxSpan=function(){var t=this._minMaxSpan={},e=this._dataZoomModel,n=this._dataExtent;Ne(["min","max"],(function(o){var i=e.get(o+"Span"),a=e.get(o+"ValueSpan");null!=a&&(a=this.getAxisModel().axis.scale.parse(a)),null!=a?i=Re["j"](n[0]+a,n,[0,100],!0):null!=i&&(a=Re["j"](i,[0,100],n,!0)-n[0]),t[o+"Span"]=i,t[o+"ValueSpan"]=a}),this)},t.prototype._setAxisModel=function(){var t=this.getAxisModel(),e=this._percentWindow,n=this._valueWindow;if(e){var o=Re["e"](n,[0,500]);o=Math.min(o,20);var i=t.axis.scale.rawExtentInfo;0!==e[0]&&i.setDeterminedMinMax("min",+n[0].toFixed(o)),100!==e[1]&&i.setDeterminedMinMax("max",+n[1].toFixed(o)),i.freeze()}},t}();function Ve(t,e,n){var o=[1/0,-1/0];Ne(n,(function(t){Object(ze["k"])(o,t.getData(),e)}));var i=t.getAxisModel(),a=Object(Ee["a"])(i.axis.scale,i,o).calculate();return[a.min,a.max]}var Ge=We,Ze={getTargetSeries:function(t){function e(e){t.eachComponent("dataZoom",(function(n){n.eachTargetAxis((function(o,i){var a=t.getComponent(Yt(o),i);e(o,i,a,n)}))}))}e((function(t,e,n,o){n.__dzAxisProxy=null}));var n=[];e((function(e,o,i,a){i.__dzAxisProxy||(i.__dzAxisProxy=new Ge(e,o,a,t),n.push(i.__dzAxisProxy))}));var o=Object(j["f"])();return Object(j["k"])(n,(function(t){Object(j["k"])(t.getTargetSeriesModels(),(function(t){o.set(t.uid,t)}))})),o},overallReset:function(t,e){t.eachComponent("dataZoom",(function(t){t.eachTargetAxis((function(e,n){t.getAxisProxy(e,n).reset(t)})),t.eachTargetAxis((function(n,o){t.getAxisProxy(n,o).filterData(t,e)}))})),t.eachComponent("dataZoom",(function(t){var e=t.findRepresentativeAxisProxy();if(e){var n=e.getDataPercentWindow(),o=e.getDataValueWindow();t.setCalculatedRange({start:n[0],end:n[1],startValue:o[0],endValue:o[1]})}}))}},He=Ze;function Fe(t){t.registerAction("dataZoom",(function(t,e){var n=Xt(e,t);Object(j["k"])(n,(function(e){e.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})}))}))}var Ye=!1;function Xe(t){Ye||(Ye=!0,t.registerProcessor(t.PRIORITY.PROCESSOR.FILTER,He),Fe(t),t.registerSubTypeDefaulter("dataZoom",(function(){return"slider"})))}function Ue(t){Xe(t),t.registerComponentModel(ee),t.registerComponentView(Le),Ae(t)}var Qe=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(_["a"])(e,t),e.type="dataZoom.slider",e.layoutMode="box",e.defaultOption=Object($t["d"])(Jt.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),e}(Jt),qe=Qe,Ke=n("c7a2"),Je=n("87b1"),$e=n("d498"),tn=n("dce8"),en=n("f934"),nn=Ke["a"],on=7,an=1,rn=30,sn=7,ln="horizontal",cn="vertical",un=5,dn=["line","bar","candlestick","scatter"],hn={easing:"cubicOut",duration:100,delay:0},pn=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._displayables={},n}return Object(_["a"])(e,t),e.prototype.init=function(t,e){this.api=e,this._onBrush=Object(j["c"])(this._onBrush,this),this._onBrushEnd=Object(j["c"])(this._onBrushEnd,this)},e.prototype.render=function(e,n,o,i){if(t.prototype.render.apply(this,arguments),xe["b"](this,"_dispatchZoomAction",e.get("throttle"),"fixRate"),this._orient=e.getOrient(),!1!==e.get("show")){if(e.noTarget())return this._clear(),void this.group.removeAll();i&&"dataZoom"===i.type&&i.from===this.uid||this._buildView(),this._updateView()}else this.group.removeAll()},e.prototype.dispose=function(){this._clear(),t.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){xe["a"](this,"_dispatchZoomAction");var t=this.api.getZr();t.off("mousemove",this._onBrush),t.off("mouseup",this._onBrushEnd)},e.prototype._buildView=function(){var t=this.group;t.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var e=this._displayables.sliderGroup=new M["a"];this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(e),this._positionGroup()},e.prototype._resetLocation=function(){var t=this.dataZoomModel,e=this.api,n=t.get("brushSelect"),o=n?sn:0,i=this._findCoordRect(),a={width:e.getWidth(),height:e.getHeight()},r=this._orient===ln?{right:a.width-i.x-i.width,top:a.height-rn-on-o,width:i.width,height:rn}:{right:on,top:i.y,width:rn,height:i.height},s=en["c"](t.option);Object(j["k"])(["right","top","width","height"],(function(t){"ph"===s[t]&&(s[t]=r[t])}));var l=en["d"](s,a);this._location={x:l.x,y:l.y},this._size=[l.width,l.height],this._orient===cn&&this._size.reverse()},e.prototype._positionGroup=function(){var t=this.group,e=this._location,n=this._orient,o=this.dataZoomModel.getFirstTargetAxisModel(),i=o&&o.get("inverse"),a=this._displayables.sliderGroup,r=(this._dataShadowInfo||{}).otherAxisInverse;a.attr(n!==ln||i?n===ln&&i?{scaleY:r?1:-1,scaleX:-1}:n!==cn||i?{scaleY:r?-1:1,scaleX:-1,rotation:Math.PI/2}:{scaleY:r?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:r?1:-1,scaleX:1});var s=t.getBoundingRect([a]);t.x=e.x-s.x,t.y=e.y-s.y,t.markRedraw()},e.prototype._getViewExtent=function(){return[0,this._size[0]]},e.prototype._renderBackground=function(){var t=this.dataZoomModel,e=this._size,n=this._displayables.sliderGroup,o=t.get("brushSelect");n.add(new nn({silent:!0,shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:t.get("backgroundColor")},z2:-40}));var i=new nn({shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:"transparent"},z2:0,onclick:Object(j["c"])(this._onClickPanel,this)}),a=this.api.getZr();o?(i.on("mousedown",this._onBrushStart,this),i.cursor="crosshair",a.on("mousemove",this._onBrush),a.on("mouseup",this._onBrushEnd)):(a.off("mousemove",this._onBrush),a.off("mouseup",this._onBrushEnd)),n.add(i)},e.prototype._renderDataShadow=function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],t){var e=this._size,n=this._shadowSize||[],o=t.series,i=o.getRawData(),a=o.getShadowDim&&o.getShadowDim(),r=a&&i.getDimensionInfo(a)?o.getShadowDim():t.otherDim;if(null!=r){var s=this._shadowPolygonPts,l=this._shadowPolylinePts;if(i!==this._shadowData||r!==this._shadowDim||e[0]!==n[0]||e[1]!==n[1]){var c=i.getDataExtent(r),u=.3*(c[1]-c[0]);c=[c[0]-u,c[1]+u];var d,h=[0,e[1]],p=[0,e[0]],g=[[e[0],0],[0,0]],f=[],m=p[1]/(i.count()-1),v=0,y=Math.round(i.count()/e[0]);i.each([r],(function(t,e){if(y>0&&e%y)v+=m;else{var n=null==t||isNaN(t)||""===t,o=n?0:Object(Re["j"])(t,c,h,!0);n&&!d&&e?(g.push([g[g.length-1][0],0]),f.push([f[f.length-1][0],0])):!n&&d&&(g.push([v,0]),f.push([v,0])),g.push([v,o]),f.push([v,o]),v+=m,d=n}})),s=this._shadowPolygonPts=g,l=this._shadowPolylinePts=f}this._shadowData=i,this._shadowDim=r,this._shadowSize=[e[0],e[1]];for(var b=this.dataZoomModel,x=0;x<3;x++){var _=O(1===x);this._displayables.sliderGroup.add(_),this._displayables.dataShadowSegs.push(_)}}}function O(t){var e=b.getModel(t?"selectedDataBackground":"dataBackground"),n=new M["a"],o=new Je["a"]({shape:{points:s},segmentIgnoreThreshold:1,style:e.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),i=new $e["a"]({shape:{points:l},segmentIgnoreThreshold:1,style:e.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return n.add(o),n.add(i),n}},e.prototype._prepareDataShadowInfo=function(){var t=this.dataZoomModel,e=t.get("showDataShadow");if(!1!==e){var n,o=this.ecModel;return t.eachTargetAxis((function(i,a){var r=t.getAxisProxy(i,a).getTargetSeriesModels();Object(j["k"])(r,(function(t){if(!n&&!(!0!==e&&Object(j["q"])(dn,t.get("type"))<0)){var r,s=o.getComponent(Yt(i),a).axis,l=gn(i),c=t.coordinateSystem;null!=l&&c.getOtherAxis&&(r=c.getOtherAxis(s).inverse),l=t.getData().mapDimension(l),n={thisAxis:s,series:t,thisDim:i,otherDim:l,otherAxisInverse:r}}}),this)}),this),n}},e.prototype._renderHandle=function(){var t=this.group,e=this._displayables,n=e.handles=[null,null],o=e.handleLabels=[null,null],i=this._displayables.sliderGroup,a=this._size,r=this.dataZoomModel,s=this.api,l=r.get("borderRadius")||0,c=r.get("brushSelect"),u=e.filler=new nn({silent:c,style:{fill:r.get("fillerColor")},textConfig:{position:"inside"}});i.add(u),i.add(new nn({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:a[0],height:a[1],r:l},style:{stroke:r.get("dataBackgroundColor")||r.get("borderColor"),lineWidth:an,fill:"rgba(0,0,0,0)"}})),Object(j["k"])([0,1],(function(e){var a=r.get("handleIcon");!w["d"][a]&&a.indexOf("path://")<0&&a.indexOf("image://")<0&&(a="path://"+a);var s=Object(w["a"])(a,-1,0,2,2,null,!0);s.attr({cursor:fn(this._orient),draggable:!0,drift:Object(j["c"])(this._onDragMove,this,e),ondragend:Object(j["c"])(this._onDragEnd,this),onmouseover:Object(j["c"])(this._showDataInfo,this,!0),onmouseout:Object(j["c"])(this._showDataInfo,this,!1),z2:5});var l=s.getBoundingRect(),c=r.get("handleSize");this._handleHeight=Object(Re["n"])(c,this._size[1]),this._handleWidth=l.width/l.height*this._handleHeight,s.setStyle(r.getModel("handleStyle").getItemStyle()),s.style.strokeNoScale=!0,s.rectHover=!0,s.ensureState("emphasis").style=r.getModel(["emphasis","handleStyle"]).getItemStyle(),Object(D["m"])(s);var u=r.get("handleColor");null!=u&&(s.style.fill=u),i.add(n[e]=s);var d=r.getModel("textStyle");t.add(o[e]=new J["a"]({silent:!0,invisible:!0,style:Object(L["a"])(d,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:d.getTextColor(),font:d.getFont()}),z2:10}))}),this);var d=u;if(c){var h=Object(Re["n"])(r.get("moveHandleSize"),a[1]),p=e.moveHandle=new Ke["a"]({style:r.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:a[1]-.5,height:h}}),g=.8*h,f=e.moveHandleIcon=Object(w["a"])(r.get("moveHandleIcon"),-g/2,-g/2,g,g,"#fff",!0);f.silent=!0,f.y=a[1]+h/2-.5,p.ensureState("emphasis").style=r.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var m=Math.min(a[1]/2,Math.max(h,10));d=e.moveZone=new Ke["a"]({invisible:!0,shape:{y:a[1]-m,height:h+m}}),d.on("mouseover",(function(){s.enterEmphasis(p)})).on("mouseout",(function(){s.leaveEmphasis(p)})),i.add(p),i.add(f),i.add(d)}d.attr({draggable:!0,cursor:fn(this._orient),drift:Object(j["c"])(this._onDragMove,this,"all"),ondragstart:Object(j["c"])(this._showDataInfo,this,!0),ondragend:Object(j["c"])(this._onDragEnd,this),onmouseover:Object(j["c"])(this._showDataInfo,this,!0),onmouseout:Object(j["c"])(this._showDataInfo,this,!1)})},e.prototype._resetInterval=function(){var t=this._range=this.dataZoomModel.getPercentRange(),e=this._getViewExtent();this._handleEnds=[Object(Re["j"])(t[0],[0,100],e,!0),Object(Re["j"])(t[1],[0,100],e,!0)]},e.prototype._updateInterval=function(t,e){var n=this.dataZoomModel,o=this._handleEnds,i=this._getViewExtent(),a=n.findRepresentativeAxisProxy().getMinMaxSpan(),r=[0,100];ae(e,o,i,n.get("zoomLock")?"all":t,null!=a.minSpan?Object(Re["j"])(a.minSpan,r,i,!0):null,null!=a.maxSpan?Object(Re["j"])(a.maxSpan,r,i,!0):null);var s=this._range,l=this._range=Object(Re["b"])([Object(Re["j"])(o[0],i,r,!0),Object(Re["j"])(o[1],i,r,!0)]);return!s||s[0]!==l[0]||s[1]!==l[1]},e.prototype._updateView=function(t){var e=this._displayables,n=this._handleEnds,o=Object(Re["b"])(n.slice()),i=this._size;Object(j["k"])([0,1],(function(t){var o=e.handles[t],a=this._handleHeight;o.attr({scaleX:a/2,scaleY:a/2,x:n[t]+(t?-1:1),y:i[1]/2-a/2})}),this),e.filler.setShape({x:o[0],y:0,width:o[1]-o[0],height:i[1]});var a={x:o[0],width:o[1]-o[0]};e.moveHandle&&(e.moveHandle.setShape(a),e.moveZone.setShape(a),e.moveZone.getBoundingRect(),e.moveHandleIcon&&e.moveHandleIcon.attr("x",a.x+a.width/2));for(var r=e.dataShadowSegs,s=[0,o[0],o[1],i[0]],l=0;l<r.length;l++){var c=r[l],u=c.getClipPath();u||(u=new Ke["a"],c.setClipPath(u)),u.setShape({x:s[l],y:0,width:s[l+1]-s[l],height:i[1]})}this._updateDataInfo(t)},e.prototype._updateDataInfo=function(t){var e=this.dataZoomModel,n=this._displayables,o=n.handleLabels,i=this._orient,a=["",""];if(e.get("showDetail")){var r=e.findRepresentativeAxisProxy();if(r){var s=r.getAxisModel().axis,l=this._range,c=t?r.calculateDataWindow({start:l[0],end:l[1]}).valueWindow:r.getDataValueWindow();a=[this._formatLabel(c[0],s),this._formatLabel(c[1],s)]}}var u=Object(Re["b"])(this._handleEnds.slice());function d(t){var e=k["getTransform"](n.handles[t].parent,this.group),r=k["transformDirection"](0===t?"right":"left",e),s=this._handleWidth/2+un,l=k["applyTransform"]([u[t]+(0===t?-s:s),this._size[1]/2],e);o[t].setStyle({x:l[0],y:l[1],verticalAlign:i===ln?"middle":r,align:i===ln?r:"center",text:a[t]})}d.call(this,0),d.call(this,1)},e.prototype._formatLabel=function(t,e){var n=this.dataZoomModel,o=n.get("labelFormatter"),i=n.get("labelPrecision");null!=i&&"auto"!==i||(i=e.getPixelPrecision());var a=null==t||isNaN(t)?"":"category"===e.type||"time"===e.type?e.scale.getLabel({value:Math.round(t)}):t.toFixed(Math.min(i,20));return Object(j["v"])(o)?o(t,a):Object(j["A"])(o)?o.replace("{value}",a):a},e.prototype._showDataInfo=function(t){t=this._dragging||t;var e=this._displayables,n=e.handleLabels;n[0].attr("invisible",!t),n[1].attr("invisible",!t),e.moveHandle&&this.api[t?"enterEmphasis":"leaveEmphasis"](e.moveHandle,1)},e.prototype._onDragMove=function(t,e,n,o){this._dragging=!0,ce["g"](o.event);var i=this._displayables.sliderGroup.getLocalTransform(),a=k["applyTransform"]([e,n],i,!0),r=this._updateInterval(t,a[0]),s=this.dataZoomModel.get("realtime");this._updateView(!s),r&&s&&this._dispatchZoomAction(!0)},e.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var t=this.dataZoomModel.get("realtime");!t&&this._dispatchZoomAction(!1)},e.prototype._onClickPanel=function(t){var e=this._size,n=this._displayables.sliderGroup.transformCoordToLocal(t.offsetX,t.offsetY);if(!(n[0]<0||n[0]>e[0]||n[1]<0||n[1]>e[1])){var o=this._handleEnds,i=(o[0]+o[1])/2,a=this._updateInterval("all",n[0]-i);this._updateView(),a&&this._dispatchZoomAction(!1)}},e.prototype._onBrushStart=function(t){var e=t.offsetX,n=t.offsetY;this._brushStart=new tn["a"](e,n),this._brushing=!0,this._brushStartTime=+new Date},e.prototype._onBrushEnd=function(t){if(this._brushing){var e=this._displayables.brushRect;if(this._brushing=!1,e){e.attr("ignore",!0);var n=e.shape,o=+new Date;if(!(o-this._brushStartTime<200&&Math.abs(n.width)<5)){var i=this._getViewExtent(),a=[0,100];this._range=Object(Re["b"])([Object(Re["j"])(n.x,i,a,!0),Object(Re["j"])(n.x+n.width,i,a,!0)]),this._handleEnds=[n.x,n.x+n.width],this._updateView(),this._dispatchZoomAction(!1)}}}},e.prototype._onBrush=function(t){this._brushing&&(ce["g"](t.event),this._updateBrushRect(t.offsetX,t.offsetY))},e.prototype._updateBrushRect=function(t,e){var n=this._displayables,o=this.dataZoomModel,i=n.brushRect;i||(i=n.brushRect=new nn({silent:!0,style:o.getModel("brushStyle").getItemStyle()}),n.sliderGroup.add(i)),i.attr("ignore",!1);var a=this._brushStart,r=this._displayables.sliderGroup,s=r.transformCoordToLocal(t,e),l=r.transformCoordToLocal(a.x,a.y),c=this._size;s[0]=Math.max(Math.min(c[0],s[0]),0),i.setShape({x:l[0],y:0,width:s[0]-l[0],height:c[1]})},e.prototype._dispatchZoomAction=function(t){var e=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:t?hn:null,start:e[0],end:e[1]})},e.prototype._findCoordRect=function(){var t,e=Ut(this.dataZoomModel).infoList;if(!t&&e.length){var n=e[0].model.coordinateSystem;t=n.getRect&&n.getRect()}if(!t){var o=this.api.getWidth(),i=this.api.getHeight();t={x:.2*o,y:.2*i,width:.6*o,height:.6*i}}return t},e.type="dataZoom.slider",e}(ie);function gn(t){var e={x:"y",y:"x",radius:"angle",angle:"radius"};return e[t]}function fn(t){return"vertical"===t?"ns-resize":"ew-resize"}var mn=pn;function vn(t){t.registerComponentModel(qe),t.registerComponentView(mn),Xe(t)}function yn(t){Object(y["a"])(Ue),Object(y["a"])(vn)}var bn=n("4319"),xn=function(t,e){return"all"===e?{type:"all",title:t.getLocaleModel().get(["legend","selector","all"])}:"inverse"===e?{type:"inverse",title:t.getLocaleModel().get(["legend","selector","inverse"])}:void 0},_n=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.layoutMode={type:"box",ignoreSize:!0},n}return Object(_["a"])(e,t),e.prototype.init=function(t,e,n){this.mergeDefaultAndTheme(t,n),t.selected=t.selected||{},this._updateSelector(t)},e.prototype.mergeOption=function(e,n){t.prototype.mergeOption.call(this,e,n),this._updateSelector(e)},e.prototype._updateSelector=function(t){var e=t.selector,n=this.ecModel;!0===e&&(e=t.selector=["all","inverse"]),j["s"](e)&&j["k"](e,(function(t,o){j["A"](t)&&(t={type:t}),e[o]=j["G"](t,xn(n,t.type))}))},e.prototype.optionUpdated=function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&"single"===this.get("selectedMode")){for(var e=!1,n=0;n<t.length;n++){var o=t[n].get("name");if(this.isSelected(o)){this.select(o),e=!0;break}}!e&&this.select(t[0].get("name"))}},e.prototype._updateData=function(t){var e=[],n=[];t.eachRawSeries((function(o){var i,a=o.name;if(n.push(a),o.legendVisualProvider){var r=o.legendVisualProvider,s=r.getAllNames();t.isSeriesFiltered(o)||(n=n.concat(s)),s.length?e=e.concat(s):i=!0}else i=!0;i&&Object($["l"])(o)&&e.push(o.name)})),this._availableNames=n;var o=this.get("data")||e,i=j["f"](),a=j["F"](o,(function(t){return(j["A"](t)||j["y"](t))&&(t={name:t}),i.get(t.name)?null:(i.set(t.name,!0),new bn["a"](t,this,this.ecModel))}),this);this._data=j["n"](a,(function(t){return!!t}))},e.prototype.getData=function(){return this._data},e.prototype.select=function(t){var e=this.option.selected,n=this.get("selectedMode");if("single"===n){var o=this._data;j["k"](o,(function(t){e[t.get("name")]=!1}))}e[t]=!0},e.prototype.unSelect=function(t){"single"!==this.get("selectedMode")&&(this.option.selected[t]=!1)},e.prototype.toggleSelected=function(t){var e=this.option.selected;e.hasOwnProperty(t)||(e[t]=!0),this[e[t]?"unSelect":"select"](t)},e.prototype.allSelect=function(){var t=this._data,e=this.option.selected;j["k"](t,(function(t){e[t.get("name",!0)]=!0}))},e.prototype.inverseSelect=function(){var t=this._data,e=this.option.selected;j["k"](t,(function(t){var n=t.get("name",!0);e.hasOwnProperty(n)||(e[n]=!0),e[n]=!e[n]}))},e.prototype.isSelected=function(t){var e=this.option.selected;return!(e.hasOwnProperty(t)&&!e[t])&&j["q"](this._availableNames,t)>=0},e.prototype.getOrient=function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},e.type="legend.plain",e.dependencies=["series"],e.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},e}(Gt["a"]),On=_n;function Sn(t,e,n){var o=e.getBoxLayoutParams(),i=e.get("padding"),a={width:n.getWidth(),height:n.getHeight()},r=Object(en["d"])(o,a,i);Object(en["a"])(e.get("orient"),t,e.get("itemGap"),r.width,r.height),Object(en["f"])(t,o,a,i)}function wn(t,e){var n=gt["f"](e.get("padding")),o=e.getItemStyle(["color","opacity"]);return o.fill=e.get("backgroundColor"),t=new Ke["a"]({shape:{x:t.x-n[3],y:t.y-n[0],width:t.width+n[1]+n[3],height:t.height+n[0]+n[2],r:e.get("borderRadius")},style:o,silent:!0,z2:-1}),t}var Mn=n("b3c1"),Cn=j["h"],In=j["k"],jn=M["a"],An=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.newlineDisabled=!1,n}return Object(_["a"])(e,t),e.prototype.init=function(){this.group.add(this._contentGroup=new jn),this.group.add(this._selectorGroup=new jn),this._isFirstRender=!0},e.prototype.getContentGroup=function(){return this._contentGroup},e.prototype.getSelectorGroup=function(){return this._selectorGroup},e.prototype.render=function(t,e,n){var o=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),t.get("show",!0)){var i=t.get("align"),a=t.get("orient");i&&"auto"!==i||(i="right"===t.get("left")&&"vertical"===a?"right":"left");var r=t.get("selector",!0),s=t.get("selectorPosition",!0);!r||s&&"auto"!==s||(s="horizontal"===a?"end":"start"),this.renderInner(i,t,e,n,r,a,s);var l=t.getBoxLayoutParams(),c={width:n.getWidth(),height:n.getHeight()},u=t.get("padding"),d=en["d"](l,c,u),h=this.layoutInner(t,i,d,o,r,s),p=en["d"](j["i"]({width:h.width,height:h.height},l),c,u);this.group.x=p.x-h.x,this.group.y=p.y-h.y,this.group.markRedraw(),this.group.add(this._backgroundEl=wn(h,t))}},e.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},e.prototype.renderInner=function(t,e,n,o,i,a,r){var s=this.getContentGroup(),l=j["f"](),c=e.get("selectedMode"),u=[];n.eachRawSeries((function(t){!t.get("legendHoverLink")&&u.push(t.id)})),In(e.getData(),(function(i,a){var r=i.get("name");if(!this.newlineDisabled&&(""===r||"\n"===r)){var d=new jn;return d.newline=!0,void s.add(d)}var h=n.getSeriesByName(r)[0];if(!l.get(r)){if(h){var p=h.getData(),g=p.getVisual("legendLineStyle")||{},f=p.getVisual("legendIcon"),m=p.getVisual("style"),v=this._createItem(h,r,a,i,e,t,g,m,f,c,o);v.on("click",Cn(Dn,r,null,o,u)).on("mouseover",Cn(Ln,h.name,null,o,u)).on("mouseout",Cn(Rn,h.name,null,o,u)),l.set(r,!0)}else n.eachRawSeries((function(n){if(!l.get(r)&&n.legendVisualProvider){var s=n.legendVisualProvider;if(!s.containName(r))return;var d=s.indexOfName(r),h=s.getItemVisual(d,"style"),p=s.getItemVisual(d,"legendIcon"),g=Object(ft["d"])(h.fill);g&&0===g[3]&&(g[3]=.2,h=j["m"](j["m"]({},h),{fill:Object(ft["e"])(g,"rgba")}));var f=this._createItem(n,r,a,i,e,t,{},h,p,c,o);f.on("click",Cn(Dn,null,r,o,u)).on("mouseover",Cn(Ln,null,r,o,u)).on("mouseout",Cn(Rn,null,r,o,u)),l.set(r,!0)}}),this);0}}),this),i&&this._createSelector(i,e,o,a,r)},e.prototype._createSelector=function(t,e,n,o,i){var a=this.getSelectorGroup();In(t,(function(t){var o=t.type,i=new J["a"]({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){n.dispatchAction({type:"all"===o?"legendAllSelect":"legendInverseSelect"})}});a.add(i);var r=e.getModel("selectorLabel"),s=e.getModel(["emphasis","selectorLabel"]);Object(L["e"])(i,{normal:r,emphasis:s},{defaultText:t.title}),Object(D["m"])(i)}))},e.prototype._createItem=function(t,e,n,o,i,a,r,s,l,c,u){var d=t.visualDrawType,h=i.get("itemWidth"),p=i.get("itemHeight"),g=i.isSelected(e),f=o.get("symbolRotate"),m=o.get("symbolKeepAspect"),v=o.get("icon");l=v||l||"roundRect";var y=kn(l,o,r,s,d,g,u),b=new jn,x=o.getModel("textStyle");if(!j["v"](t.getLegendIcon)||v&&"inherit"!==v){var _="inherit"===v&&t.getData().getVisual("symbol")?"inherit"===f?t.getData().getVisual("symbolRotate"):f:0;b.add(Tn({itemWidth:h,itemHeight:p,icon:l,iconRotate:_,itemStyle:y.itemStyle,lineStyle:y.lineStyle,symbolKeepAspect:m}))}else b.add(t.getLegendIcon({itemWidth:h,itemHeight:p,icon:l,iconRotate:f,itemStyle:y.itemStyle,lineStyle:y.lineStyle,symbolKeepAspect:m}));var O="left"===a?h+5:-5,S=a,w=i.get("formatter"),M=e;j["A"](w)&&w?M=w.replace("{name}",null!=e?e:""):j["v"](w)&&(M=w(e));var C=o.get("inactiveColor");b.add(new J["a"]({style:Object(L["a"])(x,{text:M,x:O,y:p/2,fill:g?x.getTextColor():C,align:S,verticalAlign:"middle"})}));var I=new Ke["a"]({shape:b.getBoundingRect(),invisible:!0}),A=o.getModel("tooltip");return A.get("show")&&k["setTooltipConfig"]({el:I,componentModel:i,itemName:e,itemTooltipOption:A.option}),b.add(I),b.eachChild((function(t){t.silent=!0})),I.silent=!c,this.getContentGroup().add(b),Object(D["m"])(b),b.__legendDataIndex=n,b},e.prototype.layoutInner=function(t,e,n,o,i,a){var r=this.getContentGroup(),s=this.getSelectorGroup();en["a"](t.get("orient"),r,t.get("itemGap"),n.width,n.height);var l=r.getBoundingRect(),c=[-l.x,-l.y];if(s.markRedraw(),r.markRedraw(),i){en["a"]("horizontal",s,t.get("selectorItemGap",!0));var u=s.getBoundingRect(),d=[-u.x,-u.y],h=t.get("selectorButtonGap",!0),p=t.getOrient().index,g=0===p?"width":"height",f=0===p?"height":"width",m=0===p?"y":"x";"end"===a?d[p]+=l[g]+h:c[p]+=u[g]+h,d[1-p]+=l[f]/2-u[f]/2,s.x=d[0],s.y=d[1],r.x=c[0],r.y=c[1];var v={x:0,y:0};return v[g]=l[g]+h+u[g],v[f]=Math.max(l[f],u[f]),v[m]=Math.min(0,u[m]+d[1-p]),v}return r.x=c[0],r.y=c[1],this.group.getBoundingRect()},e.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},e.type="legend.plain",e}(ne["a"]);function kn(t,e,n,o,i,a,r){function s(t,e){"auto"===t.lineWidth&&(t.lineWidth=e.lineWidth>0?2:0),In(t,(function(n,o){"inherit"===t[o]&&(t[o]=e[o])}))}var l=e.getModel("itemStyle"),c=l.getItemStyle(),u=0===t.lastIndexOf("empty",0)?"fill":"stroke",d=l.getShallow("decal");c.decal=d&&"inherit"!==d?Object(Mn["a"])(d,r):o.decal,"inherit"===c.fill&&(c.fill=o[i]),"inherit"===c.stroke&&(c.stroke=o[u]),"inherit"===c.opacity&&(c.opacity=("fill"===i?o:n).opacity),s(c,o);var h=e.getModel("lineStyle"),p=h.getLineStyle();if(s(p,n),"auto"===c.fill&&(c.fill=o.fill),"auto"===c.stroke&&(c.stroke=o.fill),"auto"===p.stroke&&(p.stroke=o.fill),!a){var g=e.get("inactiveBorderWidth"),f=c[u];c.lineWidth="auto"===g?o.lineWidth>0&&f?2:0:c.lineWidth,c.fill=e.get("inactiveColor"),c.stroke=e.get("inactiveBorderColor"),p.stroke=h.get("inactiveColor"),p.lineWidth=h.get("inactiveWidth")}return{itemStyle:c,lineStyle:p}}function Tn(t){var e=t.icon||"roundRect",n=Object(w["a"])(e,0,0,t.itemWidth,t.itemHeight,t.itemStyle.fill,t.symbolKeepAspect);return n.setStyle(t.itemStyle),n.rotation=(t.iconRotate||0)*Math.PI/180,n.setOrigin([t.itemWidth/2,t.itemHeight/2]),e.indexOf("empty")>-1&&(n.style.stroke=n.style.fill,n.style.fill="#fff",n.style.lineWidth=2),n}function Dn(t,e,n,o){Rn(t,e,n,o),n.dispatchAction({type:"legendToggleSelect",name:null!=t?t:e}),Ln(t,e,n,o)}function Pn(t){var e,n=t.getZr().storage.getDisplayList(),o=0,i=n.length;while(o<i&&!(e=n[o].states.emphasis))o++;return e&&e.hoverLayer}function Ln(t,e,n,o){Pn(n)||n.dispatchAction({type:"highlight",seriesName:t,name:e,excludeSeriesId:o})}function Rn(t,e,n,o){Pn(n)||n.dispatchAction({type:"downplay",seriesName:t,name:e,excludeSeriesId:o})}var zn=An;function En(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.filterSeries((function(t){for(var n=0;n<e.length;n++)if(!e[n].isSelected(t.name))return!1;return!0}))}function Nn(t,e,n){var o,i={},a="toggleSelected"===t;return n.eachComponent("legend",(function(n){a&&null!=o?n[o?"select":"unSelect"](e.name):"allSelect"===t||"inverseSelect"===t?n[t]():(n[t](e.name),o=n.isSelected(e.name));var r=n.getData();Object(j["k"])(r,(function(t){var e=t.get("name");if("\n"!==e&&""!==e){var o=n.isSelected(e);i.hasOwnProperty(e)?i[e]=i[e]&&o:i[e]=o}}))})),"allSelect"===t||"inverseSelect"===t?{selected:i}:{name:e.name,selected:i}}function Bn(t){t.registerAction("legendToggleSelect","legendselectchanged",Object(j["h"])(Nn,"toggleSelected")),t.registerAction("legendAllSelect","legendselectall",Object(j["h"])(Nn,"allSelect")),t.registerAction("legendInverseSelect","legendinverseselect",Object(j["h"])(Nn,"inverseSelect")),t.registerAction("legendSelect","legendselected",Object(j["h"])(Nn,"select")),t.registerAction("legendUnSelect","legendunselected",Object(j["h"])(Nn,"unSelect"))}function Wn(t){t.registerComponentModel(On),t.registerComponentView(zn),t.registerProcessor(t.PRIORITY.PROCESSOR.SERIES_FILTER,En),t.registerSubTypeDefaulter("legend",(function(){return"plain"})),Bn(t)}var Vn=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(_["a"])(e,t),e.prototype.setScrollDataIndex=function(t){this.option.scrollDataIndex=t},e.prototype.init=function(e,n,o){var i=Object(en["c"])(e);t.prototype.init.call(this,e,n,o),Gn(this,e,i)},e.prototype.mergeOption=function(e,n){t.prototype.mergeOption.call(this,e,n),Gn(this,this.option,e)},e.type="legend.scroll",e.defaultOption=Object($t["d"])(On.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),e}(On);function Gn(t,e,n){var o=t.getOrient(),i=[1,1];i[o.index]=0,Object(en["e"])(e,n,{type:"box",ignoreSize:!!i})}var Zn=Vn,Hn=M["a"],Fn=["width","height"],Yn=["x","y"],Xn=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.newlineDisabled=!0,n._currentIndex=0,n}return Object(_["a"])(e,t),e.prototype.init=function(){t.prototype.init.call(this),this.group.add(this._containerGroup=new Hn),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new Hn)},e.prototype.resetInner=function(){t.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},e.prototype.renderInner=function(e,n,o,i,a,r,s){var l=this;t.prototype.renderInner.call(this,e,n,o,i,a,r,s);var c=this._controllerGroup,u=n.get("pageIconSize",!0),d=j["s"](u)?u:[u,u];p("pagePrev",0);var h=n.getModel("pageTextStyle");function p(t,e){var o=t+"DataIndex",a=k["createIcon"](n.get("pageIcons",!0)[n.getOrient().name][e],{onclick:j["c"](l._pageGo,l,o,n,i)},{x:-d[0]/2,y:-d[1]/2,width:d[0],height:d[1]});a.name=t,c.add(a)}c.add(new J["a"]({name:"pageText",style:{text:"xx/xx",fill:h.getTextColor(),font:h.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),p("pageNext",1)},e.prototype.layoutInner=function(t,e,n,o,i,a){var r=this.getSelectorGroup(),s=t.getOrient().index,l=Fn[s],c=Yn[s],u=Fn[1-s],d=Yn[1-s];i&&en["a"]("horizontal",r,t.get("selectorItemGap",!0));var h=t.get("selectorButtonGap",!0),p=r.getBoundingRect(),g=[-p.x,-p.y],f=j["d"](n);i&&(f[l]=n[l]-p[l]-h);var m=this._layoutContentAndController(t,o,f,s,l,u,d,c);if(i){if("end"===a)g[s]+=m[l]+h;else{var v=p[l]+h;g[s]-=v,m[c]-=v}m[l]+=p[l]+h,g[1-s]+=m[d]+m[u]/2-p[u]/2,m[u]=Math.max(m[u],p[u]),m[d]=Math.min(m[d],p[d]+g[1-s]),r.x=g[0],r.y=g[1],r.markRedraw()}return m},e.prototype._layoutContentAndController=function(t,e,n,o,i,a,r,s){var l=this.getContentGroup(),c=this._containerGroup,u=this._controllerGroup;en["a"](t.get("orient"),l,t.get("itemGap"),o?n.width:null,o?null:n.height),en["a"]("horizontal",u,t.get("pageButtonItemGap",!0));var d=l.getBoundingRect(),h=u.getBoundingRect(),p=this._showController=d[i]>n[i],g=[-d.x,-d.y];e||(g[o]=l[s]);var f=[0,0],m=[-h.x,-h.y],v=j["M"](t.get("pageButtonGap",!0),t.get("itemGap",!0));if(p){var y=t.get("pageButtonPosition",!0);"end"===y?m[o]+=n[i]-h[i]:f[o]+=h[i]+v}m[1-o]+=d[a]/2-h[a]/2,l.setPosition(g),c.setPosition(f),u.setPosition(m);var b={x:0,y:0};if(b[i]=p?n[i]:d[i],b[a]=Math.max(d[a],h[a]),b[r]=Math.min(0,h[r]+m[1-o]),c.__rectSize=n[i],p){var x={x:0,y:0};x[i]=Math.max(n[i]-h[i]-v,0),x[a]=b[a],c.setClipPath(new Ke["a"]({shape:x})),c.__rectSize=x[i]}else u.eachChild((function(t){t.attr({invisible:!0,silent:!0})}));var _=this._getPageInfo(t);return null!=_.pageIndex&&A["f"](l,{x:_.contentPosition[0],y:_.contentPosition[1]},p?t:null),this._updatePageInfoView(t,_),b},e.prototype._pageGo=function(t,e,n){var o=this._getPageInfo(e)[t];null!=o&&n.dispatchAction({type:"legendScroll",scrollDataIndex:o,legendId:e.id})},e.prototype._updatePageInfoView=function(t,e){var n=this._controllerGroup;j["k"](["pagePrev","pageNext"],(function(o){var i=o+"DataIndex",a=null!=e[i],r=n.childOfName(o);r&&(r.setStyle("fill",a?t.get("pageIconColor",!0):t.get("pageIconInactiveColor",!0)),r.cursor=a?"pointer":"default")}));var o=n.childOfName("pageText"),i=t.get("pageFormatter"),a=e.pageIndex,r=null!=a?a+1:0,s=e.pageCount;o&&i&&o.setStyle("text",j["A"](i)?i.replace("{current}",null==r?"":r+"").replace("{total}",null==s?"":s+""):i({current:r,total:s}))},e.prototype._getPageInfo=function(t){var e=t.get("scrollDataIndex",!0),n=this.getContentGroup(),o=this._containerGroup.__rectSize,i=t.getOrient().index,a=Fn[i],r=Yn[i],s=this._findTargetItemIndex(e),l=n.children(),c=l[s],u=l.length,d=u?1:0,h={contentPosition:[n.x,n.y],pageCount:d,pageIndex:d-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!c)return h;var p=y(c);h.contentPosition[i]=-p.s;for(var g=s+1,f=p,m=p,v=null;g<=u;++g)v=y(l[g]),(!v&&m.e>f.s+o||v&&!b(v,f.s))&&(f=m.i>f.i?m:v,f&&(null==h.pageNextDataIndex&&(h.pageNextDataIndex=f.i),++h.pageCount)),m=v;for(g=s-1,f=p,m=p,v=null;g>=-1;--g)v=y(l[g]),v&&b(m,v.s)||!(f.i<m.i)||(m=f,null==h.pagePrevDataIndex&&(h.pagePrevDataIndex=f.i),++h.pageCount,++h.pageIndex),f=v;return h;function y(t){if(t){var e=t.getBoundingRect(),n=e[r]+t[r];return{s:n,e:n+e[a],i:t.__legendDataIndex}}}function b(t,e){return t.e>=e&&t.s<=e+o}},e.prototype._findTargetItemIndex=function(t){if(!this._showController)return 0;var e,n,o=this.getContentGroup();return o.eachChild((function(o,i){var a=o.__legendDataIndex;null==n&&null!=a&&(n=i),a===t&&(e=i)})),null!=e?e:n},e.type="legend.scroll",e}(zn),Un=Xn;function Qn(t){t.registerAction("legendScroll","legendscroll",(function(t,e){var n=t.scrollDataIndex;null!=n&&e.eachComponent({mainType:"legend",subType:"scroll",query:t},(function(t){t.setScrollDataIndex(n)}))}))}function qn(t){Object(y["a"])(Wn),t.registerComponentModel(Zn),t.registerComponentView(Un),Qn(t)}function Kn(t){Object(y["a"])(Wn),Object(y["a"])(qn)}var Jn=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(_["a"])(e,t),e.type="dataZoom.select",e}(Jt),$n=Jn,to=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(_["a"])(e,t),e.type="dataZoom.select",e}(ie),eo=to;function no(t){t.registerComponentModel($n),t.registerComponentView(eo),Xe(t)}var oo=function(){function t(){}return t}(),io={};function ao(t,e){io[t]=e}function ro(t){return io[t]}var so=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(_["a"])(e,t),e.prototype.optionUpdated=function(){t.prototype.optionUpdated.apply(this,arguments);var e=this.ecModel;j["k"](this.option.feature,(function(t,n){var o=ro(n);o&&(o.getDefaultOption&&(o.defaultOption=o.getDefaultOption(e)),j["G"](t,o.defaultOption))}))},e.type="toolbox",e.layoutMode={type:"box",ignoreSize:!0},e.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},e}(Gt["a"]),lo=so,co=n("e86a"),uo=n("80f0"),ho=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(_["a"])(e,t),e.prototype.render=function(t,e,n,o){var i=this.group;if(i.removeAll(),t.get("show")){var a=+t.get("itemSize"),r="vertical"===t.get("orient"),s=t.get("feature")||{},l=this._features||(this._features={}),c=[];j["k"](s,(function(t,e){c.push(e)})),new uo["a"](this._featureNames||[],c).add(u).update(u).remove(j["h"](u,null)).execute(),this._featureNames=c,Sn(i,t,n),i.add(wn(i.getBoundingRect(),t)),r||i.eachChild((function(t){var e=t.__title,o=t.ensureState("emphasis"),r=o.textConfig||(o.textConfig={}),s=t.getTextContent(),l=s&&s.ensureState("emphasis");if(l&&!j["v"](l)&&e){var c=l.style||(l.style={}),u=co["d"](e,J["a"].makeFont(c)),d=t.x+i.x,h=t.y+i.y+a,p=!1;h+u.height>n.getHeight()&&(r.position="top",p=!0);var g=p?-5-u.height:a+10;d+u.width/2>n.getWidth()?(r.position=["100%",g],c.align="right"):d-u.width/2<0&&(r.position=[0,g],c.align="left")}}))}function u(i,a){var r,u=c[i],h=c[a],p=s[u],g=new bn["a"](p,t,t.ecModel);if(o&&null!=o.newTitle&&o.featureName===u&&(p.title=o.newTitle),u&&!h){if(po(u))r={onclick:g.option.onclick,featureName:u};else{var f=ro(u);if(!f)return;r=new f}l[u]=r}else if(r=l[h],!r)return;r.uid=Object($t["c"])("toolbox-feature"),r.model=g,r.ecModel=e,r.api=n;var m=r instanceof oo;u||!h?!g.get("show")||m&&r.unusable?m&&r.remove&&r.remove(e,n):(d(g,r,u),g.setIconStatus=function(t,e){var n=this.option,o=this.iconPaths;n.iconStatus=n.iconStatus||{},n.iconStatus[t]=e,o[t]&&("emphasis"===e?D["o"]:D["z"])(o[t])},r instanceof oo&&r.render&&r.render(g,e,n,o)):m&&r.dispose&&r.dispose(e,n)}function d(o,s,l){var c,u,d=o.getModel("iconStyle"),h=o.getModel(["emphasis","iconStyle"]),p=s instanceof oo&&s.getIcons?s.getIcons():o.get("icon"),g=o.get("title")||{};j["A"](p)?(c={},c[l]=p):c=p,j["A"](g)?(u={},u[l]=g):u=g;var f=o.iconPaths={};j["k"](c,(function(l,c){var p=k["createIcon"](l,{},{x:-a/2,y:-a/2,width:a,height:a});p.setStyle(d.getItemStyle());var g=p.ensureState("emphasis");g.style=h.getItemStyle();var m=new J["a"]({style:{text:u[c],align:h.get("textAlign"),borderRadius:h.get("textBorderRadius"),padding:h.get("textPadding"),fill:null},ignore:!0});p.setTextContent(m),k["setTooltipConfig"]({el:p,componentModel:t,itemName:c,formatterParamsExtra:{title:u[c]}}),p.__title=u[c],p.on("mouseover",(function(){var e=h.getItemStyle(),o=r?null==t.get("right")&&"right"!==t.get("left")?"right":"left":null==t.get("bottom")&&"bottom"!==t.get("top")?"bottom":"top";m.setStyle({fill:h.get("textFill")||e.fill||e.stroke||"#000",backgroundColor:h.get("textBackgroundColor")}),p.setTextConfig({position:h.get("textPosition")||o}),m.ignore=!t.get("showTitle"),n.enterEmphasis(this)})).on("mouseout",(function(){"emphasis"!==o.get(["iconStatus",c])&&n.leaveEmphasis(this),m.hide()})),("emphasis"===o.get(["iconStatus",c])?D["o"]:D["z"])(p),i.add(p),p.on("click",j["c"](s.onclick,s,e,n,c)),f[c]=p}))}},e.prototype.updateView=function(t,e,n,o){j["k"](this._features,(function(t){t instanceof oo&&t.updateView&&t.updateView(t.model,e,n,o)}))},e.prototype.remove=function(t,e){j["k"](this._features,(function(n){n instanceof oo&&n.remove&&n.remove(t,e)})),this.group.removeAll()},e.prototype.dispose=function(t,e){j["k"](this._features,(function(n){n instanceof oo&&n.dispose&&n.dispose(t,e)}))},e.type="toolbox",e}(ne["a"]);function po(t){return 0===t.indexOf("my")}var go=ho,fo=n("22d1"),mo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(_["a"])(e,t),e.prototype.onclick=function(t,e){var n=this.model,o=n.get("name")||t.get("title.0.text")||"echarts",i="svg"===e.getZr().painter.getType(),a=i?"svg":n.get("type",!0)||"png",r=e.getConnectedDataURL({type:a,backgroundColor:n.get("backgroundColor",!0)||t.get("backgroundColor")||"#fff",connectedBackgroundColor:n.get("connectedBackgroundColor"),excludeComponents:n.get("excludeComponents"),pixelRatio:n.get("pixelRatio")}),s=fo["a"].browser;if(Object(j["v"])(MouseEvent)&&(s.newEdge||!s.ie&&!s.edge)){var l=document.createElement("a");l.download=o+"."+a,l.target="_blank",l.href=r;var c=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});l.dispatchEvent(c)}else if(window.navigator.msSaveOrOpenBlob||i){var u=r.split(","),d=u[0].indexOf("base64")>-1,h=i?decodeURIComponent(u[1]):u[1];d&&(h=window.atob(h));var p=o+"."+a;if(window.navigator.msSaveOrOpenBlob){var g=h.length,f=new Uint8Array(g);while(g--)f[g]=h.charCodeAt(g);var m=new Blob([f]);window.navigator.msSaveOrOpenBlob(m,p)}else{var v=document.createElement("iframe");document.body.appendChild(v);var y=v.contentWindow,b=y.document;b.open("image/svg+xml","replace"),b.write(h),b.close(),y.focus(),b.execCommand("SaveAs",!0,p),document.body.removeChild(v)}}else{var x=n.get("lang"),_='<body style="margin:0;"><img src="'+r+'" style="max-width:100%;" title="'+(x&&x[0]||"")+'" /></body>',O=window.open();O.document.write(_),O.document.title=o}},e.getDefaultOption=function(t){var e={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:t.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:t.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return e},e}(oo),vo=mo,yo="__ec_magicType_stack__",bo=[["line","bar"],["stack"]],xo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(_["a"])(e,t),e.prototype.getIcons=function(){var t=this.model,e=t.get("icon"),n={};return j["k"](t.get("type"),(function(t){e[t]&&(n[t]=e[t])})),n},e.getDefaultOption=function(t){var e={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:t.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return e},e.prototype.onclick=function(t,e,n){var o=this.model,i=o.get(["seriesIndex",n]);if(_o[n]){var a,r={series:[]},s=function(t){var e=t.subType,i=t.id,a=_o[n](e,i,t,o);a&&(j["i"](a,t.option),r.series.push(a));var s=t.coordinateSystem;if(s&&"cartesian2d"===s.type&&("line"===n||"bar"===n)){var l=s.getAxesByScale("ordinal")[0];if(l){var c=l.dim,u=c+"Axis",d=t.getReferringComponents(u,$["b"]).models[0],h=d.componentIndex;r[u]=r[u]||[];for(var p=0;p<=h;p++)r[u][h]=r[u][h]||{};r[u][h].boundaryGap="bar"===n}}};j["k"](bo,(function(t){j["q"](t,n)>=0&&j["k"](t,(function(t){o.setIconStatus(t,"normal")}))})),o.setIconStatus(n,"emphasis"),t.eachComponent({mainType:"series",query:null==i?null:{seriesIndex:i}},s);var l=n;"stack"===n&&(a=j["G"]({stack:o.option.title.tiled,tiled:o.option.title.stack},o.option.title),"emphasis"!==o.get(["iconStatus",n])&&(l="tiled")),e.dispatchAction({type:"changeMagicType",currentType:l,newOption:r,newTitle:a,featureName:"magicType"})}},e}(oo),_o={line:function(t,e,n,o){if("bar"===t)return j["G"]({id:e,type:"line",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},o.get(["option","line"])||{},!0)},bar:function(t,e,n,o){if("line"===t)return j["G"]({id:e,type:"bar",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},o.get(["option","bar"])||{},!0)},stack:function(t,e,n,o){var i=n.get("stack")===yo;if("line"===t||"bar"===t)return o.setIconStatus("stack",i?"normal":"emphasis"),j["G"]({id:e,stack:i?"":yo},o.get(["option","stack"])||{},!0)}};b["c"]({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},(function(t,e){e.mergeOption(t.newOption)}));var Oo=xo,So=new Array(60).join("-"),wo="\t";function Mo(t){var e={},n=[],o=[];return t.eachRawSeries((function(t){var i=t.coordinateSystem;if(!i||"cartesian2d"!==i.type&&"polar"!==i.type)n.push(t);else{var a=i.getBaseAxis();if("category"===a.type){var r=a.dim+"_"+a.index;e[r]||(e[r]={categoryAxis:a,valueAxis:i.getOtherAxis(a),series:[]},o.push({axisDim:a.dim,axisIndex:a.index})),e[r].series.push(t)}else n.push(t)}})),{seriesGroupByCategoryAxis:e,other:n,meta:o}}function Co(t){var e=[];return j["k"](t,(function(t,n){var o=t.categoryAxis,i=t.valueAxis,a=i.dim,r=[" "].concat(j["F"](t.series,(function(t){return t.name}))),s=[o.model.getCategories()];j["k"](t.series,(function(t){var e=t.getRawData();s.push(t.getRawData().mapArray(e.mapDimension(a),(function(t){return t})))}));for(var l=[r.join(wo)],c=0;c<s[0].length;c++){for(var u=[],d=0;d<s.length;d++)u.push(s[d][c]);l.push(u.join(wo))}e.push(l.join("\n"))})),e.join("\n\n"+So+"\n\n")}function Io(t){return j["F"](t,(function(t){var e=t.getRawData(),n=[t.name],o=[];return e.each(e.dimensions,(function(){for(var t=arguments.length,i=arguments[t-1],a=e.getName(i),r=0;r<t-1;r++)o[r]=arguments[r];n.push((a?a+wo:"")+o.join(wo))})),n.join("\n")})).join("\n\n"+So+"\n\n")}function jo(t){var e=Mo(t);return{value:j["n"]([Co(e.seriesGroupByCategoryAxis),Io(e.other)],(function(t){return!!t.replace(/[\n\t\s]/g,"")})).join("\n\n"+So+"\n\n"),meta:e.meta}}function Ao(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function ko(t){var e=t.slice(0,t.indexOf("\n"));if(e.indexOf(wo)>=0)return!0}var To=new RegExp("["+wo+"]+","g");function Do(t){for(var e=t.split(/\n+/g),n=Ao(e.shift()).split(To),o=[],i=j["F"](n,(function(t){return{name:t,data:[]}})),a=0;a<e.length;a++){var r=Ao(e[a]).split(To);o.push(r.shift());for(var s=0;s<r.length;s++)i[s]&&(i[s].data[a]=r[s])}return{series:i,categories:o}}function Po(t){for(var e=t.split(/\n+/g),n=Ao(e.shift()),o=[],i=0;i<e.length;i++){var a=Ao(e[i]);if(a){var r=a.split(To),s="",l=void 0,c=!1;isNaN(r[0])?(c=!0,s=r[0],r=r.slice(1),o[i]={name:s,value:[]},l=o[i].value):l=o[i]=[];for(var u=0;u<r.length;u++)l.push(+r[u]);1===l.length&&(c?o[i].value=l[0]:o[i]=l[0])}}return{name:n,data:o}}function Lo(t,e){var n=t.split(new RegExp("\n*"+So+"\n*","g")),o={series:[]};return j["k"](n,(function(t,n){if(ko(t)){var i=Do(t),a=e[n],r=a.axisDim+"Axis";a&&(o[r]=o[r]||[],o[r][a.axisIndex]={data:i.categories},o.series=o.series.concat(i.series))}else{i=Po(t);o.series.push(i)}})),o}var Ro=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(_["a"])(e,t),e.prototype.onclick=function(t,e){setTimeout((function(){e.dispatchAction({type:"hideTip"})}));var n=e.getDom(),o=this.model;this._dom&&n.removeChild(this._dom);var i=document.createElement("div");i.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",i.style.backgroundColor=o.get("backgroundColor")||"#fff";var a=document.createElement("h4"),r=o.get("lang")||[];a.innerHTML=r[0]||o.get("title"),a.style.cssText="margin:10px 20px",a.style.color=o.get("textColor");var s=document.createElement("div"),l=document.createElement("textarea");s.style.cssText="overflow:auto";var c=o.get("optionToContent"),u=o.get("contentToOption"),d=jo(t);if(j["v"](c)){var h=c(e.getOption());j["A"](h)?s.innerHTML=h:j["u"](h)&&s.appendChild(h)}else{l.readOnly=o.get("readOnly");var p=l.style;p.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",p.color=o.get("textColor"),p.borderColor=o.get("textareaBorderColor"),p.backgroundColor=o.get("textareaColor"),l.value=d.value,s.appendChild(l)}var g=d.meta,f=document.createElement("div");f.style.cssText="position:absolute;bottom:5px;left:0;right:0";var m="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",v=document.createElement("div"),y=document.createElement("div");m+=";background-color:"+o.get("buttonColor"),m+=";color:"+o.get("buttonTextColor");var b=this;function x(){n.removeChild(i),b._dom=null}Object(ce["a"])(v,"click",x),Object(ce["a"])(y,"click",(function(){if(null==u&&null!=c||null!=u&&null==c)x();else{var t;try{t=j["v"](u)?u(s,e.getOption()):Lo(l.value,g)}catch(n){throw x(),new Error("Data view format error "+n)}t&&e.dispatchAction({type:"changeDataView",newOption:t}),x()}})),v.innerHTML=r[1],y.innerHTML=r[2],y.style.cssText=v.style.cssText=m,!o.get("readOnly")&&f.appendChild(y),f.appendChild(v),i.appendChild(a),i.appendChild(s),i.appendChild(f),s.style.height=n.clientHeight-80+"px",n.appendChild(i),this._dom=i},e.prototype.remove=function(t,e){this._dom&&e.getDom().removeChild(this._dom)},e.prototype.dispose=function(t,e){this.remove(t,e)},e.getDefaultOption=function(t){var e={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:t.getLocaleModel().get(["toolbox","dataView","title"]),lang:t.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};return e},e}(oo);function zo(t,e){return j["F"](t,(function(t,n){var o=e&&e[n];if(j["z"](o)&&!j["s"](o)){var i=j["z"](t)&&!j["s"](t);i||(t={value:t});var a=null!=o.name&&null==t.name;return t=j["i"](t,o),a&&delete t.name,t}return t}))}b["c"]({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},(function(t,e){var n=[];j["k"](t.newOption.series,(function(t){var o=e.getSeriesByName(t.name)[0];if(o){var i=o.get("data");n.push({name:t.name,data:zo(t.data,i)})}else n.push(j["m"]({type:"scatter"},t))})),e.mergeOption(j["i"]({series:n},t.newOption))}));var Eo=Ro,No=j["k"],Bo=Object($["m"])();function Wo(t,e){var n=Ho(t);No(e,(function(e,o){for(var i=n.length-1;i>=0;i--){var a=n[i];if(a[o])break}if(i<0){var r=t.queryComponents({mainType:"dataZoom",subType:"select",id:o})[0];if(r){var s=r.getPercentRange();n[0][o]={dataZoomId:o,start:s[0],end:s[1]}}}})),n.push(e)}function Vo(t){var e=Ho(t),n=e[e.length-1];e.length>1&&e.pop();var o={};return No(n,(function(t,n){for(var i=e.length-1;i>=0;i--)if(t=e[i][n],t){o[n]=t;break}})),o}function Go(t){Bo(t).snapshots=null}function Zo(t){return Ho(t).length}function Ho(t){var e=Bo(t);return e.snapshots||(e.snapshots=[{}]),e.snapshots}var Fo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(_["a"])(e,t),e.prototype.onclick=function(t,e){Go(t),e.dispatchAction({type:"restore",from:this.uid})},e.getDefaultOption=function(t){var e={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:t.getLocaleModel().get(["toolbox","restore","title"])};return e},e}(oo);b["c"]({type:"restore",event:"restore",update:"prepareAndUpdate"},(function(t,e){e.resetOption("recreate")}));var Yo=Fo,Xo=!0,Uo=Math.min,Qo=Math.max,qo=Math.pow,Ko=1e4,Jo=6,$o=6,ti="globalPan",ei={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},ni={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},oi={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},ii=0,ai=function(t){function e(e){var n=t.call(this)||this;return n._track=[],n._covers=[],n._handlers={},n._zr=e,n.group=new M["a"],n._uid="brushController_"+ii++,Object(j["k"])(Ei,(function(t,e){this._handlers[e]=Object(j["c"])(t,this)}),n),n}return Object(_["a"])(e,t),e.prototype.enableBrush=function(t){return this._brushType&&this._doDisableBrush(),t.brushType&&this._doEnableBrush(t),this},e.prototype._doEnableBrush=function(t){var e=this._zr;this._enableGlobalPan||de(e,ti,this._uid),Object(j["k"])(this._handlers,(function(t,n){e.on(n,t)})),this._brushType=t.brushType,this._brushOption=Object(j["G"])(Object(j["d"])(oi),t,!0)},e.prototype._doDisableBrush=function(){var t=this._zr;he(t,ti,this._uid),Object(j["k"])(this._handlers,(function(e,n){t.off(n,e)})),this._brushType=this._brushOption=null},e.prototype.setPanels=function(t){if(t&&t.length){var e=this._panels={};Object(j["k"])(t,(function(t){e[t.panelId]=Object(j["d"])(t)}))}else this._panels=null;return this},e.prototype.mount=function(t){t=t||{},this._enableGlobalPan=t.enableGlobalPan;var e=this.group;return this._zr.add(e),e.attr({x:t.x||0,y:t.y||0,rotation:t.rotation||0,scaleX:t.scaleX||1,scaleY:t.scaleY||1}),this._transform=e.getLocalTransform(),this},e.prototype.updateCovers=function(t){t=Object(j["F"])(t,(function(t){return Object(j["G"])(Object(j["d"])(oi),t,!0)}));var e="\0-brush-index-",n=this._covers,o=this._covers=[],i=this,a=this._creatingCover;return new uo["a"](n,t,s,r).add(l).update(l).remove(c).execute(),this;function r(t,n){return(null!=t.id?t.id:e+n)+"-"+t.brushType}function s(t,e){return r(t.__brushOption,e)}function l(e,r){var s=t[e];if(null!=r&&n[r]===a)o[e]=n[r];else{var l=o[e]=null!=r?(n[r].__brushOption=s,n[r]):si(i,ri(i,s));ui(i,l)}}function c(t){n[t]!==a&&i.group.remove(n[t])}},e.prototype.unmount=function(){return this.enableBrush(!1),gi(this),this._zr.remove(this.group),this},e.prototype.dispose=function(){this.unmount(),this.off()},e}(le["a"]);function ri(t,e){var n=Wi[e.brushType].createCover(t,e);return n.__brushOption=e,ci(n,e),t.group.add(n),n}function si(t,e){var n=di(e);return n.endCreating&&(n.endCreating(t,e),ci(e,e.__brushOption)),e}function li(t,e){var n=e.__brushOption;di(e).updateCoverShape(t,e,n.range,n)}function ci(t,e){var n=e.z;null==n&&(n=Ko),t.traverse((function(t){t.z=n,t.z2=n}))}function ui(t,e){di(e).updateCommon(t,e),li(t,e)}function di(t){return Wi[t.__brushOption.brushType]}function hi(t,e,n){var o,i=t._panels;if(!i)return Xo;var a=t._transform;return Object(j["k"])(i,(function(t){t.isTargetByCursor(e,n,a)&&(o=t)})),o}function pi(t,e){var n=t._panels;if(!n)return Xo;var o=e.__brushOption.panelId;return null!=o?n[o]:Xo}function gi(t){var e=t._covers,n=e.length;return Object(j["k"])(e,(function(e){t.group.remove(e)}),t),e.length=0,!!n}function fi(t,e){var n=Object(j["F"])(t._covers,(function(t){var e=t.__brushOption,n=Object(j["d"])(e.range);return{brushType:e.brushType,panelId:e.panelId,range:n}}));t.trigger("brush",{areas:n,isEnd:!!e.isEnd,removeOnClick:!!e.removeOnClick})}function mi(t){var e=t._track;if(!e.length)return!1;var n=e[e.length-1],o=e[0],i=n[0]-o[0],a=n[1]-o[1],r=qo(i*i+a*a,.5);return r>Jo}function vi(t){var e=t.length-1;return e<0&&(e=0),[t[0],t[e]]}function yi(t,e,n,o){var i=new M["a"];return i.add(new Ke["a"]({name:"main",style:Oi(n),silent:!0,draggable:!0,cursor:"move",drift:Object(j["h"])(Ii,t,e,i,["n","s","w","e"]),ondragend:Object(j["h"])(fi,e,{isEnd:!0})})),Object(j["k"])(o,(function(n){i.add(new Ke["a"]({name:n.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:Object(j["h"])(Ii,t,e,i,n),ondragend:Object(j["h"])(fi,e,{isEnd:!0})}))})),i}function bi(t,e,n,o){var i=o.brushStyle.lineWidth||0,a=Qo(i,$o),r=n[0][0],s=n[1][0],l=r-i/2,c=s-i/2,u=n[0][1],d=n[1][1],h=u-a+i/2,p=d-a+i/2,g=u-r,f=d-s,m=g+i,v=f+i;_i(t,e,"main",r,s,g,f),o.transformable&&(_i(t,e,"w",l,c,a,v),_i(t,e,"e",h,c,a,v),_i(t,e,"n",l,c,m,a),_i(t,e,"s",l,p,m,a),_i(t,e,"nw",l,c,a,a),_i(t,e,"ne",h,c,a,a),_i(t,e,"sw",l,p,a,a),_i(t,e,"se",h,p,a,a))}function xi(t,e){var n=e.__brushOption,o=n.transformable,i=e.childAt(0);i.useStyle(Oi(n)),i.attr({silent:!o,cursor:o?"move":"default"}),Object(j["k"])([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],(function(n){var i=e.childOfName(n.join("")),a=1===n.length?Mi(t,n[0]):Ci(t,n);i&&i.attr({silent:!o,invisible:!o,cursor:o?ni[a]+"-resize":null})}))}function _i(t,e,n,o,i,a,r){var s=e.childOfName(n);s&&s.setShape(Ti(ki(t,e,[[o,i],[o+a,i+r]])))}function Oi(t){return Object(j["i"])({strokeNoScale:!0},t.brushStyle)}function Si(t,e,n,o){var i=[Uo(t,n),Uo(e,o)],a=[Qo(t,n),Qo(e,o)];return[[i[0],a[0]],[i[1],a[1]]]}function wi(t){return k["getTransform"](t.group)}function Mi(t,e){var n={w:"left",e:"right",n:"top",s:"bottom"},o={left:"w",right:"e",top:"n",bottom:"s"},i=k["transformDirection"](n[e],wi(t));return o[i]}function Ci(t,e){var n=[Mi(t,e[0]),Mi(t,e[1])];return("e"===n[0]||"w"===n[0])&&n.reverse(),n.join("")}function Ii(t,e,n,o,i,a){var r=n.__brushOption,s=t.toRectRange(r.range),l=Ai(e,i,a);Object(j["k"])(o,(function(t){var e=ei[t];s[e[0]][e[1]]+=l[e[0]]})),r.range=t.fromRectRange(Si(s[0][0],s[1][0],s[0][1],s[1][1])),ui(e,n),fi(e,{isEnd:!1})}function ji(t,e,n,o){var i=e.__brushOption.range,a=Ai(t,n,o);Object(j["k"])(i,(function(t){t[0]+=a[0],t[1]+=a[1]})),ui(t,e),fi(t,{isEnd:!1})}function Ai(t,e,n){var o=t.group,i=o.transformCoordToLocal(e,n),a=o.transformCoordToLocal(0,0);return[i[0]-a[0],i[1]-a[1]]}function ki(t,e,n){var o=pi(t,e);return o&&o!==Xo?o.clipPath(n,t._transform):Object(j["d"])(n)}function Ti(t){var e=Uo(t[0][0],t[1][0]),n=Uo(t[0][1],t[1][1]),o=Qo(t[0][0],t[1][0]),i=Qo(t[0][1],t[1][1]);return{x:e,y:n,width:o-e,height:i-n}}function Di(t,e,n){if(t._brushType&&!Bi(t,e.offsetX,e.offsetY)){var o=t._zr,i=t._covers,a=hi(t,e,n);if(!t._dragging)for(var r=0;r<i.length;r++){var s=i[r].__brushOption;if(a&&(a===Xo||s.panelId===a.panelId)&&Wi[s.brushType].contain(i[r],n[0],n[1]))return}a&&o.setCursorStyle("crosshair")}}function Pi(t){var e=t.event;e.preventDefault&&e.preventDefault()}function Li(t,e,n){return t.childOfName("main").contain(e,n)}function Ri(t,e,n,o){var i,a=t._creatingCover,r=t._creatingPanel,s=t._brushOption;if(t._track.push(n.slice()),mi(t)||a){if(r&&!a){"single"===s.brushMode&&gi(t);var l=Object(j["d"])(s);l.brushType=zi(l.brushType,r),l.panelId=r===Xo?null:r.panelId,a=t._creatingCover=ri(t,l),t._covers.push(a)}if(a){var c=Wi[zi(t._brushType,r)],u=a.__brushOption;u.range=c.getCreatingRange(ki(t,a,t._track)),o&&(si(t,a),c.updateCommon(t,a)),li(t,a),i={isEnd:o}}}else o&&"single"===s.brushMode&&s.removeOnClick&&hi(t,e,n)&&gi(t)&&(i={isEnd:o,removeOnClick:!0});return i}function zi(t,e){return"auto"===t?e.defaultBrushType:t}var Ei={mousedown:function(t){if(this._dragging)Ni(this,t);else if(!t.target||!t.target.draggable){Pi(t);var e=this.group.transformCoordToLocal(t.offsetX,t.offsetY);this._creatingCover=null;var n=this._creatingPanel=hi(this,t,e);n&&(this._dragging=!0,this._track=[e.slice()])}},mousemove:function(t){var e=t.offsetX,n=t.offsetY,o=this.group.transformCoordToLocal(e,n);if(Di(this,t,o),this._dragging){Pi(t);var i=Ri(this,t,o,!1);i&&fi(this,i)}},mouseup:function(t){Ni(this,t)}};function Ni(t,e){if(t._dragging){Pi(e);var n=e.offsetX,o=e.offsetY,i=t.group.transformCoordToLocal(n,o),a=Ri(t,e,i,!0);t._dragging=!1,t._track=[],t._creatingCover=null,a&&fi(t,a)}}function Bi(t,e,n){var o=t._zr;return e<0||e>o.getWidth()||n<0||n>o.getHeight()}var Wi={lineX:Vi(0),lineY:Vi(1),rect:{createCover:function(t,e){function n(t){return t}return yi({toRectRange:n,fromRectRange:n},t,e,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(t){var e=vi(t);return Si(e[1][0],e[1][1],e[0][0],e[0][1])},updateCoverShape:function(t,e,n,o){bi(t,e,n,o)},updateCommon:xi,contain:Li},polygon:{createCover:function(t,e){var n=new M["a"];return n.add(new $e["a"]({name:"main",style:Oi(e),silent:!0})),n},getCreatingRange:function(t){return t},endCreating:function(t,e){e.remove(e.childAt(0)),e.add(new Je["a"]({name:"main",draggable:!0,drift:Object(j["h"])(ji,t,e),ondragend:Object(j["h"])(fi,t,{isEnd:!0})}))},updateCoverShape:function(t,e,n,o){e.childAt(0).setShape({points:ki(t,e,n)})},updateCommon:xi,contain:Li}};function Vi(t){return{createCover:function(e,n){return yi({toRectRange:function(e){var n=[e,[0,100]];return t&&n.reverse(),n},fromRectRange:function(e){return e[t]}},e,n,[[["w"],["e"]],[["n"],["s"]]][t])},getCreatingRange:function(e){var n=vi(e),o=Uo(n[0][t],n[1][t]),i=Qo(n[0][t],n[1][t]);return[o,i]},updateCoverShape:function(e,n,o,i){var a,r=pi(e,n);if(r!==Xo&&r.getLinearBrushOtherExtent)a=r.getLinearBrushOtherExtent(t);else{var s=e._zr;a=[0,[s.getWidth(),s.getHeight()][1-t]]}var l=[o,a];t&&l.reverse(),bi(e,n,l,i)},updateCommon:xi,contain:Li}}var Gi=ai,Zi=n("9850"),Hi={axisPointer:1,tooltip:1,brush:1};function Fi(t,e,n){var o=e.getComponentByElement(t.topTarget),i=o&&o.coordinateSystem;return o&&o!==n&&!Hi.hasOwnProperty(o.mainType)&&i&&i.model!==n}function Yi(t){return t=Qi(t),function(e){return k["clipPointsByRect"](e,t)}}function Xi(t,e){return t=Qi(t),function(n){var o=null!=e?e:n,i=o?t.width:t.height,a=o?t.x:t.y;return[a,a+(i||0)]}}function Ui(t,e,n){var o=Qi(t);return function(t,i){return o.contain(i[0],i[1])&&!Fi(t,e,n)}}function Qi(t){return Zi["a"].create(t)}var qi=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],Ki=function(){function t(t,e,n){var o=this;this._targetInfoList=[];var i=$i(e,t);Object(j["k"])(ta,(function(t,e){(!n||!n.include||Object(j["q"])(n.include,e)>=0)&&t(i,o._targetInfoList)}))}return t.prototype.setOutputRanges=function(t,e){return this.matchOutputRanges(t,e,(function(t,e,n){if((t.coordRanges||(t.coordRanges=[])).push(e),!t.coordRange){t.coordRange=e;var o=oa[t.brushType](0,n,e);t.__rangeOffset={offset:aa[t.brushType](o.values,t.range,[1,1]),xyMinMax:o.xyMinMax}}})),t},t.prototype.matchOutputRanges=function(t,e,n){Object(j["k"])(t,(function(t){var o=this.findTargetInfo(t,e);o&&!0!==o&&Object(j["k"])(o.coordSyses,(function(o){var i=oa[t.brushType](1,o,t.range,!0);n(t,i.values,o,e)}))}),this)},t.prototype.setInputRanges=function(t,e){Object(j["k"])(t,(function(t){var n=this.findTargetInfo(t,e);if(t.range=t.range||[],n&&!0!==n){t.panelId=n.panelId;var o=oa[t.brushType](0,n.coordSys,t.coordRange),i=t.__rangeOffset;t.range=i?aa[t.brushType](o.values,i.offset,sa(o.xyMinMax,i.xyMinMax)):o.values}}),this)},t.prototype.makePanelOpts=function(t,e){return Object(j["F"])(this._targetInfoList,(function(n){var o=n.getPanelRect();return{panelId:n.panelId,defaultBrushType:e?e(n):null,clipPath:Yi(o),isTargetByCursor:Ui(o,t,n.coordSysModel),getLinearBrushOtherExtent:Xi(o)}}))},t.prototype.controlSeries=function(t,e,n){var o=this.findTargetInfo(t,n);return!0===o||o&&Object(j["q"])(o.coordSyses,e.coordinateSystem)>=0},t.prototype.findTargetInfo=function(t,e){for(var n=this._targetInfoList,o=$i(e,t),i=0;i<n.length;i++){var a=n[i],r=t.panelId;if(r){if(a.panelId===r)return a}else for(var s=0;s<ea.length;s++)if(ea[s](o,a))return a}return!0},t}();function Ji(t){return t[0]>t[1]&&t.reverse(),t}function $i(t,e){return Object($["q"])(t,e,{includeMainTypes:qi})}var ta={grid:function(t,e){var n=t.xAxisModels,o=t.yAxisModels,i=t.gridModels,a=Object(j["f"])(),r={},s={};(n||o||i)&&(Object(j["k"])(n,(function(t){var e=t.axis.grid.model;a.set(e.id,e),r[e.id]=!0})),Object(j["k"])(o,(function(t){var e=t.axis.grid.model;a.set(e.id,e),s[e.id]=!0})),Object(j["k"])(i,(function(t){a.set(t.id,t),r[t.id]=!0,s[t.id]=!0})),a.each((function(t){var i=t.coordinateSystem,a=[];Object(j["k"])(i.getCartesians(),(function(t,e){(Object(j["q"])(n,t.getAxis("x").model)>=0||Object(j["q"])(o,t.getAxis("y").model)>=0)&&a.push(t)})),e.push({panelId:"grid--"+t.id,gridModel:t,coordSysModel:t,coordSys:a[0],coordSyses:a,getPanelRect:na.grid,xAxisDeclared:r[t.id],yAxisDeclared:s[t.id]})})))},geo:function(t,e){Object(j["k"])(t.geoModels,(function(t){var n=t.coordinateSystem;e.push({panelId:"geo--"+t.id,geoModel:t,coordSysModel:t,coordSys:n,coordSyses:[n],getPanelRect:na.geo})}))}},ea=[function(t,e){var n=t.xAxisModel,o=t.yAxisModel,i=t.gridModel;return!i&&n&&(i=n.axis.grid.model),!i&&o&&(i=o.axis.grid.model),i&&i===e.gridModel},function(t,e){var n=t.geoModel;return n&&n===e.geoModel}],na={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var t=this.coordSys,e=t.getBoundingRect().clone();return e.applyTransform(k["getTransform"](t)),e}},oa={lineX:Object(j["h"])(ia,0),lineY:Object(j["h"])(ia,1),rect:function(t,e,n,o){var i=t?e.pointToData([n[0][0],n[1][0]],o):e.dataToPoint([n[0][0],n[1][0]],o),a=t?e.pointToData([n[0][1],n[1][1]],o):e.dataToPoint([n[0][1],n[1][1]],o),r=[Ji([i[0],a[0]]),Ji([i[1],a[1]])];return{values:r,xyMinMax:r}},polygon:function(t,e,n,o){var i=[[1/0,-1/0],[1/0,-1/0]],a=Object(j["F"])(n,(function(n){var a=t?e.pointToData(n,o):e.dataToPoint(n,o);return i[0][0]=Math.min(i[0][0],a[0]),i[1][0]=Math.min(i[1][0],a[1]),i[0][1]=Math.max(i[0][1],a[0]),i[1][1]=Math.max(i[1][1],a[1]),a}));return{values:a,xyMinMax:i}}};function ia(t,e,n,o){var i=n.getAxis(["x","y"][t]),a=Ji(Object(j["F"])([0,1],(function(t){return e?i.coordToData(i.toLocalCoord(o[t]),!0):i.toGlobalCoord(i.dataToCoord(o[t]))}))),r=[];return r[t]=a,r[1-t]=[NaN,NaN],{values:a,xyMinMax:r}}var aa={lineX:Object(j["h"])(ra,0),lineY:Object(j["h"])(ra,1),rect:function(t,e,n){return[[t[0][0]-n[0]*e[0][0],t[0][1]-n[0]*e[0][1]],[t[1][0]-n[1]*e[1][0],t[1][1]-n[1]*e[1][1]]]},polygon:function(t,e,n){return Object(j["F"])(t,(function(t,o){return[t[0]-n[0]*e[o][0],t[1]-n[1]*e[o][1]]}))}};function ra(t,e,n,o){return[e[0]-o[t]*n[0],e[1]-o[t]*n[1]]}function sa(t,e){var n=la(t),o=la(e),i=[n[0]/o[0],n[1]/o[1]];return isNaN(i[0])&&(i[0]=1),isNaN(i[1])&&(i[1]=1),i}function la(t){return t?[t[0][1]-t[0][0],t[1][1]-t[1][0]]:[NaN,NaN]}var ca=Ki,ua=n("2f1f"),da=j["k"],ha=Object($["n"])("toolbox-dataZoom_"),pa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(_["a"])(e,t),e.prototype.render=function(t,e,n,o){this._brushController||(this._brushController=new Gi(n.getZr()),this._brushController.on("brush",j["c"](this._onBrush,this)).mount()),va(t,e,this,o,n),ma(t,e)},e.prototype.onclick=function(t,e,n){ga[n].call(this)},e.prototype.remove=function(t,e){this._brushController&&this._brushController.unmount()},e.prototype.dispose=function(t,e){this._brushController&&this._brushController.dispose()},e.prototype._onBrush=function(t){var e=t.areas;if(t.isEnd&&e.length){var n={},o=this.ecModel;this._brushController.updateCovers([]);var i=new ca(fa(this.model),o,{include:["grid"]});i.matchOutputRanges(e,o,(function(t,e,n){if("cartesian2d"===n.type){var o=t.brushType;"rect"===o?(a("x",n,e[0]),a("y",n,e[1])):a({lineX:"x",lineY:"y"}[o],n,e)}})),Wo(o,n),this._dispatchZoomAction(n)}function a(t,e,i){var a=e.getAxis(t),s=a.model,l=r(t,s,o),c=l.findRepresentativeAxisProxy(s).getMinMaxSpan();null==c.minValueSpan&&null==c.maxValueSpan||(i=ae(0,i.slice(),a.scale.getExtent(),0,c.minValueSpan,c.maxValueSpan)),l&&(n[l.id]={dataZoomId:l.id,startValue:i[0],endValue:i[1]})}function r(t,e,n){var o;return n.eachComponent({mainType:"dataZoom",subType:"select"},(function(n){var i=n.getAxisModel(t,e.componentIndex);i&&(o=n)})),o}},e.prototype._dispatchZoomAction=function(t){var e=[];da(t,(function(t,n){e.push(j["d"](t))})),e.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:e})},e.getDefaultOption=function(t){var e={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:t.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}};return e},e}(oo),ga={zoom:function(){var t=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:t})},back:function(){this._dispatchZoomAction(Vo(this.ecModel))}};function fa(t){var e={xAxisIndex:t.get("xAxisIndex",!0),yAxisIndex:t.get("yAxisIndex",!0),xAxisId:t.get("xAxisId",!0),yAxisId:t.get("yAxisId",!0)};return null==e.xAxisIndex&&null==e.xAxisId&&(e.xAxisIndex="all"),null==e.yAxisIndex&&null==e.yAxisId&&(e.yAxisIndex="all"),e}function ma(t,e){t.setIconStatus("back",Zo(e)>1?"emphasis":"normal")}function va(t,e,n,o,i){var a=n._isZoomActive;o&&"takeGlobalCursor"===o.type&&(a="dataZoomSelect"===o.key&&o.dataZoomSelectActive),n._isZoomActive=a,t.setIconStatus("zoom",a?"emphasis":"normal");var r=new ca(fa(t),e,{include:["grid"]}),s=r.makePanelOpts(i,(function(t){return t.xAxisDeclared&&!t.yAxisDeclared?"lineX":!t.xAxisDeclared&&t.yAxisDeclared?"lineY":"rect"}));n._brushController.setPanels(s).enableBrush(!(!a||!s.length)&&{brushType:"auto",brushStyle:t.getModel("brushStyle").getItemStyle()})}Object(ua["b"])("dataZoom",(function(t){var e=t.getComponent("toolbox",0),n=["feature","dataZoom"];if(e&&null!=e.get(n)){var o=e.getModel(n),i=[],a=fa(o),r=Object($["q"])(t,a);return da(r.xAxisModels,(function(t){return s(t,"xAxis","xAxisIndex")})),da(r.yAxisModels,(function(t){return s(t,"yAxis","yAxisIndex")})),i}function s(t,e,n){var a=t.componentIndex,r={type:"select",$fromToolbox:!0,filterMode:o.get("filterMode",!0)||"filter",id:ha+e+a};r[n]=a,i.push(r)}}));var ya=pa;function ba(t){t.registerComponentModel(lo),t.registerComponentView(go),ao("saveAsImage",vo),ao("magicType",Oo),ao("dataView",Eo),ao("dataZoom",ya),ao("restore",Yo),Object(y["a"])(no)}var xa=n("f95e"),_a=n("cfc9");y["a"]([Bt["a"],Wt["a"],x["a"],Vt["a"],xa["a"],Nt,yn,Kn,ba]);const Oa=Object(c["e"])("record");let Sa=class extends r["c"]{created(){_a["a"].achievement.toArray().then(t=>{this.recordLoaded(t)},t=>{console.log(t)})}datesChange(){this.buildCharts()}buildCharts(){const t={title:{text:"跟打历史记录",subtext:`有效条数${this.dates.length}/${this.total}（过滤字数小于5或码长小于1.1的数据）`,left:"left"},toolbox:{feature:{dataZoom:{yAxisIndex:"none"},restore:{},saveAsImage:{}}},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},xAxis:{type:"category",data:this.dates},legend:{left:"center",data:["速度(字/分)","码长","击键(次/秒)"]},yAxis:[{type:"value",position:"left",alignTicks:!0,axisLine:{show:!0},axisLabel:{formatter:"{value}"}},{type:"value",name:"码长",position:"right",alignTicks:!0,offset:0,axisLine:{show:!0},axisLabel:{formatter:"{value}"}},{type:"value",name:"击键",position:"right",alignTicks:!0,offset:40,axisLine:{show:!0},axisLabel:{formatter:"{value}"}}],dataZoom:[{type:"inside",start:90,end:100},{start:90,end:100}],series:[{name:"速度(字/分)",type:"line",symbol:"none",sampling:"lttb",itemStyle:{color:"#F56C6C"},data:this.speeds},{name:"码长",yAxisIndex:1,type:"bar",sampling:"lttb",itemStyle:{color:"#148EBB"},data:this.codeLengthList},{name:"击键(次/秒)",yAxisIndex:2,type:"line",symbol:"none",sampling:"lttb",itemStyle:{color:"#D98E15"},data:this.hitSpeeds}]},e=b["b"](document.getElementById("record-chart"));e.setOption(t)}};Object(a["a"])([Oa.State("dates")],Sa.prototype,"dates",void 0),Object(a["a"])([Oa.State("speeds")],Sa.prototype,"speeds",void 0),Object(a["a"])([Oa.State("hitSpeeds")],Sa.prototype,"hitSpeeds",void 0),Object(a["a"])([Oa.State("codeLengthList")],Sa.prototype,"codeLengthList",void 0),Object(a["a"])([Oa.State("total")],Sa.prototype,"total",void 0),Object(a["a"])([Oa.Action("loaded")],Sa.prototype,"recordLoaded",void 0),Object(a["a"])([Object(r["d"])("dates")],Sa.prototype,"datesChange",null),Sa=Object(a["a"])([Object(r["a"])({components:{IndicatorSimple:m,Achievements:v["a"]}})],Sa);var wa=Sa,Ma=wa,Ca=(n("21e7"),Object(g["a"])(Ma,o,i,!1,null,null,null));e["default"]=Ca.exports},f820:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"markdown-body",domProps:{innerHTML:t._s(t.html)}})},i=[],a=n("9ab4"),r=n("1b40"),s='<img style="max-width:600px;" alt="木易跟打器macOS版" src="img/logo-lanscape@2x.png">\n\n# 木易跟打器-{{ version }}\n**木易跟打器**也叫 `mac跟打器` 或 `qq跟打器`，是由木易打造的当前macOS平台**唯一的**、可**直接载文**的跟打器。可通过macQQ直接群载文，计算跟打指标最终发送成绩至QQ群里，具有发文`复合指标`、历史数据`可视化`、轻便、准确、快捷等特点。\n\n如未下载`mac客户端`也可直接通过网页访问进行本地练习，支持`击键`、`键准`等复合指标；根据字频提供前3500的单字练习文本，也可直接自定义练习文本，让打字练习如虎添翼。更多功能等你来发现！\n\n> 该工具是在笔者学习虎码(性能最优的形码)的过程中，开发并完善的。并为其提供了虎码学习者的专用练习文本。\n\n## 一、关于项目\n本人是个五笔爱好者，也一直在使用五笔，曾经(差不多10年前)也做过Windows平台的跟打器[易跟打Windows版](https://github.com/owenyang0/FollowTyperAndSender)。\n\n从 `Windows` 转到 `Mac` 之后，苦于`macOS`没有可用的跟打器，偶然看到了[QT](https://gitee.com/hotleave/quick-typing)，基于他的代码做一个`macOS`上可直接载文用的跟打器，处理了一些macOS系统的兼容，于是便有了这个项目。\n\n<img style="max-width:600px;" alt="木易跟打器macOS版" src="img/ui@2x.png">\n<img style="max-width:600px;" alt="木易跟打器macOS版" src="img/kata.png">\n<img style="max-width:600px;" alt="木易跟打器macOS版" src="img/history.png">\n\n## 二、主要功能\n| 功能                            | mac客户端 | 网页版 |\n|---------------------------------|-----------|--------|\n| QQ群直接载文(F4)                    | ✅         | ❌      |\n| 潜水模式                        | ✅         | 不适用 |\n| 赛文跟打                        | ✅         | ✅      |\n| 词库练习                        | ✅         | ✅      |\n| 发文练习(F2复合指标击键、键准 ) | ✅         | ✅      |\n| 发文练习(常用单字字频排序)      | ✅         | ✅      |\n| 成绩发送      | ✅         | ✅      |\n| 历史记录(所有数据)              | ✅         | ✅      |\n| 数据可视化                      | ✅         | ✅      |\n| 按键统计(热力图)                | ✅         | ✅      |\n| 词提上传(86、091、虎码等无限制) | ✅         | ✅      |\n| 主题切换(暗黑模式)              | ✅         | ✅      |\n\n## 三、Contributing\n\n- 有问题，提个[Issue](https://github.com/owenyang0/easy-typer/issues)\n- 有想法，提个[Issue](https://github.com/owenyang0/easy-typer/issues)\n- 或通过QQ群联系我：**木易跟打器** `787343469`\n- 有能力，提个[PR](https://github.com/owenyang0/easy-typer/pulls)\n\n## 四、声明\n\n1. 本程序系私人用途，非商业产品，即不提供相应的服务\n1. 本程序所有数据均保存在用户浏览器的[IndexedDB](https://developer.mozilla.org/zh-CN/docs/Web/API/IndexedDB_API)中，**不会上传到任何服务器**\n1. 如果有侵权行为，请联系：`songallica@gmail.com`，会在看到后第一时间取消\n1. 用户使用本程序所引发的一切问题，由用户自己承担，本程序概不负责\n1. **使用本程序则旨在接受本条及以上条款**\n\n## 五、操作说明\n\n### 5.1 快捷键\n\n- `F4`：激活QQ聊天窗口，从当前鼠标位置载文（确保鼠标在需要载文的消息上面）\n- `Ctrl` + `v`：从剪切板载文（Mac下为`Cmd` + `v`，与粘贴快捷键一致）\n- `F3`：重打\n- `Esc`：暂停\n- `Enter`: 继续\n\n\n### 5.2 载文\n由于QQ macOS版本的限制，无法全文获取。可将鼠标移至聊天窗口对应消息位置，按`F4`载入文本。\n\n1. 『赛文文字』从QQ群使用指令获取赛文，然后鼠标移至赛文外，按`F4`即可\n2. 『自由文本』将要打的文本复制到剪切板，然后到主页粘贴即可\n\n### 5.3 打文\n\n> 载文后，下方的输入框自动获取焦点，当按下任**意键**时，开始计时。\n\n> 打文过程中可以使用`Esc`暂停。暂停后，使用`Enter`继续，按下`Enter`后，输入框自动获取焦点，并立即继续计时。\n\n> 如果打的过程中，或完成后，对结果不满意，可以按`F3`重新开始。计时会清零，并等待第一个键按下后，再次开始计时。\n\n> 如果赛文较长，而对照文本区域无法完全显示，那么在打文过程中，对照文本会自动根据输入进度移动滚动条，方便跟打。\n\n> 如果在打文时输入错误的字词，会以指定颜色的背景（默认是红色）显示。\n\n> 跟打时，必须将赛文**全部输入正确**才会停止计时，如果发现打完最后一个字时，并没有提示完成，计时还在继续，则需要到对照文本中查找被标成错误背景的字词并加以修正，直至全部正确。\n\n#### 词语提示\n\n> 程序提供词语提示功能，方便前期掌握词库中的词语。\n\n> 在词语提示功能打开时，程序会将赛文中的词语去词库中匹配，并计算出**码长最短**的一个组合，这个码长就是理论码长。\n\n> 开始输入后，如果没按词语提示的内容输入，那么提示的内容会同时进行调整，提示从当前位置开始的码长最短的组合。\n\n基础的词语提示以间隔加粗的方式展示，如：“这个**码长**短”。在此基础上，还提供：\n\n- 码长提示：用不同的颜色（不是背景颜色）来区分1，2，3，4码的字词。\n- 选重提示：在需要选重的字词下方增加下划线，并在下划线下方显示选重键。如果某个字词不需要选重，则下方什么都不显示。\n- 编码提示：在字词下方显示该字词的编码（不含选重键）。除了该方式外，界面右上角也有编码及选重键的提示。\n- 标点顶屏：在可以使用标点顶屏的字词下显示顶屏提示（默认是“顶”字），如果某个首选字词后是标点，则可以利用标点直接将首选上屏，这样可以减少1码。\n\n***词语提示需要上传码表后才可以使用，具体见设置中的相关内容***\n\n### 5.4 发送成绩\n\n跟打结束后，成绩会**自动**发送至QQ群当前激活的窗口并发送，并复制到系统剪切板\n\n如不想自动发送成绩，可在左侧开启 **`潜水`** 模式\n\n### 5.5 查看理想编码\n\n程序能根据词库中的词条计算出理想码长，也可以计算出该码长对应的编码。点击左侧面板中的`理想`二字，即可查看理想编码对应的编码。\n\n### 5.6 查看录入的编码\n\n程序会记录打文过程中按下的每一个按键，点击左侧面板中的`码长`二字，即可查看打文过程中按下的所有按键。\n\n## 六、设置\b\n\n> 设置中的变更，除了上传码表文件会自动保存外，其余的变动均需手动点击下方的”保存按钮进行保存\n\n- `保存`: 将变更写入数据库\n- `重置`：恢复设置到数据库中的状态\n- `恢复默认`: 将所有设置恢复到默认状态\n\n### 6.1 基础设置\n\n- `自动重新开始`：当删除输入的所有文字后自动重新开始\n- `结束条件`: 赛文结束的条件，默认为赛文中所有的字及标点都正确时结束。`打完`则比较赛文和输入的长度，一致就认为结束。但在结束时如果输入的内容中有错字，则每错一个字罚5个字，会导致速度降低\n\n### 6.2 词提设置\n\n- `词语提示`: 总开关，关闭时不会进行词语提示，默认关闭\n- `码表文件`: 输入法使用的码表文件，文件使用`多多格式`，`UTF-8`编码，如：\n\n  ```tsv\n  五  pf\n  五笔    pfr\n  笔  rkq\n  ```\n\n- `提示选项`：选择提示内容，`词语`是必选的。\n- `候选词条数`: 输入法每页候选词条数，对于需要翻页的字词，会的选重提示上增加`翻页键`。默认：9\n- `最大候选词位置`：为避免某些生僻词位置过去靠后，可以通过设置该值，将位置过于靠后的词略掉，拆成位置更靠前一些的短词或单字。该设置可能会影响码长。默认：0\n- `翻页键`：指定的词条位置比较靠后，需要翻页才能选择时，会在选重码提示上增加该符号。只需要指定提示的符号，方便自己识别，即使输入法设置了多组翻页键。默认：+\n- `选重键`：提示时展示的选重键。每个字符表示一个选重键，字符数不得少于`候选词条数`。默认：`␣23456789`\n- `选重键文本`：选重键对应的文本，当这些字符出现在字词后面时，**必须**手动选择词条。默认：` 234567890;+\'＋；’`\n- `标点顶屏提示`: 顶屏提示符号\n- `四码唯一自动上屏`：如题\n- `第五码首选上屏`：如题\n\n### 6.3 成绩设置\n\n- 标识：赛文标识，如`第999段`\n- 速度：每分钟输入的字数，数值越大说明打字的速度越快\n- 击键：每秒钟敲击按键的次数\n- 码长：平均每个字（含标点符号）所需要的按键次数\n- 理想码长：程序计算出的最短码长\n- 字数：文章总字数\n- 错字：结束时输入的错字数\n- 用时：总时间，单位秒\n- 暂停：打文时暂停的次数和总暂停时长\n- 键准：按键准确率，退格数及回改数作为失误按键来源，算法：`(总按键数 - 退格数 - 回改数 * 平均码长) / 总按键数`\n- 键法：左手与右手按键数的均衡性，算法：`(1 - abs(左 - 右) / (左 + 右)) * 100`\n- 左：左手按键次数\n- 右：右手按键次数\n- 打词：有多少字是通过词组的方式输入的\n- 打词率：打词数占总字数的比率\n- 选重：要输入的字词不在首选位置的次数\n- 回改：输入错误被删除的字数\n- 键数：总按键次数\n- 退格：退格键被按次数\n- 回车：回车键被按次数\n- 重打：重新打的次数\n- 版本：版本信息\n- 输入法：所使用的输入法名称\n- 个性签名：想立的Flag\n\n### 6.4 标点设置\n\n标点用于：\n  - 顶屏计算：仅用于顶屏计算，不将标点加入码表\n  - 码表及顶屏计算：将标点加入码表，防止码表中的标点码长过长\n\n> 如果需要将标点加入码表，则需要重新导入词库文件\n\n### 6.5 载文设置\n\n- `去除空格`: 移除文章中的所有空白字符，包括：空格、回车、换行、制表符等\n\n',l=n("339e"),c=n.n(l),u=n("4bb5");const d=new c.a.Converter;d.setOption("tables",!0),d.setOption("tasklists",!0);let h=class extends r["c"]{get html(){return d.makeHtml(s.replace("{{ version }}",this.version))}created(){document.addEventListener("click",t=>{const e=t.target;e&&"A"===(null===e||void 0===e?void 0:e.tagName)&&(t.preventDefault(),window.open(e.href,"_blank"))})}destroyed(){document.removeEventListener("click",()=>null)}};Object(a["a"])([Object(u["b"])("version")],h.prototype,"version",void 0),h=Object(a["a"])([r["a"]],h);var p=h,g=p,f=n("2877"),m=Object(f["a"])(g,o,i,!1,null,null,null);e["default"]=m.exports}}]);